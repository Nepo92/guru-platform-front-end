/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./dev/static/js/platform/api/api.js":
/*!*******************************************!*\
  !*** ./dev/static/js/platform/api/api.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"aboutCompanyAPI\": () => (/* binding */ aboutCompanyAPI),\n/* harmony export */   \"advertiserAPI\": () => (/* binding */ advertiserAPI),\n/* harmony export */   \"bannerAPI\": () => (/* binding */ bannerAPI),\n/* harmony export */   \"billAPI\": () => (/* binding */ billAPI),\n/* harmony export */   \"billTemplateAPI\": () => (/* binding */ billTemplateAPI),\n/* harmony export */   \"blockAPI\": () => (/* binding */ blockAPI),\n/* harmony export */   \"checkAPI\": () => (/* binding */ checkAPI),\n/* harmony export */   \"clientAPI\": () => (/* binding */ clientAPI),\n/* harmony export */   \"clientCleanerAPI\": () => (/* binding */ clientCleanerAPI),\n/* harmony export */   \"contractAPI\": () => (/* binding */ contractAPI),\n/* harmony export */   \"courseAPI\": () => (/* binding */ courseAPI),\n/* harmony export */   \"dealAPI\": () => (/* binding */ dealAPI),\n/* harmony export */   \"examinerAPI\": () => (/* binding */ examinerAPI),\n/* harmony export */   \"fileAPI\": () => (/* binding */ fileAPI),\n/* harmony export */   \"funnelAPI\": () => (/* binding */ funnelAPI),\n/* harmony export */   \"homeworkAPI\": () => (/* binding */ homeworkAPI),\n/* harmony export */   \"knowledgeBaseAPI\": () => (/* binding */ knowledgeBaseAPI),\n/* harmony export */   \"monitorAPI\": () => (/* binding */ monitorAPI),\n/* harmony export */   \"motivationAPI\": () => (/* binding */ motivationAPI),\n/* harmony export */   \"paymentFormAPI\": () => (/* binding */ paymentFormAPI),\n/* harmony export */   \"reglamentAPI\": () => (/* binding */ reglamentAPI),\n/* harmony export */   \"sectionAPI\": () => (/* binding */ sectionAPI),\n/* harmony export */   \"tariffAPI\": () => (/* binding */ tariffAPI),\n/* harmony export */   \"taskAPI\": () => (/* binding */ taskAPI),\n/* harmony export */   \"trainigCenterAPI\": () => (/* binding */ trainigCenterAPI),\n/* harmony export */   \"tunnelAPI\": () => (/* binding */ tunnelAPI)\n/* harmony export */ });\nconst tariffAPI = {\n\tasync getTariffs(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: '/products/courses/getTariffs',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tcontentType: 'application/json',\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync saveTariff(tariff) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: '/products/courses/saveTariff',\n\t\t\tdata: JSON.stringify(tariff),\n\t\t\tprocessData: false,\n\t\t\tcontentType: 'application/json',\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getTariff(id) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'GET',\n\t\t\turl: `/products/courses/getTariff/${id}`,\n\t\t\tdata: null,\n\t\t\tprocessData: false,\n\t\t\tcontentType: 'application/json',\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync updateTariff(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: '/products/courses/updateTariff',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tprocessData: false,\n\t\t\tcontentType: 'application/json',\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync deleteTariff(idTariff) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'GET',\n\t\t\turl: `/products/courses/deleteTariff/${idTariff}`,\n\t\t\tdata: null,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n};\n\nconst blockAPI = {\n\tasync getBlocks(formData) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: '/products/courses/getBlocks',\n\t\t\tdata: formData,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n};\n\nconst taskAPI = {\n\tasync saveTask(newTask) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: '/api/deals/saveReminder',\n\t\t\tdata: JSON.stringify(newTask),\n\t\t\tcontentType: 'application/json',\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync deleteTask(idTask) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: '/api/deals/deleteReminder',\n\t\t\tdata: JSON.stringify(idTask),\n\t\t\tcontentType: 'application/json',\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getTasks(idDeal) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: '/api/deals/getReminders',\n\t\t\tdata: JSON.stringify(idDeal),\n\t\t\tcontentType: 'application/json',\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync completeTask(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: '/api/deals/changeReminder',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tcontentType: 'application/json',\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n};\n\nconst homeworkAPI = {\n\tasync getHomework(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: 'getHomework',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tprocessData: false,\n\t\t\tcontentType: 'application/json',\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync sendComment(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: 'saveRateHomework',\n\t\t\tdata,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync saveHomework(data) {\n\t\tlet mainHref = 'saveHomework';\n\t\tconst checkArray = document.location.href.split('?');\n\n\t\tif (checkArray.length > 1) {\n\t\t\tmainHref = `${document.location.href.split('?')[0]}/saveHomework`;\n\t\t}\n\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: mainHref,\n\t\t\tdata,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t\tbeforeSend() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n};\n\nconst clientAPI = {\n\tasync getClientInfo(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: '/api/clients/getClientInfo',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tcontentType: 'application/json',\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t\tbeforeSend() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getAccess(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/api/clients/createUser',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync saveChanges(data) {\n\t\tconst request = $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/api/clients/updateClient',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\t\treturn request;\n\t},\n\tasync searchClient(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/api/clients/searchClients',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync saveClient(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/api/clients/saveClientInfo',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync hideClient(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/api/clients/changeHidden',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n};\n\nconst dealAPI = {\n\tasync getDeals(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/api/deals/getDeals',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getModules(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/api/deals/getDealsModulesInfo',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getBlocks(data) {\n\t\tconst request = $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/api/deals/getClientCourseBlocks',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getStatuses() {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'GET',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/api/deals/getDealStatuses',\n\t\t\tdata: null,\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync changeDealStatus(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/api/deals/updateDealStatus',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync changeAccessToDeal(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/api/deals/changeModulesAllowed',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync changeAccessToModules(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/api/deals/changeModulesEnabled',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getPaymentMethods() {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'GET',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/api/deals/getPaymentMethods',\n\t\t\tdata: null,\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync changeBlockEnabled(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: '/api/deals/changeClientCourseBlockEnabled',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tcontentType: 'application/json',\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\t\treturn request;\n\t},\n\tasync getDeal(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/api/deals/getDeal',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getFunnels() {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'GET',\n\t\t\turl: '/api/deals/getFunnels/',\n\t\t\tdata: null,\n\t\t\tprocessData: false,\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getCourses() {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'GET',\n\t\t\turl: '/api/deals/getCourses/',\n\t\t\tdata: null,\n\t\t\tprocessData: false,\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getStreams(formData) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: '/deals/getStreamsByIdCourse',\n\t\t\tdata: formData,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync updateDeal(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/api/deals/updateDeal',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getTariff(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: '/api/deals/getTariffs',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tcontentType: 'application/json',\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync hideDeal(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/api/deals/hideDeal',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getSocials(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'GET',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/api/deals/getSocials',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\t// Менеджер\n\tasync getManagerStreams(formData) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: '/transactions/getStreamsByIdCourse',\n\t\t\tdata: formData,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync createDeal(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/api/deals/saveDeal',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync revealDeal(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/api/deals/revealDeal',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync viewDeal(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/api/deals/getViewDeal',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getRateInfo(formData) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: 'getRateInfo',\n\t\t\tdata: formData,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getTheme(formData) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: '../products/courses/getCourse',\n\t\t\tdata: formData,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync updateAllowed(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/api/deals/updateAllowed',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n};\n\nconst billAPI = {\n\tasync checkBillSatus(idClient, idBill) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'GET',\n\t\t\turl: `/api/bills/getYKBillStatus/${idClient}/${idBill}`,\n\t\t\tdata: null,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getLinkBill(idBill) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'GET',\n\t\t\turl: `/api/bills/getBillLink/${idBill}`,\n\t\t\tdata: null,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getBills(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/api/bills/getBills',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync uploadCheck(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: '/api/bills/uploadBill',\n\t\t\tdata,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync updateBill(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/api/bills/updateBill',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync removeBill(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/api/bills/deleteBill',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync saveBill(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/api/bills/saveBill',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync generateBills(idDeal, idCBPattern) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'GET',\n\t\t\turl: `/api/bills/generateBills/${idDeal}/${idCBPattern}`,\n\t\t\tdata: null,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getBillTemplates() {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'GET',\n\t\t\turl: '/api/bills/getCommonPatterns',\n\t\t\tdata: null,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n};\n\nconst checkAPI = {\n\tasync saveSMS(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/sms-checks/saveCheck',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getUnusedSms() {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/sms-checks/getUnusedSmsChecks',\n\t\t\tdata: null,\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync updateSMS(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/sms-checks/update',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync deleteSMS(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/sms-checks/delete',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync selectSMS(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/sms-checks/tieSmsCheck',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync unSelectSMS(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/sms-checks/untieSmsCheck',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync removeImage(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: '/api/bills/deleteBillImage',\n\t\t\tdata,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync saveCheck(formData) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: '/api/bills/saveFullBill',\n\t\t\tdata: formData,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n};\n\nconst fileAPI = {\n\tasync downloadTable() {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'GET',\n\t\t\turl: '/deals/download/deals.xlsx',\n\t\t\tdata: null,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync downloadDeals() {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'GET',\n\t\t\turl: '/clients-list/download/clientDeals.xlsx',\n\t\t\tdata: null,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync downloadPayments() {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'GET',\n\t\t\turl: '/payment/download/payments.xlsx',\n\t\t\tdata: null,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n};\n\nconst monitorAPI = {\n\tasync changeBackground(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: ' ../monitor/updateCompanyBgColor',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getCompanyBg(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: ' ../monitor/getCompanyBgColor',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n};\n\nconst funnelAPI = {\n\tasync funnelAdd(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: 'saveFunnel',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getFunnelsLinks(idFunnel) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'GET',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: `getLinks/${idFunnel}`,\n\t\t\tdata: null,\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync funnelRemove(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: 'deleteFunnel',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getAudience(formData) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: 'getCommunities',\n\t\t\tdata: formData,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getChannel(formData) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: 'getChannels',\n\t\t\tdata: formData,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n};\n\nconst examinerAPI = {\n\tasync getReateItems(formData) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: 'getRateTemplatesInfo',\n\t\t\tdata: formData,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n};\n\nconst advertiserAPI = {\n\tasync distributePayment(data) {\n\t\tconst request = await $.ajax({\n\t\t\turl: '/payment/distributeFew/',\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json; charset=utf-8',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tasync: false,\n\t\t\tcache: false,\n\t\t\tprocessData: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n};\n\nconst motivationAPI = {\n\tasync getMotivation() {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'GET',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: 'getWageRates',\n\t\t\tdata: null,\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getEmptyWage(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: 'getEmptyWageRate',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync saveWageRate(updatingBox) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: 'saveWageRate',\n\t\t\tdata: JSON.stringify(updatingBox),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync removeMotivation(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: 'deleteWageRate',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n};\n\nconst tunnelAPI = {\n\tasync saveOutsideLink(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: 'saveOutsideLink',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n};\n\nconst bannerAPI = {\n\tasync removeBanner(idBanner) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'GET',\n\t\t\turl: `deleteBanner/${idBanner}`,\n\t\t\tdata: null,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync saveBanner(formData) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: 'saveBanner',\n\t\t\tdata: formData,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync saveBannerToCourse(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/banners-settings/saveCourseToBanner',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getBanners(idCompany) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'GET',\n\t\t\turl: `getBannersByCompany/${idCompany}`,\n\t\t\tdata: null,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getBannersCourse(idCourse) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'GET',\n\t\t\turl: `/banners-settings/getBannersByCourse/${idCourse}`,\n\t\t\tdata: null,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n};\n\nconst sectionAPI = {\n\tasync saveSection(formData) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tenctype: 'multipart/form-data',\n\t\t\turl: '/saveArticle',\n\t\t\tdata: formData,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\t\treturn request;\n\t},\n\tasync getSectionData(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: 'getTheme',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\t\treturn request;\n\t},\n\tasync updateSection(formData) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tenctype: 'multipart/form-data',\n\t\t\turl: 'saveArticle',\n\t\t\tdata: formData,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\t\treturn request;\n\t},\n\tasync createArticle(formData) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tenctype: 'multipart/form-data',\n\t\t\turl: 'saveArticle',\n\t\t\tdata: formData,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\t\treturn request;\n\t},\n\tasync getArticle(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: 'getArticle',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync deleteArticle(data) {\n\t\t$.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: 'deleteArticle',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\t},\n\tasync updateArticle(formData) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tenctype: 'multipart/form-data',\n\t\t\turl: 'updateArticle',\n\t\t\tdata: formData,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n};\n\nconst aboutCompanyAPI = {\n\tasync saveSection(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/a-corporate-center/about-company/saveTheme',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getSection(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: 'getTheme',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync removeSection(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/a-corporate-center/about-company/deleteTheme',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync updateSection(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: 'updateTheme',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync addArticle(formData) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tenctype: 'multipart/form-data',\n\t\t\turl: 'saveArticle',\n\t\t\tdata: formData,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getArticle(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/a-corporate-center/about-company/getArticle',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync updateArticle(formData) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tenctype: 'multipart/form-data',\n\t\t\turl: '/updateArticle',\n\t\t\tdata: formData,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync deleteArticle(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: 'deleteArticle',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n};\n\nconst paymentFormAPI = {\n\tasync getLink(idForm) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'GET',\n\t\t\turl: `/payment-form-builder/getPaymentFormLink/${idForm}`,\n\t\t\tdata: null,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getPaymentForms() {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'GET',\n\t\t\turl: '/payment-form-builder/getPaymentForms',\n\t\t\tdata: null,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync savePaymentForms(data) {\n\t\tconst request = await $.ajax({\n\t\t\turl: '/payment-form-builder/savePaymentForm',\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json; charset=utf-8',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tasync: false,\n\t\t\tcache: false,\n\t\t\tprocessData: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getOutsideLinks() {\n\t\tconst request = await $.ajax({\n\t\t\turl: '/payment-form-builder/getOutsideLinks',\n\t\t\ttype: 'GET',\n\t\t\tdata: null,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync removePaymentForm(idForm) {\n\t\tconst request = await $.ajax({\n\t\t\turl: `/payment-form-builder/deletePaymentForm/${idForm}`,\n\t\t\ttype: 'GET',\n\t\t\tdata: null,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\t\treturn request;\n\t},\n\tasync getPaymentForm(idForm) {\n\t\tconst request = await $.ajax({\n\t\t\turl: `/payment-form-builder/getPaymentForm/${idForm}`,\n\t\t\ttype: 'GET',\n\t\t\tdata: null,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync updatePaymentForm(data) {\n\t\tconst request = await $.ajax({\n\t\t\turl: '/payment-form-builder/updatePaymentForm',\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json; charset=utf-8',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tasync: false,\n\t\t\tcache: false,\n\t\t\tprocessData: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getPayFromUser(data, id) {\n\t\tconst request = await $.ajax({\n\t\t\turl: `/toPayByUser/${id}`,\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json; charset=utf-8',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tasync: false,\n\t\t\tcache: false,\n\t\t\tprocessData: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getPayFromClient(data, id) {\n\t\tconst request = await $.ajax({\n\t\t\turl: `/toPay/${id}`,\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json; charset=utf-8',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tasync: false,\n\t\t\tcache: false,\n\t\t\tprocessData: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync registrationNewClient(data) {\n\t\tconst request = await $.ajax({\n\t\t\turl: '/public-registration/new-client',\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json; charset=utf-8',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tasync: false,\n\t\t\tcache: false,\n\t\t\tprocessData: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n};\n\nconst billTemplateAPI = {\n\tasync getBillTemplates() {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'GET',\n\t\t\turl: '/bill-pattern/getCommonPatterns',\n\t\t\tdata: null,\n\t\t\tprocessData: false,\n\t\t\tcontentType: 'application/json',\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync checkPatterns(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: 'checkPatterns',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync saveBillTemplate(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/bill-pattern/saveCommonPatterns',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getBillTemplate(id) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'GET',\n\t\t\turl: `getCommonPattern/${id}`,\n\t\t\tdata: null,\n\t\t\tprocessData: false,\n\t\t\tcontentType: 'application/json',\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync removeBillTemplate(id) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'GET',\n\t\t\turl: `deleteCommonPattern/${id}`,\n\t\t\tdata: null,\n\t\t\tprocessData: false,\n\t\t\tcontentType: 'application/json',\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync updateBillTemplate(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: 'updateCommonPatterns',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n};\n\nconst knowledgeBaseAPI = {\n\tasync saveSection(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/a-corporate-center/bookmarks/saveTheme',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync saveSectionManagement(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/a-corporate-center/bookmarks/management/saveTheme',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync saveSectionAdvertiser(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/a-corporate-center/bookmarks/advertiser/saveTheme',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync saveSectionManager(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/a-corporate-center/bookmarks/advertiser/saveTheme',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getSection(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: 'getTheme',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync removeSection(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/a-corporate-center/bookmarks/deleteTheme',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync updateSection(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: 'updateTheme',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync addArticle(formData) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tenctype: 'multipart/form-data',\n\t\t\turl: 'saveArticle',\n\t\t\tdata: formData,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getArticle(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: '/a-corporate-center/bookmarks/getArticle',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync updateArticle(formData) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tenctype: 'multipart/form-data',\n\t\t\turl: '/updateArticle',\n\t\t\tdata: formData,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync deleteArticle(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: 'deleteArticle',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n};\n\nconst reglamentAPI = {\n\tasync saveReglament(formData) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tenctype: 'multipart/form-data',\n\t\t\turl: 'saveArticle',\n\t\t\tdata: formData,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getReglament(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: 'getArticle',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync updateReglament(formData) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tenctype: 'multipart/form-data',\n\t\t\turl: 'updateArticle',\n\t\t\tdata: formData,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync deleteReglament(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: 'deleteArticle',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n};\n\nconst trainigCenterAPI = {\n\tasync saveCourse(formData) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tenctype: 'multipart/form-data',\n\t\t\turl: 'saveTutorial',\n\t\t\tdata: formData,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync deleteReglament(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: 'getTutorial',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync updateCourse(formData) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tenctype: 'multipart/form-data',\n\t\t\turl: 'updateTutorial',\n\t\t\tdata: formData,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync removeCourse(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: 'deleteTutorial',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getCourseData(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: 'getTutorial',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync saveLesson(formData) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tenctype: 'multipart/form-data',\n\t\t\turl: 'saveLesson',\n\t\t\tdata: formData,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getLesson(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: 'getLesson',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync remvoveLesson(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: 'deleteLesson',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync updateLesson(formData) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tenctype: 'multipart/form-data',\n\t\t\turl: 'updateLesson',\n\t\t\tdata: formData,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync removeDocument(formData) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tenctype: 'multipart/form-data',\n\t\t\turl: 'deleteDocument',\n\t\t\tdata: formData,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n};\n\nconst clientCleanerAPI = {\n\tasync getCopies(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'GET',\n\t\t\turl: `getCopies/${data}`,\n\t\t\tdata: null,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync removeClient(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'GET',\n\t\t\turl: `../client-cleaner/deleteClient/${data}`,\n\t\t\tdata: null,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync joinCopies(idClientTo, idClientFrom, data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\tcontentType: 'application/json',\n\t\t\turl: `moveDeals/${idClientTo}/${idClientFrom}`,\n\t\t\tdata: JSON.stringify(data),\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n};\n\nconst courseAPI = {\n\tasync updateCourse(formData) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: 'updateCourse',\n\t\t\tdata: formData,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync saveCourse(formData) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: 'saveCourse',\n\t\t\tdata: formData,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getCourse(formData) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: 'getCourse',\n\t\t\tdata: formData,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync deleteCourse(formData) {\n\t\tconst request = $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: 'deleteCourse',\n\t\t\tdata: formData,\n\t\t\tprocessData: false,\n\t\t\tcontentType: false,\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n};\n\nconst contractAPI = {\n\tasync getContracts() {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'GET',\n\t\t\turl: './getDocumentLinks',\n\t\t\tdata: null,\n\t\t\tprocessData: false,\n\t\t\tcontentType: 'application/json',\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync saveContract(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: './saveDocumentLink',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tcontentType: 'application/json',\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync removeContract(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: './deleteDocumentLink',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tcontentType: 'application/json',\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync updateContract(data) {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: './updateDocumentLink',\n\t\t\tdata: JSON.stringify(data),\n\t\t\tcontentType: 'application/json',\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n\tasync getTypes() {\n\t\tconst request = await $.ajax({\n\t\t\ttype: 'GET',\n\t\t\turl: './getDocumentLinksTypes',\n\t\t\tdata: null,\n\t\t\tprocessData: false,\n\t\t\tcontentType: 'application/json',\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess() {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t});\n\n\t\treturn request;\n\t},\n};\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/api/api.js?");

/***/ }),

/***/ "./dev/static/js/platform/contentManager/contentManager.js":
/*!*****************************************************************!*\
  !*** ./dev/static/js/platform/contentManager/contentManager.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _menu_items_crm_dealCard_templates_templates_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../menu/items/crm/dealCard/templates/templates.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/templates/templates.js\");\n/* harmony import */ var _menu_items_settings_funnel_templates_funnelTemplates_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../menu/items/settings/funnel/templates/funnelTemplates.js */ \"./dev/static/js/platform/menu/items/settings/funnel/templates/funnelTemplates.js\");\n/* harmony import */ var _menu_items_settings_payment_form_templates_paymentFormTemplates_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../menu/items/settings/payment-form/templates/paymentFormTemplates.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/templates/paymentFormTemplates.js\");\n/* harmony import */ var _menu_items_settings_bill_templates_templates_billTemplatesTemplates_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../menu/items/settings/bill-templates/templates/billTemplatesTemplates.js */ \"./dev/static/js/platform/menu/items/settings/bill-templates/templates/billTemplatesTemplates.js\");\n/* harmony import */ var _menu_items_settings_contracts_templates_settingsContractsTemplates_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../menu/items/settings/contracts/templates/settingsContractsTemplates.js */ \"./dev/static/js/platform/menu/items/settings/contracts/templates/settingsContractsTemplates.js\");\n\n\n\n\n\n\n\nconst dealTemplates = new _menu_items_crm_dealCard_templates_templates_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst funnelTemplates = new _menu_items_settings_funnel_templates_funnelTemplates_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst payFormTemplates = new _menu_items_settings_payment_form_templates_paymentFormTemplates_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst billTemplatesTemplates = new _menu_items_settings_bill_templates_templates_billTemplatesTemplates_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\nconst settingsContracts = new _menu_items_settings_contracts_templates_settingsContractsTemplates_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\n\nconst DEALS = 'deals';\nconst TRANSACTIONS = 'transactions';\nconst HEAD_MANAGER_TRANSACTIONS = 'head-manager-transactions';\nconst PAYMENT_FORM_BUILDER = 'payment-form-builder';\nconst FUNNELS = 'funnels';\nconst PUBLIC_REGISTRATION = 'public-registration';\nconst PAYMENT_FORM_PUBLIC = 'payment-form-public';\nconst BILL_PATTERN = 'bill-pattern';\nconst SETTINGS_CONTRACTS = 'settings-contracts';\n\nclass ContentManager {\n  async init(data) {\n    const page = utils.getPage();\n    const prePage = utils.getPage(2);\n\n    await this.checkPage(page, data);\n    await this.checkPrePage(prePage, data);\n  }\n\n  async checkPage(page, data) {\n    switch (page) {\n      case DEALS:\n      case TRANSACTIONS:\n      case HEAD_MANAGER_TRANSACTIONS: {\n        const setDealRow = this.setDealRowToCRM.bind(this);\n        await setDealRow(data);\n        break;\n      }\n      case PAYMENT_FORM_BUILDER: {\n        const setPaymentForms = this.setPaymentForms.bind(this);\n        await setPaymentForms(data);\n        break;\n      }\n      case FUNNELS: {\n        const setFunnelsToPage = this.setFunnelsToPage.bind(this);\n        await setFunnelsToPage(data);\n        break;\n      }\n      case BILL_PATTERN: {\n        const billTemplates = billTemplatesTemplates.setBillTemplates.bind(billTemplatesTemplates);\n\n        await billTemplates(data);\n        break;\n      }\n      case SETTINGS_CONTRACTS: {\n        const contractTemplates = settingsContracts.setContract.bind(settingsContracts);\n\n        await contractTemplates(data);\n        break;\n      }\n      default: {\n        break;\n      }\n    }\n  }\n\n  async checkPrePage(prePage, data) {\n    switch (prePage) {\n      case PUBLIC_REGISTRATION: {\n        const setRegistrationForm = this.setRegistrationForm.bind(this);\n\n        await setRegistrationForm(data, true);\n        break;\n      }\n      case PAYMENT_FORM_PUBLIC: {\n        const setPaymentFormPublic = this.setPaymentFormPublic.bind(this);\n        await setPaymentFormPublic(data);\n        break;\n      }\n      default: {\n        break;\n      }\n    }\n  }\n\n  async setDealRowToCRM(data) {\n    const renderDealRows = await dealTemplates.renderDealRows.bind(dealTemplates);\n\n    return renderDealRows(data);\n  }\n\n  async setPaymentForms(data) {\n    const renderPaymentForms = await payFormTemplates.renderPaymentForms.bind(payFormTemplates);\n\n    return renderPaymentForms(data);\n  }\n\n  async setFunnelsToPage(data) {\n    const renderFunnels = await funnelTemplates.renderFunnels.bind(funnelTemplates);\n\n    return renderFunnels(data);\n  }\n\n  async setRegistrationForm(data) {\n    const setRegistration = await payFormTemplates.setRegistrationTemplate.bind(payFormTemplates);\n\n    return setRegistration(data, true);\n  }\n\n  async setPaymentFormPublic(data) {\n    const paymentFormPublic = await payFormTemplates.setRegistrationTemplate.bind(payFormTemplates);\n\n    return paymentFormPublic(data, false);\n  }\n\n  async setBillPattern(data) {\n    const paymentFormPublic = await payFormTemplates.setRegistrationTemplate.bind(payFormTemplates);\n\n    return paymentFormPublic(data, false);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ContentManager);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/contentManager/contentManager.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/analytics/analytics.js":
/*!******************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/analytics/analytics.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _params_analyticsParams_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./params/analyticsParams.js */ \"./dev/static/js/platform/menu/items/analytics/params/analyticsParams.js\");\n/* harmony import */ var _toggle_toggleRows_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./toggle/toggleRows.js */ \"./dev/static/js/platform/menu/items/analytics/toggle/toggleRows.js\");\n/* harmony import */ var _render_render_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./render/render.js */ \"./dev/static/js/platform/menu/items/analytics/render/render.js\");\n/* harmony import */ var _template_analyticsTemplate_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./template/analyticsTemplate.js */ \"./dev/static/js/platform/menu/items/analytics/template/analyticsTemplate.js\");\n/* harmony import */ var _events_funnelSettings_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./events/funnelSettings.js */ \"./dev/static/js/platform/menu/items/analytics/events/funnelSettings.js\");\n/* harmony import */ var _render_events_setColors_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./render/events/setColors.js */ \"./dev/static/js/platform/menu/items/analytics/render/events/setColors.js\");\n\n\n\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst getAnalyticParams = new _params_analyticsParams_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst toggleRows = new _toggle_toggleRows_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst renderAnalytic = new _render_render_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst analyticsTemplate = new _template_analyticsTemplate_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\nconst funnelSettings = new _events_funnelSettings_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\nconst setColors = new _render_events_setColors_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\n\nclass Analytics {\n  init(props) {\n    if (this.access()) {\n      utils.hideLoader();\n\n      const analyticsParams = getAnalyticParams.init(props);\n\n      const render = this.render.bind(this);\n\n      analyticsParams.then((params) => {\n        render(params).then(() => {\n          const items = [toggleRows, funnelSettings, setColors];\n\n          items.forEach((item) => {\n            const init = item.init.bind(item);\n            init(params);\n          });\n\n          this.searchMetric();\n        });\n      });\n    }\n  }\n\n  access() {\n    const page = utils.getPage();\n\n    const analytics = ['funnel', 'additional', 'traffic'];\n\n    return analytics.includes(page);\n  }\n\n  async render(props) {\n    if (props) {\n      this.getAnalyticBoard(props);\n\n      const items = [renderAnalytic];\n\n      items.forEach((item) => {\n        const init = item.init.bind(item);\n        init(props);\n      });\n    }\n  }\n\n  getAnalyticBoard(props) {\n    const div = document.createElement('div');\n    div.classList.add('analytic__wrapper-board');\n\n    div.innerHTML = analyticsTemplate.analyticsBoard(props);\n\n    const wrapper = document.querySelector('[analytics-board]');\n    wrapper.appendChild(div);\n  }\n\n  searchMetric() {\n    const search = document.querySelector('.analytic__metric-search');\n\n    if (search) {\n      const metrics = Array.from(document.querySelectorAll('.analytic__wrapper-board .analytic__row'));\n\n      const filtredMetrics = metrics.filter((el) => !el.classList.contains('manager-board') && !el.classList.contains('manager__row'));\n\n      const initSearch = this.initSearch.bind(this, filtredMetrics);\n\n      search.addEventListener('input', initSearch);\n    }\n  }\n\n  initSearch(filtredMetrics, e) {\n    const t = e.target;\n\n    const value = t.value.toLowerCase();\n\n    filtredMetrics.forEach((item) => {\n      const metricClass = item.classList[item.classList.length - 1];\n\n      const rows = document.querySelectorAll(`.analytic__row.${metricClass}`);\n\n      if (~item.innerText.toLowerCase().indexOf(value)) {\n        rows.forEach((elem) => {\n          elem.classList.remove('hide');\n        });\n      } else {\n        rows.forEach((elem) => {\n          elem.classList.add('hide');\n        });\n      }\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Analytics);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/analytics/analytics.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/analytics/events/funnelSettings.js":
/*!******************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/analytics/events/funnelSettings.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass FunnelSettings {\n  init() {\n    const settingsBtn = document.querySelector('.top-nav__item_active')?.querySelector('.theme-setting__tab-settings');\n\n    if (settingsBtn) {\n      const menu = document.querySelector('[js-menu-funnel-setting]');\n\n      const openSettings = this.openSettings.bind(this, menu);\n\n      const settings = utils.setCloneElement(settingsBtn);\n      settings.addEventListener('click', openSettings);\n\n      const closeSettings = document.querySelector('[js-menu-funnel-setting-close-btn]');\n\n      if (closeSettings) {\n        const close = this.closeSettings.bind(this, menu);\n        closeSettings.addEventListener('click', close);\n      }\n    }\n  }\n\n  openSettings(menu) {\n    utils.openModalAnimation(menu, true);\n  }\n\n  closeSettings(menu) {\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n    utils.closeModalAnimation(menu, wrapper, false, false);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FunnelSettings);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/analytics/events/funnelSettings.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/analytics/params/analyticsParams.js":
/*!*******************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/analytics/params/analyticsParams.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _startParams_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./startParams.js */ \"./dev/static/js/platform/menu/items/analytics/params/startParams.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst startParams = new _startParams_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass AnalyticsParams {\n  async init(props) {\n    const period = document.querySelector('[js-period]');\n\n    if (period) {\n      const params = await startParams.init();\n\n      const showedPeriod = this.getPeriod(params);\n      const analyticsProps = this.getProps(props);\n\n      this.setColorsToColumn(analyticsProps, props);\n\n      return await {\n        ...analyticsProps,\n        pack: {\n          ...analyticsProps.pack,\n          analytics: {\n            ...analyticsProps.pack.analytics,\n            showedPeriod,\n          },\n        },\n      };\n    }\n  }\n\n  setColorsToColumn(analyticsProps, props) {\n    analyticsProps.pack.analytics.kpdColor = props.pack.analytics.kpdColor;\n    analyticsProps.pack.analytics.ratingColor = props.pack.analytics.ratingColor;\n\n    analyticsProps.pack.analytics.colors = {\n      greens: ['totalRevenue', 'trafficRevenue', 'additionalRevenue', 'average', 'averageTrafficMailing', 'averageCheckTraffic', 'averageAdditional'],\n      reds: ['advExpenses', 'rejectsRow'],\n      blues: ['sales', 'salesTraffic', 'salesMailing', 'salesAdditional', 'profit', 'advShow', 'advClick', 'advApplication', 'importantRow', 'invoices', 'salesNewClient', 'salesNewClientNM', 'salesNewClientM', 'prescribed'],\n      pink: ['newClientsDo', 'newClientsTraffic', 'newClientsAll', 'newClientsWithoutMailing', 'newClientsWithMailing'],\n      purple: ['showPrice', 'clickPrice', 'applicationPrice', 'importantPriceRow', 'invoicePrice', 'clientPrice', 'clientPriceDo'],\n      yellow: ['showToClick', 'clickToApplication', 'applicationToInvoice', 'invoiceToClient', 'applicationToClient', 'clickToApplicationDo', 'CV5Row', 'prescribedToSale'],\n    };\n  }\n\n  getPeriod(params) {\n    const getParams = this.getParams(params);\n\n    const { sep, showedPeriod, segment } = getParams;\n\n    for (let index = 0; index <= segment; index++) {\n      switch (sep) {\n        case 0: {\n          this.getPeriodMonths(getParams, index);\n          break;\n        }\n        case 1: {\n          this.getPeriodWeeks(getParams, index);\n          break;\n        }\n        case 2: {\n          this.getPeriodDays(getParams, index);\n          break;\n        }\n        default: {\n          break;\n        }\n      }\n    }\n\n    return [...showedPeriod];\n  }\n\n  getParams(params) {\n    const { start } = params;\n\n    return {\n      ...params,\n      newDate: new Date(start.getFullYear(), start.getMonth(), start.getDate(), 23, 59, 59, 999),\n      week: {\n        index: null,\n        name: null,\n      },\n      nextWeek: null,\n    };\n  }\n\n  getProps(props) {\n    const { pack } = props;\n    const { analytics } = pack;\n\n    const total = {\n      company: {\n        general: {},\n        months: {},\n      },\n      managers: {\n        general: {},\n        months: {},\n      },\n    };\n\n    const analyticsData = Object.entries(analytics);\n\n    analyticsData.forEach((item, index) => {\n      const key = item[0];\n      const value = item[1];\n\n      if (key === 'kpdColor' || key === 'ratingColor') return false;\n\n      if (index % 2 === 0 && item !== null && value !== null) {\n        total.company.general[key] = value.sum;\n        total.company.months[key] = value.sums;\n      } else if (index % 2 !== 0 && item !== null && value !== null) {\n        const managerData = Object.entries(value);\n\n        total.managers.general[key] = [];\n        total.managers.months[key] = [];\n\n        managerData.forEach((elem) => {\n          const id = elem[0];\n          const val = elem[1];\n\n          const managerTotal = {\n            id: +id,\n            value: val.sum,\n          };\n\n          total.managers.general[key].push(managerTotal);\n\n          const managerMonths = {\n            id: +id,\n            value: val.sums,\n          };\n\n          total.managers.months[key].push(managerMonths);\n        });\n      }\n    });\n\n    const newProps = {\n      ...props,\n      pack: {\n        ...pack,\n        analytics: total,\n      },\n    };\n\n    return newProps;\n  }\n\n  getPeriodMonths(params, index) {\n    const { segment, showedPeriod } = params;\n\n    if (index === segment) {\n      return false;\n    }\n\n    const monthsNames = utils.getMonths();\n\n    let name;\n\n    monthsNames.forEach((item, count) => {\n      if (index - 11 <= 0 && count === index) {\n        name = item;\n      } else if (index - 12 >= 0 && count === index - 12) {\n        name = item;\n      }\n    });\n\n    const month = {\n      index,\n      name,\n    };\n\n    showedPeriod.push(month);\n  }\n\n  getPeriodWeeks(params, index) {\n    const { newDate, end, segment } = params;\n\n    // eslint-disable-next-line\n    const current = index === 0 ? false : index === 1 ? false : index === segment ? false : index;\n\n    if (newDate <= end) {\n      switch (index) {\n        case 0: {\n          const getFirstWeek = this.getFirstWeek.bind(this);\n          getFirstWeek(params, index);\n          break;\n        }\n        case 1: {\n          const getSecondWeek = this.getSecondWeek.bind(this);\n          getSecondWeek(params, index);\n          break;\n        }\n        case current: {\n          const getCurrentWeek = this.getCurrentWeek.bind(this);\n          getCurrentWeek(params, index);\n          break;\n        }\n        case segment: {\n          const getLastWeek = this.getLastWeek.bind(this);\n          getLastWeek(params, index);\n          break;\n        }\n        default: {\n          break;\n        }\n      }\n    }\n  }\n\n  getDate(date) {\n    const day = date.getDate() < 10 ? `0${date.getDate()}` : date.getDate();\n    const month = date.getMonth() + 1 < 10 ? `0${date.getMonth() + 1}` : date.getMonth() + 1;\n    const year = date.getFullYear();\n\n    return `${day}.${month}.${year}`;\n  }\n\n  getFirstWeek(params, index) {\n    const { newDate, showedPeriod } = params;\n\n    const newWeek = {};\n\n    newWeek.name = this.getDate(newDate);\n    newWeek.index = index;\n\n    showedPeriod.push(newWeek);\n  }\n\n  getSecondWeek(params, index) {\n    const { start, showedPeriod, end } = params;\n\n    const startSecondWeek = 7 - start.getDay();\n\n    const year = start.getFullYear();\n    const month = start.getMonth();\n    const day = start.getDate() + startSecondWeek + 1;\n\n    params.nextWeek = new Date(year, month, day, 23, 59, 59, 999);\n\n    if (params.nextWeek < end) {\n      const newWeek = {};\n\n      newWeek.name = this.getDate(params.nextWeek);\n      newWeek.index = index;\n\n      showedPeriod.push(newWeek);\n    }\n  }\n\n  getCurrentWeek(params, index) {\n    const { showedPeriod, nextWeek, end } = params;\n\n    const year = nextWeek.getFullYear();\n    const month = nextWeek.getMonth();\n    const day = nextWeek.getDate() + 7;\n\n    const current = new Date(year, month, day, 23, 59, 59, 999);\n    params.nextWeek = current;\n\n    if (current < end) {\n      const newWeek = {};\n\n      newWeek.name = this.getDate(current);\n      newWeek.index = index;\n\n      showedPeriod.push(newWeek);\n    }\n  }\n\n  getLastWeek(params, index) {\n    const { showedPeriod, nextWeek, end } = params;\n\n    const newWeek = {};\n\n    const year = nextWeek.getFullYear();\n    const month = nextWeek.getMonth();\n    const day = nextWeek.getDate() + 7;\n\n    const preLast = new Date(year, month, day, 23, 59, 59, 999);\n\n    if (preLast < end) {\n      newWeek.name = this.getDate(preLast);\n      newWeek.index = index;\n\n      showedPeriod.push(newWeek);\n    }\n  }\n\n  getPeriodDays(params, index) {\n    const { showedPeriod, newDate } = params;\n\n    let day;\n\n    const year = newDate.getFullYear();\n    const month = newDate.getMonth();\n\n    if (index === 0) {\n      const date = newDate.getDate();\n\n      const startDate = new Date(year, month, date, 23, 59, 59, 999);\n      params.newDate = startDate;\n\n      day = {\n        index,\n        name: this.getDate(startDate),\n      };\n    } else {\n      const date = newDate.getDate() + 1;\n\n      const current = new Date(year, month, date, 23, 59, 59, 999);\n      params.newDate = current;\n\n      day = {\n        index,\n        name: this.getDate(current),\n      };\n    }\n\n    showedPeriod.push(day);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AnalyticsParams);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/analytics/params/analyticsParams.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/analytics/params/startParams.js":
/*!***************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/analytics/params/startParams.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass StartParams {\n  async init() {\n    const period = document.querySelector('[js-period]');\n\n    if (period) {\n      const periodData = this.getPeriodData();\n\n      if (periodData) {\n        periodData.segmentParams = await this.getSegmentOfPeriod(periodData);\n\n        const params = this.getParams(periodData);\n        params.sep = periodData.sep;\n\n        return params;\n      }\n    }\n  }\n\n  getPeriodData() {\n    const startDate = document.querySelector('.nav-left__start [js-start-date]')?.value;\n    const endDate = document.querySelector('.nav-left__end [js-end-date]')?.value;\n\n    if (startDate && endDate) {\n      const start = utils.dateParse(startDate);\n      const end = utils.dateParse(endDate);\n\n      const diff = new Date(end - start);\n\n      const period = document.querySelector('[js-period]');\n\n      if (period) {\n        const sep = +period.value;\n\n        return {\n          sep,\n          start,\n          end,\n          diff,\n          segment: null,\n        };\n      }\n    }\n  }\n\n  getSegmentOfPeriod(periodData) {\n    const {\n      sep,\n      start,\n      end,\n      diff,\n    } = periodData;\n    let { segment } = periodData;\n\n    const day = 1000 * 60 * 60 * 24;\n\n    switch (sep) {\n      case 0: {\n        const startYear = start.getFullYear();\n        const endYear = end.getFullYear();\n\n        const startMonths = start.getMonth();\n        const endMonths = end.getDate() === 1 ? end.getMonth() - 1 : end.getMonth();\n\n        segment = Math.floor((endYear - startYear) * 12 + (endMonths - startMonths) + 1);\n\n        return {\n          segment,\n          start,\n          end,\n          sep,\n          diff,\n        };\n      }\n      case 1: {\n        segment = Math.ceil(diff / (day * 7));\n\n        return {\n          segment,\n          start,\n          end,\n          sep,\n          diff,\n        };\n      }\n      case 2: {\n        segment = Math.floor(diff / day);\n\n        return {\n          segment,\n          start,\n          end,\n          sep,\n          diff,\n        };\n      }\n      default: {\n        break;\n      }\n    }\n  }\n\n  getParams(periodData) {\n    const { segmentParams } = periodData;\n\n    if (segmentParams) {\n      const {\n        start,\n        end,\n        segment,\n        diff,\n        sep,\n      } = segmentParams;\n\n      return {\n        showedPeriod: [],\n        segment,\n        start,\n        end,\n        diff,\n        sep,\n      };\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (StartParams);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/analytics/params/startParams.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/analytics/render/events/renderMainTable.js":
/*!**************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/analytics/render/events/renderMainTable.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass RenderMainTable {\n  init(props) {\n    this.renderGeneralDate(props);\n  }\n\n  renderGeneralDate(rowsProps) {\n    const { pack } = rowsProps;\n    const { analytics, filter } = pack;\n    const {\n      company,\n      showedPeriod,\n      colors,\n    } = analytics;\n    const { months } = company;\n\n    this.setValuesWrapper();\n\n    if (showedPeriod.length) {\n      const wrapper = document.querySelector('.analytic-board__values');\n\n      this.setValuesHeader(showedPeriod, wrapper);\n      this.setMetricValues(months, wrapper, colors, filter);\n    }\n  }\n\n  setValuesWrapper() {\n    const board = document.querySelector('[analytics-board]');\n\n    const div = document.createElement('div');\n    div.classList.add('analytic-board__values');\n    div.classList.add('custom-scroll');\n\n    board.appendChild(div);\n  }\n\n  setValuesHeader(period, wrapper) {\n    const div = document.createElement('div');\n    div.classList.add('analytic-board__header-values');\n    div.classList.add('right');\n\n    wrapper.appendChild(div);\n\n    const header = document.querySelector('.analytic-board__header-values');\n\n    period.forEach((item) => {\n      const column = document.createElement('div');\n      column.classList.add('analytic__column');\n      column.innerText = item.name;\n      header.appendChild(column);\n    });\n  }\n\n  setMetricValues(months, wrapper, colors, filter) {\n    const monthsItems = Object.entries(months);\n\n    if (monthsItems.length) {\n      monthsItems.forEach((item) => {\n        const key = item[0];\n        const values = item[1];\n\n        const blockName = utils.getBlockName(key, filter);\n\n        const page = utils.getPage();\n\n        if (filter.visableSetting[blockName] && page === 'traffic') {\n          this.setRows(key, values, wrapper, colors);\n        } else if (page !== 'traffic') {\n          this.setRows(key, values, wrapper, colors);\n        }\n      });\n    }\n  }\n\n  setRows(key, values, wrapper, colors) {\n    const {\n      greens,\n      reds,\n      blues,\n      pink,\n      purple,\n      yellow,\n    } = colors;\n\n    const row = document.createElement('div');\n    row.classList.add('analytic__row');\n    row.classList.add('metric');\n\n    // eslint-disable-next-line\n    const color = greens.includes(key) ? 'green' : reds.includes(key) ? 'red' : blues.includes(key) ? 'blue' : pink.includes(key) ? 'pink' : purple.includes(key) ? 'purple' : yellow.includes(key) ? 'yellow-column' : '';\n\n    row.classList.add(key);\n\n    if (values.length) {\n      values.forEach((elem) => {\n        const column = document.createElement('div');\n        column.classList.add('analytic__column');\n        column.innerText = key === 'rating' ? utils.getSymboRoubles(key, elem !== null ? elem.toFixed(2) : elem, true) : utils.getSymboRoubles(key, elem, true);\n\n        row.appendChild(column);\n      });\n\n      wrapper.appendChild(row);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RenderMainTable);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/analytics/render/events/renderMainTable.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/analytics/render/events/renderManagerLayer.js":
/*!*****************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/analytics/render/events/renderManagerLayer.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass RenderManagerLayer {\n  init(props) {\n    const { pack } = props;\n    const {\n      analytics,\n      managers,\n      filter,\n    } = pack;\n    const { managers: managersData } = analytics;\n    const { general, months } = managersData;\n\n    this.setManagerRowName(managers, general, months, filter);\n  }\n\n  setManagerRowName(managers, general, months) {\n    const wrapper = document.querySelector('.analytic__wrapper-board');\n\n    const rows = wrapper.querySelectorAll('[total-row]');\n    const metricsRows = document.querySelectorAll('.analytic-board__values .analytic__row.metric');\n\n    const items = [rows, metricsRows];\n\n    items.forEach((item) => {\n      this.setManagerBoards(item);\n    });\n\n    this.setManagers(managers, general, months);\n  }\n\n  setManagerBoards(rows) {\n    rows.forEach((item) => {\n      const metricType = item.classList[item.classList.length - 1];\n      const div = document.createElement('div');\n      div.classList.add('analytic__row');\n      div.classList.add('manager-board');\n\n      if (metricType === 'rating') {\n        div.classList.add('board-rating');\n      }\n\n      div.classList.add(metricType);\n\n      item.parentNode.insertBefore(div, item.nextElementSibling);\n    });\n  }\n\n  setManagers(managers, general, months) {\n    const managersItems = Object.entries(managers);\n\n    const boards = document.querySelectorAll('.analytic__wrapper-board .analytic__row.manager-board');\n\n    const items = [boards];\n\n    items.forEach((item) => {\n      this.setManagerNameRow(item, managersItems);\n    });\n\n    this.setManagerTotal(managersItems, general, months);\n\n    const managerMetric = document.querySelectorAll('.analytic-board__values .manager-board');\n    const monthsItems = Object.entries(months);\n\n    this.setManagersMetric(monthsItems, managerMetric);\n  }\n\n  setManagerNameRow(boards, managerItems) {\n    boards.forEach((elem) => {\n      managerItems.forEach((item) => {\n        this.setManagerItem(item, elem);\n      });\n    });\n  }\n\n  setManagerItem(item, elem) {\n    const id = item[0];\n    const manager = item[1];\n\n    const div = document.createElement('div');\n    div.classList.add('analytic__row');\n    div.classList.add('manager__row');\n    div.setAttribute('data-id', id);\n\n    const name = document.createElement('div');\n    name.classList.add('analytic-board__name');\n    name.classList.add('manager__name');\n    name.classList.add('manager__name--analytic');\n    name.innerText = manager.name;\n\n    div.appendChild(name);\n\n    elem.appendChild(div);\n  }\n\n  setManagerTotal(managers, general) {\n    const rows = document.querySelectorAll('.analytic__wrapper-board .manager-board');\n\n    if (rows.length) {\n      const managerLayer = [];\n\n      const generalData = Object.entries(general);\n\n      rows.forEach((item) => {\n        const type = item.classList[item.classList.length - 1];\n\n        let board;\n        let valuesTotal;\n\n        if (type) {\n          generalData.forEach((elem) => {\n            const metric = elem[0].split('manager')[1].toLowerCase();\n            const values = elem[1];\n\n            if (metric === type.toLowerCase()) {\n              board = Array.from(item.children);\n              valuesTotal = values;\n\n              const obj = {\n                board,\n                valuesTotal,\n                type,\n              };\n\n              managerLayer.push(obj);\n            }\n          });\n        }\n      });\n\n      if (managerLayer.length) {\n        managerLayer.forEach((elem) => {\n          const { board, valuesTotal, type } = elem;\n\n          const values = Object.entries(valuesTotal);\n\n          values.forEach((item) => {\n            const value = item[1];\n            const currentRow = board.filter((el) => +el.getAttribute('data-id') === value.id)[0];\n\n            const total = document.createElement('div');\n            total.classList.add('analytic__column');\n            total.classList.add('total');\n\n            const metricType = type[0].toLowerCase() + type.slice(1, type.length);\n            total.innerText = metricType === 'rating' ? utils.getSymboRoubles(metricType, value.value !== null ? value.value.toFixed(2) : value.value, false) : utils.getSymboRoubles(metricType, value.value, false);\n\n            currentRow.appendChild(total);\n          });\n        });\n      }\n    }\n  }\n\n  setManagersMetric(monthsItems, rows) {\n    rows.forEach((item) => {\n      if (item.classList.contains('rating') && item.previousElementSibling.classList.contains('metric')) {\n        item.classList.add('ml_0');\n      }\n\n      const metricBoard = !item.classList.contains('rating') ? item.classList[item.classList.length - 1] : item.classList[item.classList.length - 2];\n      const type = metricBoard[0].toLowerCase() + metricBoard.slice(1, metricBoard.length);\n\n      const months = monthsItems.filter((el) => {\n        const metricType = el[0].split('manager')[1];\n        const metric = metricType[0].toLowerCase() + metricType.slice(1, metricType.length);\n\n        if (type === metric) {\n          return el[1];\n        }\n      });\n\n      if (months[0]) {\n        const values = months[0][1];\n\n        values.forEach((elem) => {\n          const div = document.createElement('div');\n          div.classList.add('analytic__row');\n          div.classList.add('manager__row');\n          div.classList.add('ml_0');\n          div.setAttribute('data-id', elem.id);\n\n          elem.value.forEach((subj) => {\n            const column = document.createElement('div');\n            column.classList.add('analytic__column');\n            column.innerText = type === 'rating' ? utils.getSymboRoubles(type, subj !== null ? subj.toFixed(2) : subj, true) : utils.getSymboRoubles(type, subj, true);\n            div.appendChild(column);\n          });\n\n          item.appendChild(div);\n        });\n      }\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RenderManagerLayer);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/analytics/render/events/renderManagerLayer.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/analytics/render/events/setColors.js":
/*!********************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/analytics/render/events/setColors.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass SetColors {\n  init(props) {\n    const { pack } = props;\n    const { analytics } = pack;\n    const { kpdColor, ratingColor } = analytics;\n\n    this.setColorsToColumnTotal(kpdColor, ratingColor);\n    this.setColorToManagers(kpdColor, ratingColor);\n  }\n\n  setColorsToColumnTotal(kpdColor, ratingColor) {\n    const shareAdvExpensesTrafficPage = {\n      rows: document.querySelectorAll('[total-row].shareAdvExpensesTrafficPage'),\n      limits: [35, 25, 0],\n    };\n\n    const kpd = {\n      rows: document.querySelectorAll('.analytic__row.kpd'),\n      limits: [kpdColor?.doubleRed, kpdColor?.doubleYellow, kpdColor?.doubleGreen],\n    };\n\n    const rating = {\n      rows: document.querySelectorAll('.analytic__row.rating'),\n      limits: [ratingColor?.doubleRed, ratingColor?.doubleYellow, ratingColor?.doubleGreen],\n    };\n\n    const items = [shareAdvExpensesTrafficPage, kpd, rating];\n\n    items.forEach((item) => {\n      this.setColors(item);\n    });\n  }\n\n  setColorToManagers(kpdColor, ratingColor) {\n    const shareAdvExpensesTrafficPage = {\n      columns: document.querySelectorAll('.manager-board.shareAdvExpensesTrafficPage .analytic__column'),\n      limits: [35, 25, 0],\n    };\n\n    const kpd = {\n      columns: document.querySelectorAll('.manager-board.kpd .analytic__column'),\n      limits: [kpdColor?.doubleRed, kpdColor?.doubleYellow, kpdColor?.doubleGreen],\n    };\n\n    const rating = {\n      columns: document.querySelectorAll('.manager-board.rating .analytic__column'),\n      limits: [ratingColor?.doubleRed, ratingColor?.doubleYellow, ratingColor?.doubleGreen],\n    };\n\n    const items = [rating, shareAdvExpensesTrafficPage, kpd];\n\n    items.forEach((item) => {\n      this.setColors(item);\n    });\n  }\n\n  setColors(data) {\n    const { limits } = data;\n\n    if (data.rows?.length) {\n      data.rows.forEach((item) => {\n        const columns = item.querySelectorAll('.analytic__column');\n\n        if (columns.length) {\n          columns.forEach((elem) => {\n            this.setColorForMetric(elem, limits);\n          });\n        }\n      });\n    }\n\n    if (data.columns?.length) {\n      data.columns.forEach((elem) => {\n        this.setColorForMetric(elem, limits);\n      });\n    }\n  }\n\n  setColorForMetric(item, values) {\n    const [red, yellow, green] = values;\n\n    const checkNumber = parseInt(item.innerText, 10);\n\n    if (!Number.isNaN(checkNumber) && checkNumber > red) {\n      item.classList.add('red');\n    } else if (!Number.isNaN(checkNumber) && checkNumber > yellow) {\n      item.classList.add('yellow');\n    } else if (!Number.isNaN(checkNumber) && checkNumber >= green) {\n      item.classList.add('green');\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SetColors);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/analytics/render/events/setColors.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/analytics/render/render.js":
/*!**********************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/analytics/render/render.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_renderMainTable_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/renderMainTable.js */ \"./dev/static/js/platform/menu/items/analytics/render/events/renderMainTable.js\");\n/* harmony import */ var _events_renderManagerLayer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/renderManagerLayer.js */ \"./dev/static/js/platform/menu/items/analytics/render/events/renderManagerLayer.js\");\n\n\n\nconst renderMainTable = new _events_renderMainTable_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst renderMangerLayer = new _events_renderManagerLayer_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass Render {\n  init(props) {\n    const items = [renderMainTable, renderMangerLayer];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(props);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Render);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/analytics/render/render.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/analytics/template/analyticsTemplate.js":
/*!***********************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/analytics/template/analyticsTemplate.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass AnalyticsTemplate {\n  analyticsBoard(props) {\n    const { pack } = props;\n    const { analytics, filter } = pack;\n    const { company, period, colors } = analytics;\n    const { general, months } = company;\n\n    const properties = this.getPeriodItemsEmpty(general, period, months, 'properties', colors, filter);\n\n    return `\n      <div class=\"analytic-board__header left\">\n        <div class=\"analytic-board__name search-icon\">\n          <input type=\"text\" class=\"platform__input analytic__metric-search\" placeholder=\"Метрики\">\n        </div>\n        <div class=\"analytic__column total total-header\">Итого</div>\n      </div>\n      ${properties.join('')}\n    `;\n  }\n\n  getName(item) {\n    const banned = ['kpdColor', 'ratingColor'];\n\n    const page = utils.getPage();\n\n    if (banned.includes(item)) return false;\n\n    const items = [\n      {\n        eng: 'totalRevenue',\n        rus: 'Выручка общая',\n      },\n      {\n        eng: 'trafficRevenue',\n        rus: 'Выручка с трафика',\n      },\n      {\n        eng: 'additionalRevenue',\n        rus: `${page === 'additional' ? 'Выручка' : 'Выручка с базы'}`,\n      },\n      {\n        eng: 'advExpenses',\n        rus: 'Расходы на рекламу',\n      },\n      {\n        eng: 'shareAdvExpensesTrafficPage',\n        rus: '% ДРР (доля рекламных расходов)',\n      },\n      {\n        eng: 'kpd',\n        rus: 'КПД',\n      },\n      {\n        eng: 'sales',\n        rus: 'Продажи всего',\n      },\n      {\n        eng: 'salesTraffic',\n        rus: 'Продажи трафик',\n      },\n      {\n        eng: 'salesMailing',\n        rus: 'Продажи рассылка',\n      },\n      {\n        eng: 'salesAdditional',\n        rus: `${page === 'additional' ? 'Продажи' : 'Продажи база'}`,\n      },\n      {\n        eng: 'rejectsRow',\n        rus: `${page === 'funnel' ? 'Отказы' : 'Отказов'}`,\n      },\n      {\n        eng: 'average',\n        rus: 'Средний чек',\n      },\n      {\n        eng: 'averageTrafficMailing',\n        rus: 'Средний чек трафик',\n      },\n      {\n        eng: 'averageAdditional',\n        rus: `${page === 'additional' ? 'Средний чек' : 'Средний чек база'}`,\n      },\n      {\n        eng: 'profit',\n        rus: 'Выручка общая - Расходы на рекламу',\n      },\n      {\n        eng: 'rating',\n        rus: 'Рейтинг',\n      },\n      {\n        eng: 'CV5Row',\n        rus: 'CV из целевой заявки в оплату по ДО',\n      },\n      {\n        eng: 'clickToApplicationDo',\n        rus: 'CV4 из заявки в оплату по ДО',\n      },\n      {\n        eng: 'applicationToClient',\n        rus: 'CV4 из заявки в оплату',\n      },\n      {\n        eng: 'invoiceToClient',\n        rus: 'CV3 из заказа в оплату',\n      },\n      {\n        eng: 'applicationToInvoice',\n        rus: 'CV2 из заявки в заказ',\n      },\n      {\n        eng: 'clickToApplication',\n        rus: 'CV1 из клика в заявку',\n      },\n      {\n        eng: 'showToClick',\n        rus: 'CV из показа в клик',\n      },\n      {\n        eng: 'clientPriceDo',\n        rus: 'Стоимость клиента по ДО',\n      },\n      {\n        eng: 'clientPrice',\n        rus: 'Стоимость клиента',\n      },\n      {\n        eng: 'invoicePrice',\n        rus: 'Стоимость заказа',\n      },\n      {\n        eng: 'importantPriceRow',\n        rus: 'Стоимость целевой заявки',\n      },\n      {\n        eng: 'applicationPrice',\n        rus: 'Стоимость заявки',\n      },\n      {\n        eng: 'clickPrice',\n        rus: 'Стоимость клика',\n      },\n      {\n        eng: 'showPrice',\n        rus: 'Стоимость 1000 показов',\n      },\n      {\n        eng: 'averageCheckTraffic',\n        rus: 'Средний чек',\n      },\n      {\n        eng: 'newClientsWithMailing',\n        rus: 'Дотекло клиентов по ДО (по рассылке)',\n      },\n      {\n        eng: 'newClientsWithoutMailing',\n        rus: 'Дотекло клиентов по ДО (без рассылки)',\n      },\n      {\n        eng: 'newClientsAll',\n        rus: 'Дотекло клиентов по ДО',\n      },\n      {\n        eng: 'newClientsTraffic',\n        rus: 'Новых клиентов с трафика за период',\n      },\n      {\n        eng: 'newClientsDo',\n        rus: 'Новых клиентов по ДО',\n      },\n      {\n        eng: 'rejectsRow',\n        rus: 'Отказов',\n      },\n      {\n        eng: 'salesNewClientM',\n        rus: 'Продаж c рассылки',\n      },\n      {\n        eng: 'salesNewClientNM',\n        rus: 'Продаж без рассылки',\n      },\n      {\n        eng: 'salesNewClient',\n        rus: 'Продаж',\n      },\n      {\n        eng: 'invoices',\n        rus: 'Заказов',\n      },\n      {\n        eng: 'importantRow',\n        rus: 'Целевых заявок',\n      },\n      {\n        eng: 'advApplication',\n        rus: 'Заявок',\n      },\n      {\n        eng: 'advClick',\n        rus: 'Кликов',\n      },\n      {\n        eng: 'advShow',\n        rus: 'Показов',\n      },\n      {\n        eng: 'prescribedToSale',\n        rus: 'CV из прописанных людей в продажи',\n      },\n      {\n        eng: 'prescribed',\n        rus: 'Количество прописанных людей',\n      },\n    ];\n\n    const current = items.find((el) => el.eng === item);\n\n    return current.rus;\n  }\n\n  getPeriod(period, hasName) {\n    const periodItems = period.map((item, index) => {\n      return `\n          <div class=\"analytic__column ${!hasName ? 'main' : ''} ${(!hasName && index === period.length - 1) ? 'br_0' : ''}\">${hasName ? item.name : ''}</div>\n        `;\n    });\n\n    return periodItems;\n  }\n\n  getPeriodItemsEmpty(general, period, months, settings, colors, filter) {\n    const {\n      greens,\n      reds,\n      blues,\n      pink,\n      purple,\n      yellow,\n    } = colors;\n\n    const generalTotal = Object.entries(general);\n\n    const properties = generalTotal.map((item) => {\n      const key = item[0];\n      const value = item[1];\n\n      const name = this.getName(key);\n      const total = key === 'rating' ? utils.getSymboRoubles(key, value !== null ? value.toFixed(2) : value) : utils.getSymboRoubles(key, value);\n\n      // eslint-disable-next-line\n      const color = greens.includes(key) ? 'green' : reds.includes(key) ? 'red' : blues.includes(key) ? 'blue' : pink.includes(key) ? 'pink' : purple.includes(key) ? 'purple' : yellow.includes(key) ? 'yellow-column' : '';\n\n      const blockName = utils.getBlockName(key, filter);\n\n      const noBlock = this.noBlock(filter, key, name, total, settings, value, blockName);\n\n      return filter.visableSetting[blockName] && key ? `\n        <div class=\"analytic__row main ${key}\" total-row ${settings === 'managers' ? `data-id=${value.id}` : ''}>\n          <div class=\"analytic__toggle-wrapper\"><span class=\"analytic__toggle\"></span></div>\n          <div class=\"analytic-board__name metric-icon\">\n            ${name}\n          </div>\n          <div class=\"analytic__column total\">${total || 0}</div>\n        </div>\n      ` : noBlock;\n    });\n\n    return properties;\n  }\n\n  noBlock(filter, key, name, total, settings, value, blockName) {\n    return (filter.visableSetting[blockName] == null || filter.visableSetting[blockName] === undefined) && key ? `\n    <div class=\"analytic__row main ${key}\" total-row ${settings === 'managers' ? `data-id=${value.id}` : ''}>\n      <div class=\"analytic__toggle-wrapper\"><span class=\"analytic__toggle\"></span></div>\n      <div class=\"analytic-board__name metric-icon\">\n        ${name}\n      </div>\n      <div class=\"analytic__column total\">${total || 0}</div>\n    </div>\n  ` : '';\n  }\n\n  getManagerRow(elem) {\n    const manager = elem[1];\n\n    return `<div class=\"analytic-board__name analytic-board__manager-name\">${manager.name}</div>`;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AnalyticsTemplate);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/analytics/template/analyticsTemplate.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/analytics/toggle/toggleRows.js":
/*!**************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/analytics/toggle/toggleRows.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass ToggleRows {\n  init(props) {\n    const togglesLeft = document.querySelectorAll('[total-row]');\n    const togglesRight = document.querySelectorAll('.metric');\n\n    if (togglesLeft.length) {\n      const openTotalRow = this.openTotalRow.bind(this, props);\n\n      togglesLeft.forEach((item) => {\n        const toggle = utils.setCloneElement(item);\n        toggle.addEventListener('click', openTotalRow);\n      });\n    }\n\n    if (togglesRight.length) {\n      const openTotalRow = this.openTotalRow.bind(this, props);\n\n      togglesRight.forEach((item) => {\n        const toggle = utils.setCloneElement(item);\n        toggle.addEventListener('click', openTotalRow);\n      });\n    }\n  }\n\n  openTotalRow(props, e) {\n    const t = e.target;\n\n    const row = utils.getParent(t, 'analytic__row') ? utils.getParent(t, 'analytic__row') : t;\n    const part = row.classList[row.classList.length - 1];\n\n    const currentPeriod = Array.from(document.querySelectorAll(`.manager-board.${part}`));\n\n    const periods = document.querySelectorAll('.manager-board');\n\n    const isOpen = currentPeriod.every((el) => el.classList.contains('open'));\n\n    periods.forEach((item) => {\n      item.style.maxHeight = null;\n      item.classList.remove('open');\n    });\n\n    const totalRow = document.querySelector(`.${part}[total-row]`);\n\n    document.querySelectorAll('.analytic__row').forEach((item) => {\n      item.classList.remove('open');\n    });\n\n    if (isOpen) {\n      currentPeriod.forEach((item) => {\n        item.style.maxHeight = null;\n        item.classList.remove('open');\n      });\n\n      totalRow.classList.remove('open');\n    } else {\n      currentPeriod.forEach((item) => {\n        item.style.maxHeight = `${item.scrollHeight + 30}px`;\n        item.classList.add('open');\n      });\n\n      totalRow.classList.add('open');\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ToggleRows);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/analytics/toggle/toggleRows.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/bill/bill.js":
/*!************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/bill/bill.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _billEvents_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./billEvents.js */ \"./dev/static/js/platform/menu/items/crm/bill/billEvents.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _templates_billTemplates_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./templates/billTemplates.js */ \"./dev/static/js/platform/menu/items/crm/bill/templates/billTemplates.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n\n\n\n\n\nconst billEvents = new _billEvents_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst templates = new _templates_billTemplates_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass Bill {\n  init(props) {\n    const render = this.render(props);\n\n    render.then(() => {\n      utils.hideLoader();\n      const items = [billEvents];\n\n      items.forEach((item) => {\n        const init = item.init.bind(item);\n        init(props);\n      });\n    });\n  }\n\n  async render(props) {\n    const {\n      menu,\n      notValidBills,\n      bills,\n      needRemoveBillId,\n    } = props;\n\n    const sortedBills = bills.sort((a, b) => b.id - a.id);\n\n    const billWrapper = menu.querySelector('[js-client-bills]');\n\n    utils.removeChildren(billWrapper);\n    const renderValidBills = this.renderBills.bind(this);\n\n    const checkAccess = this.checkAccess.bind(this);\n\n    if (notValidBills?.length) {\n      const renderNotValid = this.renderBills.bind(this);\n      await renderNotValid(notValidBills, menu, props, needRemoveBillId);\n      await renderValidBills(sortedBills, menu, props);\n      await checkAccess(props);\n    } else {\n      await renderValidBills(sortedBills, menu, props);\n      await checkAccess(props);\n    }\n  }\n\n  async renderBills(bills, menu, props, needRemoveBillId = false) {\n    const { pack } = props;\n\n    const billWrapper = menu.querySelector('[js-client-bills]');\n\n    if (needRemoveBillId) {\n      bills = bills.filter((el) => el.id !== needRemoveBillId);\n    }\n\n    if (bills.length) {\n      let counter = 0;\n\n      for (let index = 0; index < bills.length; index++) {\n        const bill = bills[index];\n\n        props.bill = bill;\n        counter -= 1;\n\n        let apiCode;\n\n        if (pack) {\n          const { paymentMethods } = pack;\n          apiCode = paymentMethods.find((el) => el.title === bill.paymentMethod)?.apiCode;\n\n          if (apiCode > 0) {\n            bill.leeLooLink = await _api_api_js__WEBPACK_IMPORTED_MODULE_3__.billAPI.getLinkBill(bill.id);\n            props.apiCode = apiCode;\n          } else {\n            props.apiCode = 0;\n          }\n        }\n\n        const div = document.createElement('div');\n        div.classList.add('bill__item');\n\n        if (bill.payDate || bill.billImage || bill.comment) {\n          div.classList.add('payd');\n        }\n\n        if (bill.id === 0 || bill.id < 0) {\n          div.classList.add('bill-error__border');\n          bill.id = counter;\n        }\n\n        div.setAttribute('data-deal', bill.idDeal);\n        div.setAttribute('data-bill', bill.id);\n        div.setAttribute('data-client', props.idClient);\n\n        div.innerHTML = await templates.renderBill(props);\n\n        if (!menu.hasAttribute('js-menu-client-card')) {\n          const createBtn = menu.querySelector('.bill__create');\n\n          await billWrapper.insertBefore(div, createBtn);\n        } else {\n          div.classList.add('client-menu');\n          await billWrapper.appendChild(div);\n        }\n      }\n    } else {\n      const span = document.createElement('span');\n      span.classList.add('platform__empty');\n      span.innerText = 'Нет счетов...';\n      await billWrapper.appendChild(span);\n    }\n  }\n\n  async checkAccess(props) {\n    const {\n      pack,\n      isView,\n      bills,\n      menu,\n      deal,\n    } = props;\n\n    const { role } = pack;\n\n    const billWrapper = menu.querySelector('[js-client-bills]');\n\n    const isClientCard = menu.hasAttribute('js-menu-client-card');\n\n    const checkPrice = this.checkPrice(bills, menu, deal);\n\n    const idCourse = +menu.querySelector('[data-select-type=\"select-product\"] [id-selected]')?.value;\n    const dealStatus = +menu.querySelector('[data-select-type=\"select-status\"] [id-selected]')?.value;\n\n    if (idCourse) {\n      const roleManager = role === 'ROLE_MANAGER' || role === 'ROLE_HEAD_MANAGER';\n      const haveProduct = deal.idProduct !== 0 || idCourse !== 0;\n      const notImportantDeal = deal?.status !== 1 || dealStatus !== 1;\n      const isValidDeal = haveProduct && checkPrice && notImportantDeal;\n\n      const isManager = !isClientCard && roleManager && isValidDeal && !isView;\n\n      if (isManager) {\n        const hasCreateBillBtn = menu.querySelector('.bill__create');\n\n        if (!hasCreateBillBtn) {\n          if (!bills.length) {\n            document.querySelector('.platform__empty')?.remove();\n          }\n\n          const div = document.createElement('div');\n          div.classList.add('bill__item');\n          div.classList.add('bill__create');\n\n          const span = document.createElement('span');\n          span.classList.add('bill__create--icon');\n\n          div.innerText = 'Добавить счет';\n          div.appendChild(span);\n\n          await billWrapper.appendChild(div);\n        }\n      }\n    }\n  }\n\n  checkPrice(bills, menu, deal) {\n    let checkPrice;\n\n    const billsItems = Array.from(menu.querySelectorAll('.bill__item'));\n\n    if (billsItems) {\n      let price = 0;\n\n      billsItems.forEach((el) => {\n        price += parseInt(el.querySelector('.price__value').innerText, 10);\n      });\n\n      /* eslint-disable-next-line */\n      checkPrice = deal?.price === price ? false : deal?.price > price;\n    }\n\n    return checkPrice || (checkPrice === undefined && deal.price > 0);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Bill);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/bill/bill.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/bill/billEvents.js":
/*!******************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/bill/billEvents.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _receipt_receipt_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../receipt/receipt.js */ \"./dev/static/js/platform/menu/items/crm/receipt/receipt.js\");\n/* harmony import */ var _events_addBill_addBill_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/addBill/addBill.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/addBill/addBill.js\");\n/* harmony import */ var _events_removeBill_removeBill_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events/removeBill/removeBill.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/removeBill/removeBill.js\");\n/* harmony import */ var _events_updateBill_updateBill_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./events/updateBill/updateBill.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/updateBill/updateBill.js\");\n/* harmony import */ var _events_copyLink_copyLink_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./events/copyLink/copyLink.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/copyLink/copyLink.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _events_checkBillStatus_checkBillStatus_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./events/checkBillStatus/checkBillStatus.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/checkBillStatus/checkBillStatus.js\");\n\n\n\n\n\n\n\n\nconst receipt = new _receipt_receipt_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst addBill = new _events_addBill_addBill_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst removeBill = new _events_removeBill_removeBill_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst updateBill = new _events_updateBill_updateBill_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst copyLink = new _events_copyLink_copyLink_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\nconst checkBillStatus = new _events_checkBillStatus_checkBillStatus_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\n\nclass BillEvents {\n  init(props) {\n    const { menu } = props;\n\n    const isClientCard = menu.hasAttribute('js-menu-client-card');\n\n    if (isClientCard) {\n      removeBill.init(props);\n      checkBillStatus.init(props);\n    } else {\n      this.setBillEvents(props);\n    }\n  }\n\n  setBillEvents(props) {\n    const { menu } = props;\n\n    const updateProps = {\n      ...props,\n      menu: document.querySelector('[add-bill-menu]'),\n      timeoutCopy: null,\n    };\n\n    const distpatchBillWrapper = this.distpatchBillWrapper.bind(this, updateProps);\n\n    const billWrapper = menu.querySelector('[js-client-bills]');\n    const cloneWrapper = utils.setCloneElement(billWrapper);\n    cloneWrapper.addEventListener('click', distpatchBillWrapper);\n  }\n\n  distpatchBillWrapper(props, e) {\n    const t = e.target;\n    const { isView } = props;\n\n    const isUpdate = !['link__btn', 'bill__remove', 'bill__check', 'bill__status'].includes(t.classList[0]);\n\n    const billItem = utils.getParent(t, 'bill__item') || (t.classList.contains('bill__item') ? t : false);\n\n    if (billItem) {\n      const isCreateBill = billItem?.classList.contains('bill__create');\n      const isCreateBillItem = utils.getParent(t, 'bill__create') || t.classList.contains('bill__create');\n\n      const notPaydBill = billItem.classList.contains('payd');\n\n      const update = ((billItem && !isCreateBill && !notPaydBill) || (t && !isCreateBillItem && !notPaydBill)) && isUpdate ? 'update' : '';\n      const remove = t.classList.contains('bill__remove') ? 'remove' : '';\n      const copy = t.classList.contains('link__btn') && !t.classList.contains('payoff') ? 'copy' : '';\n      const receiptBill = t.classList.contains('payoff') ? 'receipt' : '';\n      const create = isCreateBillItem ? 'create' : '';\n      const checkStatus = t.classList.contains('bill__status') ? 'check-status' : '';\n\n      /* eslint-disable-next-line */\n      const button = !isView ? update || remove || copy || receiptBill || create || checkStatus : receiptBill || copy;\n\n      switch (button) {\n        case 'update': {\n          updateBill.init(props, e);\n          break;\n        }\n        case 'remove': {\n          removeBill.init(props, e);\n          break;\n        }\n        case 'copy': {\n          copyLink.init(props, e);\n          break;\n        }\n        case 'receipt': {\n          receipt.init(props, e);\n          break;\n        }\n        case 'create': {\n          addBill.init(props, e);\n          break;\n        }\n        case 'check-status': {\n          checkBillStatus.init(props, e);\n          break;\n        }\n        default: {\n          break;\n        }\n      }\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BillEvents);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/bill/billEvents.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/bill/events/addBill/addBill.js":
/*!******************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/bill/events/addBill/addBill.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_openAddBillMenu_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/openAddBillMenu.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/openAddBillMenu.js\");\n\n\nconst openAddBillMenu = new _events_openAddBillMenu_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass AddBill {\n  init(props, e) {\n    props.arrayBillInputs = [];\n    props.requiredItems = this.getRequiredItems();\n\n    openAddBillMenu.init(props, e);\n  }\n\n  getRequiredItems() {\n    const addBillMenu = document.querySelector('[add-bill-menu]');\n\n    if (addBillMenu) {\n      const requiredItems = addBillMenu.querySelectorAll('[required]');\n\n      return Array.from(requiredItems);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddBill);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/bill/events/addBill/addBill.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/billLevel/addBillLevel.js":
/*!****************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/billLevel/addBillLevel.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _templates_billTemplates_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../templates/billTemplates.js */ \"./dev/static/js/platform/menu/items/crm/bill/templates/billTemplates.js\");\n/* harmony import */ var _modules_datepicker_datepicker_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../../modules/datepicker/datepicker.js */ \"./dev/static/js/platform/modules/datepicker/datepicker.js\");\n/* harmony import */ var _billLevelWrapper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./billLevelWrapper.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/billLevel/billLevelWrapper.js\");\n\n\n\n\nconst billTemplates = new _templates_billTemplates_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst datepicker = new _modules_datepicker_datepicker_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass AddBillLevel extends _billLevelWrapper_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  init(props) {\n    const { menu } = props;\n\n    const bill = this.getTemplateBillLayer(props);\n    this.setBillLevel(bill, menu);\n\n    props.prevValue = null;\n\n    props.arrayBillInputs.push({\n      index: null,\n      prevValue: [],\n    });\n\n    this.changeBillPrice(props);\n\n    props.isCreateBill = true;\n\n    datepicker.init(props);\n  }\n\n  setBillLevel(bill, menu) {\n    const billsLayersWrapper = menu.querySelector('.bills-layers__list');\n    const btnWrapper = menu.querySelector('.add-layer');\n    billsLayersWrapper.insertBefore(bill, btnWrapper);\n  }\n\n  getTemplateBillLayer(props) {\n    const { menu } = props;\n\n    const counter = menu.querySelectorAll('.bill-layers__item').length + 1;\n\n    const layer = document.createElement('li');\n    layer.classList.add('bill-layers__item');\n    layer.classList.add('bill-layer');\n    layer.setAttribute('data-index', counter - 1);\n\n    if (counter > 0) {\n      const btnWrapper = menu.querySelector('.add-layer');\n      btnWrapper.classList.add('mt_20');\n    }\n\n    if (!props.currentTemplate) {\n      layer.innerHTML = billTemplates.addBillMenuBillTemplate(counter);\n    } else {\n      layer.innerHTML = billTemplates.addBillMenuBillTemplate(counter, props.currentTemplate);\n    }\n\n    return layer;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddBillLevel);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/billLevel/addBillLevel.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/billLevel/billLevel.js":
/*!*************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/billLevel/billLevel.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _addBillLevel_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./addBillLevel.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/billLevel/addBillLevel.js\");\n/* harmony import */ var _removeBillLevel_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./removeBillLevel.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/billLevel/removeBillLevel.js\");\n\n\n\n\nconst addBillLevel = new _addBillLevel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst removeBillLevel = new _removeBillLevel_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass BillLevel {\n  init(props) {\n    const { menu } = props;\n\n    const billLayerWrapper = menu.querySelector('.bills-layers__list');\n\n    if (billLayerWrapper) {\n      const remains = menu.querySelector('[bill-value-remains]');\n      props.sum = parseInt(remains.innerText, 10);\n\n      const layersWrapper = utils.setCloneElement(billLayerWrapper);\n\n      const dispatchWrapper = this.dispatchWrapper.bind(this, props);\n\n      layersWrapper.addEventListener('click', dispatchWrapper);\n    }\n  }\n\n  dispatchWrapper(props, e) {\n    const t = e.target;\n\n    const addLevel = t.hasAttribute('add-bill-btn') ? 'add-level' : '';\n    const removeLevel = t.classList.contains('bill-layer__remove') ? 'remove-lvl' : '';\n\n    const button = addLevel || removeLevel;\n\n    switch (button) {\n      case 'add-level': {\n        addBillLevel.init(props, e);\n        break;\n      }\n      case 'remove-lvl': {\n        removeBillLevel.init(props, e);\n        break;\n      }\n      default: {\n        break;\n      }\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BillLevel);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/billLevel/billLevel.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/billLevel/billLevelWrapper.js":
/*!********************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/billLevel/billLevelWrapper.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass BillLevelWrapper {\n  changeBillPrice(props) {\n    const { menu, arrayBillInputs } = props;\n    props.price = menu.querySelectorAll('[js-bill-sum]');\n    props.remains = menu.querySelector('[bill-value-remains]');\n\n    if (!arrayBillInputs.length) {\n      this.fullArrayBillInputs(arrayBillInputs, props);\n    }\n\n    if (props.price.length) {\n      const keyDown = this.resultFunc.bind(this, props, true);\n      const pressBtn = this.debounce(keyDown, 230);\n\n      props.price.forEach((item, index) => {\n        arrayBillInputs[index].index = index;\n\n        const priceInput = utils.setCloneElement(item);\n\n        priceInput.addEventListener('input', pressBtn.bind(pressBtn, index));\n      });\n    }\n  }\n\n  fullArrayBillInputs(arrayBillInputs, props) {\n    props.price.forEach(() => {\n      arrayBillInputs.push({\n        index: null,\n        prevValue: [],\n      });\n    });\n  }\n\n  debounce(callback, delay) {\n    let timer;\n\n    return function timeOuter(index, e) {\n      validation.validationInputNuber(e.target);\n\n      const callbackTarget = callback.bind(callback, index, e);\n\n      clearTimeout(timer);\n\n      timer = setTimeout(callbackTarget, delay);\n    };\n  }\n\n  resultFunc(props, isAdd) {\n    const { menu, deal } = props;\n\n    const showProps = {\n      deal,\n      menu,\n      isAdd,\n    };\n\n    this.showRemainBills(showProps);\n  }\n\n  showRemainBills(showProps) {\n    const {\n      deal,\n      menu,\n      isAdd,\n    } = showProps;\n\n    const billItems = document.querySelectorAll('.bill__item');\n\n    const billsArray = Array.from(billItems).filter((el) => !el.classList.contains('bill__create'));\n\n    let billSum = 0;\n\n    billsArray.forEach((item) => {\n      billSum += parseInt(item.querySelector('.price__value').innerText, 10);\n    });\n\n    const levels = Array.from(menu.querySelectorAll('[js-bill-sum]'));\n\n    const remain = deal.price - billSum;\n\n    if (levels.length) {\n      const levelValues = levels.map((el) => +el.value);\n      showProps.sum = levelValues.reduce((prev, current) => prev + current);\n    } else {\n      showProps.sum = remain;\n    }\n\n    const addBill = remain - showProps.sum > 0 ? remain - showProps.sum : 0;\n    const removeBill = remain - showProps.sum > 0 ? remain - showProps.sum : remain;\n\n    const showRemains = isAdd ? addBill : removeBill;\n\n    const remainCounter = menu.querySelector('[bill-value-remains]');\n\n    remainCounter.innerText = `${showRemains} ₽`;\n\n    this.toggleAddLayerButton(showRemains, menu);\n  }\n\n  toggleAddLayerButton(showRemains, menu) {\n    const btn = menu.querySelector('.add-layer');\n\n    const bills = menu.querySelectorAll('.bill-layer');\n\n    if (bills.length) {\n      btn.classList.add('mt_20');\n    } else {\n      btn.classList.remove('mt_20');\n    }\n\n    if (showRemains > 0) {\n      btn.classList.remove('hide');\n    } else {\n      btn.classList.add('hide');\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BillLevelWrapper);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/billLevel/billLevelWrapper.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/billLevel/removeBillLevel.js":
/*!*******************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/billLevel/removeBillLevel.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _billLevelWrapper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./billLevelWrapper.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/billLevel/billLevelWrapper.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass RemoveBillLevel extends _billLevelWrapper_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n  init(props, e) {\n    const t = e.target;\n\n    const billLayer = utils.getParent(t, 'bill-layer');\n\n    billLayer.remove();\n    this.updateBillCounter(props);\n    this.showAddBillButton(props);\n\n    props.arrayBillInputs = props.arrayBillInputs.filter((el) => el.index !== +billLayer.getAttribute('data-index'));\n\n    this.resultFunc(props, false);\n  }\n\n  updateBillCounter(props) {\n    const { menu } = props;\n\n    const levels = menu.querySelectorAll('.bill-layer');\n\n    levels.forEach((item, index) => {\n      const billCounter = item.querySelector('[bill-counter]');\n\n      billCounter.innerText = `${index + 1} счет *`;\n    });\n  }\n\n  showAddBillButton(props) {\n    const { menu, sum, deal } = props;\n\n    const addLayerBtn = menu.querySelector('.add-layer');\n\n    if (sum <= deal.price) {\n      addLayerBtn.classList.remove('hide');\n      addLayerBtn.classList.add('mt_20');\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RemoveBillLevel);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/billLevel/removeBillLevel.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/changePaymentMethod/changePaymentMethod.js":
/*!*********************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/changePaymentMethod/changePaymentMethod.js ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _paymentMethodIcons_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../paymentMethodIcons.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/paymentMethodIcons.js\");\n\n\n\nconst paymentMethodIcons = new _paymentMethodIcons_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass ChangePaymentMethod {\n  init(props) {\n    const { menu } = props;\n\n    const select = menu.querySelector('[js-bill-payment-method]');\n\n    if (select) {\n      const selectPaymentMethod = utils.setCloneElement(select);\n      const changePaymentMethod = this.changePaymentMethod.bind(this, props);\n      selectPaymentMethod.addEventListener('change', changePaymentMethod);\n    }\n  }\n\n  changePaymentMethod(props) {\n    paymentMethodIcons.init(props);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChangePaymentMethod);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/changePaymentMethod/changePaymentMethod.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/changePaymentTemplate/changePaymentTemplate.js":
/*!*************************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/changePaymentTemplate/changePaymentTemplate.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _billLevel_billLevelWrapper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../billLevel/billLevelWrapper.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/billLevel/billLevelWrapper.js\");\n/* harmony import */ var _billLevel_addBillLevel_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../billLevel/addBillLevel.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/billLevel/addBillLevel.js\");\n/* harmony import */ var _billLevel_billLevel_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../billLevel/billLevel.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/billLevel/billLevel.js\");\n\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst billLevelWrapper = new _billLevel_billLevelWrapper_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst addBillLevel = new _billLevel_addBillLevel_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst billLevel = new _billLevel_billLevel_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n\nclass ChangePaymentTemplate {\n  init(props) {\n    const { menu } = props;\n\n    const select = menu.querySelector('[js-bill-payment-template]');\n\n    if (select) {\n      const selectTemplate = this.selectTemplate.bind(this, props);\n\n      const selectTemp = utils.setCloneElement(select);\n\n      selectTemp.addEventListener('change', selectTemplate);\n    }\n  }\n\n  selectTemplate(props) {\n    const { menu, deal, arrayBillInputs } = props;\n\n    const selectItem = menu.querySelector('[js-bill-payment-template]');\n    const addBillBtn = menu.querySelector('.add-layer');\n\n    this.clearBillList(menu);\n\n    if (selectItem.value) {\n      const generateProps = {\n        deal,\n        addBillBtn,\n        selectItem,\n        menu,\n        arrayBillInputs,\n      };\n\n      this.generateTemplate(generateProps);\n    } else {\n      addBillBtn.classList.remove('hide');\n      const remainsValue = menu.querySelector('[bill-value-remains]');\n      remainsValue.innerText = `${deal.price} ₽`;\n    }\n  }\n\n  clearBillList(menu) {\n    const billList = menu.querySelector('.bills-layers__list');\n    billList.querySelectorAll('.bill-layer').forEach((item) => item.remove());\n\n    const addBtn = menu.querySelector('.add-layer');\n    addBtn.classList.remove('mt_20');\n  }\n\n  generateTemplate(props) {\n    const {\n      deal,\n      selectItem,\n    } = props;\n\n    const generate = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.billAPI.generateBills(deal.id || deal, selectItem.value);\n\n    const loader = setTimeout(utils.showLoader, 400);\n\n    generate.then((templates) => {\n      clearTimeout(loader);\n      utils.hideLoader();\n\n      this.afterGenerateBillTemplates(props, templates);\n    });\n  }\n\n  afterGenerateBillTemplates(props, templates) {\n    const { addBillBtn, menu, deal } = props;\n\n    if (templates.length) {\n      props.templates = templates;\n\n      this.renderTemplateItems(props).then(() => {\n        const price = this.calculateTemplatePrice(templates);\n\n        const remainsProps = {\n          deal,\n          addBillBtn,\n          menu,\n          price,\n        };\n\n        this.showBillRemains(remainsProps);\n        billLevelWrapper.changeBillPrice(props);\n\n        props.billTemplateMode = true;\n        props.currentTemplate = false;\n        billLevel.init(props);\n      });\n    }\n  }\n\n  calculatePrice(prev, current) {\n    return prev.sum + current.sum;\n  }\n\n  calculateTemplatePrice(templates) {\n    const calculatePrice = this.calculatePrice.bind(this);\n\n    return templates.reduce(calculatePrice);\n  }\n\n  showBillRemains(props) {\n    const {\n      deal,\n      addBillBtn,\n      menu,\n      price,\n    } = props;\n\n    const billRemains = menu.querySelector('[bill-value-remains]');\n\n    if (billRemains) {\n      const diff = deal.price - price <= 0 ? 0 : `${deal.price - price} ₽`;\n\n      billRemains.innerText = `${diff} ₽`;\n\n      if (diff <= 0) {\n        addBillBtn.classList.add('hide');\n      }\n    }\n  }\n\n  async renderTemplateItems(props) {\n    const { templates } = props;\n\n    const setBillTemplate = this.setBillTemplate.bind(this, props);\n    await templates.forEach(setBillTemplate);\n  }\n\n  async setBillTemplate(props, item) {\n    props.currentTemplate = item;\n    await addBillLevel.init(props);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChangePaymentTemplate);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/changePaymentTemplate/changePaymentTemplate.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/changePaymentType/changePaymentType.js":
/*!*****************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/changePaymentType/changePaymentType.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _paymentMethodIcons_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../paymentMethodIcons.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/paymentMethodIcons.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst paymentMethodIcons = new _paymentMethodIcons_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass ChangePaymentType {\n  init(props) {\n    const { menu, pack, deal } = props;\n    const select = menu.querySelector('[js-bill-acquiring]');\n\n    if (select) {\n      const addBillLevel = menu.querySelector('[create-bill-menu]');\n      const remains = menu.querySelector('.bills-remains');\n      const paymentType = menu.querySelector('[js-bill-acquiring]');\n      const templateItem = menu.querySelector('[template-item]');\n\n      paymentType.value = 'acquiring';\n\n      const paymentProps = {\n        addBillLevel,\n        remains,\n        menu,\n        paymentType,\n        templateItem,\n        pack,\n        deal,\n      };\n\n      const changePaymentTypeValue = this.changePaymentTypeValue.bind(this, paymentProps);\n\n      select.addEventListener('change', changePaymentTypeValue);\n    }\n  }\n\n  changePaymentTypeValue(props) {\n    const { menu, pack } = props;\n    const { paymentMethods } = pack;\n\n    const paymentMethodSelect = menu.querySelector('[js-bill-payment-method]');\n    const paymentTypeSelect = menu.querySelector('[js-bill-acquiring]');\n\n    const paymentMethodChildren = Array.from(paymentMethodSelect.children);\n\n    const isAcquiring = paymentMethodSelect && paymentTypeSelect && paymentTypeSelect.value === 'acquiring';\n    const isNotAcquiring = paymentMethodSelect && paymentTypeSelect && paymentTypeSelect.value === 'other';\n\n    if (isAcquiring) {\n      const acquiringProps = {\n        paymentMethodChildren,\n        paymentMethodSelect,\n        props,\n        paymentMethods,\n      };\n\n      this.isAcquiring(acquiringProps);\n    } else if (isNotAcquiring) {\n      const notAcquiringProps = {\n        paymentMethodChildren,\n        paymentMethodSelect,\n        menu,\n        paymentMethods,\n      };\n\n      this.isNotAcquiring(notAcquiringProps);\n    }\n  }\n\n  isAcquiring(acquiringProps) {\n    const {\n      paymentMethodSelect,\n      props,\n      paymentMethods,\n    } = acquiringProps;\n\n    utils.removeChildren(paymentMethodSelect, 0);\n\n    paymentMethods.forEach((item) => {\n      if (item.apiCode > 0) {\n        const option = document.createElement('option');\n        option.setAttribute('value', item.title);\n        option.setAttribute('data-code', item.code);\n        option.setAttribute('data-api', item.apiCode);\n\n        option.innerText = item.title;\n        option.removeAttribute('disabled');\n\n        paymentMethodSelect.appendChild(option);\n      }\n    });\n\n    paymentMethodSelect.value = '';\n    paymentMethodIcons.init(props);\n  }\n\n  isNotAcquiring(notAcquiringProps) {\n    const {\n      paymentMethodSelect,\n      paymentMethods,\n    } = notAcquiringProps;\n\n    utils.removeChildren(paymentMethodSelect, 0);\n\n    paymentMethods.forEach((item) => {\n      if (item.apiCode === 0) {\n        const option = document.createElement('option');\n        option.setAttribute('value', item.title);\n        option.setAttribute('data-code', item.code);\n\n        option.innerText = item.title;\n\n        paymentMethodSelect.appendChild(option);\n      }\n    });\n\n    paymentMethodSelect.value = '';\n    const paymentMethodWrapper = utils.getParent(paymentMethodSelect, 'update-deal__select-wrapper');\n    paymentMethodWrapper.className = 'platform-select__wrapper update-deal__select-wrapper';\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChangePaymentType);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/changePaymentType/changePaymentType.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/closeAddBillMenu.js":
/*!**********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/closeAddBillMenu.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass CloseBillAddMenu {\n  init(props) {\n    const { menu } = props;\n\n    const closeBtn = menu.querySelector('.platform__close--btn-modal');\n    const cancelBtn = menu.querySelector('.bill__close');\n\n    const closeMenu = this.closeMenu.bind(this, props);\n\n    if (closeBtn) {\n      closeBtn.addEventListener('click', closeMenu);\n    }\n\n    if (cancelBtn) {\n      cancelBtn.addEventListener('click', closeMenu);\n    }\n  }\n\n  closeMenu(props) {\n    const { menu } = props;\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n\n    utils.closeModalAnimation(menu, wrapper, false, true, false);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CloseBillAddMenu);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/closeAddBillMenu.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/openAddBillMenu.js":
/*!*********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/openAddBillMenu.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _setDataNewBill_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./setDataNewBill.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/setDataNewBill.js\");\n/* harmony import */ var _paymentMethodIcons_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./paymentMethodIcons.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/paymentMethodIcons.js\");\n/* harmony import */ var _changePaymentType_changePaymentType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./changePaymentType/changePaymentType.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/changePaymentType/changePaymentType.js\");\n/* harmony import */ var _billLevel_billLevel_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./billLevel/billLevel.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/billLevel/billLevel.js\");\n/* harmony import */ var _saveBill_saveBill_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./saveBill/saveBill.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/saveBill/saveBill.js\");\n/* harmony import */ var _closeAddBillMenu_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./closeAddBillMenu.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/closeAddBillMenu.js\");\n/* harmony import */ var _changePaymentMethod_changePaymentMethod_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./changePaymentMethod/changePaymentMethod.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/changePaymentMethod/changePaymentMethod.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n/* harmony import */ var _changePaymentTemplate_changePaymentTemplate_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./changePaymentTemplate/changePaymentTemplate.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/changePaymentTemplate/changePaymentTemplate.js\");\n\n\n\n\n\n\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst setDataNewBill = new _setDataNewBill_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst paymentMethodIcons = new _paymentMethodIcons_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst changePaymentType = new _changePaymentType_changePaymentType_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst billLevel = new _billLevel_billLevel_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\nconst saveBill = new _saveBill_saveBill_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\nconst closeBillAddMenu = new _closeAddBillMenu_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\nconst changePaymentMethod = new _changePaymentMethod_changePaymentMethod_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]();\nconst changePaymentTemplate = new _changePaymentTemplate_changePaymentTemplate_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"]();\n\nclass OpenAddBillMenu {\n  init(props) {\n    const addBillProps = this.getProps(props);\n    addBillProps.menu = document.querySelector('[add-bill-menu]');\n\n    let { menu } = addBillProps;\n\n    if (!menu) {\n      menu = document.querySelector('');\n    }\n\n    utils.openModalAnimation(menu, true);\n\n    const menuTitle = menu.querySelector('[client-name]');\n    menuTitle.innerText = 'Добавить счет';\n\n    const items = [\n      setDataNewBill,\n      paymentMethodIcons,\n      changePaymentType,\n      changePaymentMethod,\n      changePaymentTemplate,\n    ];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(addBillProps);\n    });\n\n    this.clearMenu(addBillProps);\n    this.setSaveBtn(addBillProps);\n    this.showItems(menu);\n    this.hideItems(menu);\n\n    const addBill = this.addBill.bind(this);\n    addBill(addBillProps);\n  }\n\n  getProps(props) {\n    return utils.getDeepCopy(props);\n  }\n\n  setSaveBtn(props) {\n    const { menu } = props;\n\n    const saveBtn = menu.querySelector('.bill__save');\n    saveBtn.innerText = 'Создать счет';\n\n    if (saveBtn) {\n      const save = utils.setCloneElement(saveBtn);\n\n      const saveBillItem = saveBill.init.bind(saveBill, props);\n      save.addEventListener('click', saveBillItem);\n\n      const toValidationError = validation.toValidationError.bind(validation);\n      save.addEventListener('dblclick', toValidationError);\n    }\n  }\n\n  clearMenu(props) {\n    const { menu } = props;\n\n    const paymentType = menu.querySelector('[js-bill-acquiring]');\n\n    if (paymentType) {\n      paymentType.value = 'acquiring';\n    }\n\n    const paymentMethod = menu.querySelector('[js-bill-payment-method]');\n\n    if (paymentMethod) {\n      const children = Array.from(paymentMethod.children).filter((el) => el.hasAttribute('data-api'));\n\n      paymentMethod.value = children[0]?.getAttribute('value');\n    }\n\n    const template = menu.querySelector('[js-bill-payment-template]');\n    template.value = '';\n\n    const sum = menu.querySelector('[js-bill-sum-update]');\n    sum.value = '';\n\n    if (sum.classList.contains('bill-error') || sum.classList.contains('bill-error__border')) {\n      sum.classList.remove('bill-error');\n      sum.classList.remove('bill-error__border');\n    }\n\n    const date = menu.querySelector('[js-bill-planned-date-update]');\n    date.value = '';\n\n    if (date.classList.contains('bill-error') || date.classList.contains('bill-error__border')) {\n      date.classList.remove('bill-error');\n      date.classList.remove('bill-error__border');\n    }\n\n    const levels = Array.from(menu.querySelector('.bills-layers__list').children);\n\n    if (levels.length) {\n      levels.forEach((item) => {\n        if (!item.classList.contains('add-layer')) {\n          item.remove();\n        } else {\n          item.classList.remove('mt_20');\n        }\n      });\n    }\n\n    this.changeSelectTemplate(props);\n  }\n\n  changeSelectTemplate(props) {\n    const { menu, templates } = props;\n\n    const selectTemplates = menu.querySelector('[js-bill-payment-template]');\n\n    const currentBill = Array.from(document.querySelectorAll('.bill__item')).filter((el) => !el.classList.contains('bill__create'));\n\n    if (currentBill.length) {\n      Array.from(selectTemplates.children).forEach((item, index) => {\n        if (index !== 0) {\n          item.remove();\n        }\n      });\n    } else {\n      utils.removeChildren(selectTemplates, 0);\n\n      const setBillTemplates = utils.setBillTemplates.bind(utils, selectTemplates);\n\n      templates.forEach(setBillTemplates);\n    }\n  }\n\n  showItems(menu) {\n    const info = menu.querySelector('.bills-item__pay-info');\n\n    if (info) {\n      Array.from(info.children)[0].classList.remove('width_100');\n      Array.from(info.children)[1].classList.remove('width_100');\n      Array.from(info.children)[1].classList.remove('mt_15');\n      info.classList.remove('edit-mode');\n    }\n\n    const templateItem = menu.querySelector('[template-item]');\n\n    if (templateItem) {\n      templateItem.classList.remove('hide');\n    }\n\n    const remains = menu.querySelector('.bills-remains');\n\n    if (remains) {\n      remains.classList.remove('hide');\n    }\n\n    const addLayerBtn = menu.querySelector('[add-bill-btn]');\n\n    if (addLayerBtn) {\n      addLayerBtn.classList.remove('hide');\n    }\n\n    const addBillBtn = menu.querySelector('.add-layer');\n\n    if (addBillBtn) {\n      addBillBtn.classList.remove('hide');\n    }\n  }\n\n  hideItems(menu) {\n    const editItems = menu.querySelectorAll('[edit-bill-item]');\n\n    if (editItems.length) {\n      editItems.forEach((item) => {\n        item.classList.add('hide');\n      });\n    }\n\n    const sum = menu.querySelector('[js-bill-sum-update]');\n    sum.removeAttribute('required');\n    sum.value = '';\n\n    const date = menu.querySelector('[js-bill-planned-date-update]');\n    date.removeAttribute('required');\n  }\n\n  addBill(props) {\n    const items = [billLevel, closeBillAddMenu];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(props);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OpenAddBillMenu);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/openAddBillMenu.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/paymentMethodIcons.js":
/*!************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/paymentMethodIcons.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass PaymentMethodIcons {\n  init(props) {\n    const { menu } = props;\n\n    const select = menu.querySelector('[js-bill-payment-method]');\n\n    if (select) {\n      const currentMethod = utils.getSelected(select)?.getAttribute('data-code');\n\n      const wrapper = utils.getParent(select, 'update-deal__select-wrapper');\n\n      wrapper.className = 'platform-select__wrapper update-deal__select-wrapper';\n\n      switch (currentMethod) {\n        case 'yandex': {\n          wrapper.classList.add('pay-info__select');\n          wrapper.classList.add('yandex');\n          break;\n        }\n        case 'sber': {\n          wrapper.classList.add('pay-info__select');\n          wrapper.classList.add('sber');\n          break;\n        }\n        case 'westernunion': {\n          wrapper.classList.add('pay-info__select');\n          wrapper.classList.add('western-union');\n          break;\n        }\n        case 'paypal': {\n          wrapper.classList.add('pay-info__select');\n          wrapper.classList.add('paypal');\n          break;\n        }\n        case 'qiwi': {\n          wrapper.classList.add('pay-info__select');\n          wrapper.classList.add('qiwi');\n          break;\n        }\n        case 'bill': {\n          wrapper.classList.add('pay-info__select');\n          wrapper.classList.add('bill');\n          break;\n        }\n        case 'other': {\n          wrapper.classList.add('pay-info__select');\n          wrapper.classList.add('other');\n          break;\n        }\n        case null: {\n          wrapper.className = 'platform-select__wrapper update-deal__select-wrapper';\n          break;\n        }\n        default: {\n          break;\n        }\n      }\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PaymentMethodIcons);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/paymentMethodIcons.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/saveBill/saveBill.js":
/*!***********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/saveBill/saveBill.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n/* harmony import */ var _saveBillWithoutTemplate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./saveBillWithoutTemplate.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/saveBill/saveBillWithoutTemplate.js\");\n\n\n\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst saveBillWithoutTemplate = new _saveBillWithoutTemplate_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass SaveBill {\n  init(props) {\n    const {\n      deal,\n      menu,\n    } = props;\n\n    const checkBill = validation.validateBillWithoutTemplate(props);\n\n    const layers = menu.querySelectorAll('.bill-layer');\n\n    if (layers.length && checkBill) {\n      const patternData = [\n        menu,\n        deal,\n        props,\n      ];\n\n      saveBillWithoutTemplate.init(patternData);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SaveBill);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/saveBill/saveBill.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/saveBill/saveBillWithoutTemplate.js":
/*!**************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/saveBill/saveBillWithoutTemplate.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass SaveBillWithoutTemplate {\n  init(billDate) {\n    const [menu, deal, props] = billDate;\n\n    const bills = Array.from(menu.querySelectorAll('.bill-layer'));\n\n    const paymentMethod = menu.querySelector('[js-bill-payment-method]');\n    const paymentMethodValue = utils.getSelected(paymentMethod).innerText.trim();\n    const paymentMethodCode = utils.getSelected(paymentMethod).getAttribute('data-code').trim();\n    const idDeal = deal.id || deal;\n\n    const { pack } = props;\n    const { paymentMethods } = pack;\n\n    const paymentMethodId = paymentMethods.find((el) => el.title === paymentMethodValue)?.id;\n\n    const data = {\n      paymentMethodId: paymentMethodId || null,\n      paymentMethod: paymentMethodValue || null,\n      paymentMethodCode: paymentMethodCode || null,\n      idDeal,\n      accountNumber: null,\n    };\n\n    if (bills.length) {\n      const saveBillProps = {\n        bills,\n        menu,\n        props,\n        data,\n      };\n\n      const saveBills = this.saveBills(saveBillProps);\n\n      const loader = setTimeout(utils.showLoader, 400);\n\n      saveBills.then(() => {\n        clearTimeout(loader);\n        utils.hideLoader();\n\n        const wrapper = menu.querySelector('.platform-modal__wrapper');\n\n        utils.closeModalAnimation(menu, wrapper, false, true, false);\n\n        const billWrapper = document.querySelectorAll('[js-client-bills]');\n\n        billWrapper.forEach((elem) => {\n          Array.from(elem.children).forEach((subj) => {\n            subj.remove();\n          });\n        });\n\n        const updateMenuWrapper = document.querySelector('.update-menu');\n\n        if (updateMenuWrapper?.classList.contains('active')) {\n          updateMenuWrapper.classList.remove('active');\n        }\n\n        const tabProps = {\n          ...props,\n          menu: document.querySelector('[js-menu-deal]'),\n        };\n\n        tabProps.tabBillObs.init(tabProps);\n      }, () => {\n        const popupProps = {\n          text: 'Ошибка! Попробуйте еще раз или сообщите администратору.',\n          settings: 'alert-close',\n        };\n\n        popup.init(popupProps);\n      });\n    }\n  }\n\n  async saveBills(saveBillProps) {\n    const {\n      bills,\n      menu,\n      props,\n      data,\n    } = saveBillProps;\n\n    if (bills.length) {\n      await this.saveBill(data, menu, props, bills);\n    } else {\n      return await 'Запросы отправлены успешно';\n    }\n  }\n\n  async saveBill(data, menu, props, bills) {\n    const item = bills.shift();\n\n    const sum = item.querySelector('[js-bill-sum]');\n    const plannedPayDate = item.querySelector('[js-bill-planned-date]').value;\n    const plannedArr = plannedPayDate.split('.');\n    const plannedType = item.querySelector('[js-bill-planned-date]').hasAttribute('first-payment') ? 'Новый клиент' : 'Доплата';\n\n    data.paymentType = plannedType;\n    data.sum = sum.value ? sum.value.trim() : null;\n    data.plannedPayDate = plannedPayDate ? `${plannedArr[2]}-${plannedArr[1]}-${plannedArr[0]}` : null;\n\n    await _api_api_js__WEBPACK_IMPORTED_MODULE_1__.billAPI.saveBill(data);\n\n    const saveProps = {\n      bills,\n      menu,\n      props,\n      data,\n    };\n\n    return await this.saveBills(saveProps);\n  }\n\n  getValidBills(bills, deal) {\n    const { startDate: start } = deal;\n\n    /* eslint-disable-next-line */\n    const validBills = bills.filter((el, index) => {\n      const checkSum = el.sum <= deal.price && el.sum > 0;\n      const first = checkSum && utils.compareDates(start, el.plannedPayDate);\n      const other = checkSum;\n\n      return index === 0 ? first : other;\n    });\n\n    return validBills;\n  }\n\n  saveBillNewEdition(props) {\n    const { menu, deal } = props;\n\n    const levels = menu.querySelectorAll('.bill__level');\n\n    const accountNumber = menu.querySelector('[js-menu-bill-number]').value;\n    const paymentMethod = +menu.querySelector('[bill-payment-methods]').value;\n\n    const data = {\n      levels: [],\n      idDeal: deal.id,\n      accountNumber: accountNumber || null,\n      paymentMethod: paymentMethod || null,\n    };\n\n    if (levels.length) {\n      levels.forEach((item) => {\n        const value = +item.querySelector('[bill-value]').value;\n        const date = item.querySelector('[bill-date]').value;\n\n        if (value || date) {\n          const level = {\n            value: value || null,\n            date: date || null,\n          };\n\n          data.levels.push(level);\n        }\n      });\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SaveBillWithoutTemplate);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/saveBill/saveBillWithoutTemplate.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/setDataNewBill.js":
/*!********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/setDataNewBill.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass SetDataNewBill {\n  init(props) {\n    const { menu } = props;\n\n    const templatesItem = menu.querySelector('[js-bill-payment-template]');\n\n    if (templatesItem) {\n      this.setTemplatesItem(templatesItem, props);\n    }\n\n    const paymentMethodSelect = menu.querySelector('[js-bill-payment-method]');\n\n    if (paymentMethodSelect) {\n      this.setPaymentMethods(paymentMethodSelect, props);\n    }\n\n    this.setValueToCounter(menu);\n  }\n\n  setTemplatesItem(templatesItem, props) {\n    utils.removeChildren(templatesItem, 0);\n\n    const { templates, menu } = props;\n\n    const selectTemplates = menu.querySelector('[js-bill-payment-template]');\n\n    const setTemplates = utils.setBillTemplates.bind(utils, selectTemplates);\n\n    templates.forEach(setTemplates);\n  }\n\n  setPaymentMethods(paymentMethodSelect, props) {\n    const { pack } = props;\n    const { paymentMethods } = pack;\n\n    utils.removeChildren(paymentMethodSelect, 0);\n\n    paymentMethods.forEach((item) => {\n      if (item.apiCode > 0) {\n        const option = document.createElement('option');\n        option.setAttribute('value', item.title);\n        option.setAttribute('data-code', item.code);\n        option.setAttribute('data-api', item.apiCode);\n        option.setAttribute('selected', '');\n\n        option.innerText = item.title;\n        option.removeAttribute('disabled');\n\n        paymentMethodSelect.appendChild(option);\n      }\n    });\n  }\n\n  setValueToCounter(menu) {\n    let price = +document.querySelector('[price]').value;\n\n    const bills = Array.from(document.querySelectorAll('.bill__item')).filter((el) => !el.classList.contains('bill__create'));\n\n    if (bills.length) {\n      bills.forEach((item) => {\n        const value = item.querySelector('.price__value').innerText;\n        price -= Number.parseInt(value, 10);\n      });\n    }\n\n    const remains = menu.querySelector('[bill-value-remains]');\n\n    remains.innerText = `${price < 0 ? 0 : price} ₽`;\n\n    const createMenu = menu.querySelector('[create-bill-menu]');\n    const saveBtn = menu.querySelector('.bill__save');\n\n    if (price <= 0) {\n      createMenu.classList.add('hide');\n      saveBtn.classList.add('hide');\n    } else {\n      createMenu.classList.remove('hide');\n      saveBtn.classList.remove('hide');\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SetDataNewBill);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/setDataNewBill.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/bill/events/checkBillStatus/checkBillStatus.js":
/*!**********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/bill/events/checkBillStatus/checkBillStatus.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass CheckBillStatus {\n  init(props, e) {\n    if (e) {\n      this.#checkFromDealMenu(props, e);\n    } else {\n      this.#checkFromClientCard(props);\n    }\n  }\n\n  #checkFromClientCard(props) {\n    const { menu } = props;\n\n    const checkBtns = menu.querySelectorAll('.bill__status');\n\n    if (checkBtns.length) {\n      const checkBill = this.#checkFromDealMenu.bind(this, props);\n\n      checkBtns.forEach((item) => {\n        const check = utils.setCloneElement(item);\n        check.addEventListener('click', checkBill);\n      });\n    }\n  }\n\n  #checkFromDealMenu(props, e) {\n    const t = e.target;\n\n    if (props) {\n      const { client } = props;\n\n      const billItem = utils.getParent(t, 'platform-table__row') || utils.getParent(t, 'bill__item');\n\n      const idBill = +billItem.getAttribute('data-bill');\n      const idClient = +billItem.getAttribute('data-client') || client.id;\n\n      const getInfo = _api_api_js__WEBPACK_IMPORTED_MODULE_0__.billAPI.checkBillSatus(idClient, idBill);\n\n      t.style.pointerEvents = 'none';\n\n      getInfo.then(() => {\n        t.style.pointerEvents = 'all';\n      }, () => {\n        t.style.pointerEvents = 'all';\n      });\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CheckBillStatus);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/bill/events/checkBillStatus/checkBillStatus.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/bill/events/copyLink/copyLink.js":
/*!********************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/bill/events/copyLink/copyLink.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass CopyLink {\n  init(props, e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const { isView } = props;\n\n    const t = e.target;\n\n    if (!isView) {\n      utils.copyLink(t.getAttribute('href'));\n\n      this.setTooltip(props, e);\n    }\n  }\n\n  setTooltip(props, e) {\n    const t = e.target;\n\n    const bill = utils.getParent(t, 'bill__item');\n    bill.style.pointerEvents = 'none';\n\n    const tooltipProps = {\n      bill,\n      props,\n    };\n\n    this.afterClearTooltip(tooltipProps);\n  }\n\n  async setInitialStyleToTooltip(tooltip) {\n    tooltip.style.top = 35;\n    tooltip.style.right = '-100%';\n  }\n\n  showTooltip(tooltip, res) {\n    tooltip.style.transition = 'all 0.5s cubic-bezier(.66,.65,.24,1.01)';\n    tooltip.classList.remove('hide');\n    res();\n  }\n\n  async removeAllTooltips(bill, res) {\n    document.querySelectorAll('.tooltip__copy').forEach(async (item) => {\n      item.style.top = 35;\n      item.style.right = '-100%';\n      item.style.transition = 'all 0s linear';\n      await item.classList.add('hide');\n    });\n\n    res();\n  }\n\n  async afterClearTooltip(tooltipProps) {\n    const { bill } = tooltipProps;\n\n    const tooltip = await document.querySelector('.tooltip__copy');\n\n    await new Promise((res) => {\n      const showTooltip = this.showTooltip.bind(this, tooltip, res);\n      setTimeout(showTooltip);\n    });\n\n    await new Promise((res) => {\n      setTimeout(() => {\n        tooltip.style.right = 80;\n\n        res();\n      }, 50);\n    });\n\n    await new Promise((res) => {\n      const removeAllTooltips = this.removeAllTooltips.bind(this, bill, res);\n\n      setTimeout(removeAllTooltips, 1050);\n    });\n\n    bill.style.pointerEvents = 'all';\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CopyLink);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/bill/events/copyLink/copyLink.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/bill/events/removeBill/removeBill.js":
/*!************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/bill/events/removeBill/removeBill.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass RemoveBill {\n  init(props, e) {\n    if (e) {\n      this.removeFromDealCard(props, e);\n    } else {\n      this.removeFromClientCard(props);\n    }\n  }\n\n  removeFromClientCard(props) {\n    const removeBtns = document.querySelectorAll('.bill__remove');\n\n    if (removeBtns.length) {\n      const removeBill = this.removeFromDealCard.bind(this, props);\n\n      removeBtns.forEach((item) => {\n        const remove = utils.setCloneElement(item);\n\n        remove.addEventListener('click', removeBill);\n      });\n    }\n  }\n\n  removeFromDealCard(props, e) {\n    props.target = e.target;\n\n    const acceptRequest = this.acceptRemove.bind(this, props);\n\n    const popupProps = {\n      text: 'Вы действительно хотите удалить этот счет?',\n      settings: null,\n      title: null,\n      ok: acceptRequest,\n      cancel: null,\n      tartget: e.target,\n    };\n\n    popup.init(popupProps);\n  }\n\n  acceptRemove(props) {\n    const removeProps = this.getProps(props);\n\n    const { target } = removeProps;\n\n    removeProps.menu = utils.getParent(target, 'platform-modal');\n\n    const billItem = utils.getParent(target, 'bill__item');\n\n    const data = {\n      id: billItem.getAttribute('data-bill'),\n    };\n\n    const remove = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.billAPI.removeBill(data);\n\n    remove.then(() => {\n      const billWrapper = document.querySelectorAll('[js-client-bills]');\n\n      billWrapper.forEach((elem) => {\n        Array.from(elem.children).forEach((subj) => {\n          subj.remove();\n        });\n      });\n\n      props.tabBillObs.init(removeProps);\n    });\n  }\n\n  getProps(props) {\n    return utils.getDeepCopy(props);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RemoveBill);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/bill/events/removeBill/removeBill.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/bill/events/updateBill/events/changePaymentMethod/changePaymentMethod.js":
/*!************************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/bill/events/updateBill/events/changePaymentMethod/changePaymentMethod.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _addBill_events_paymentMethodIcons_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../addBill/events/paymentMethodIcons.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/paymentMethodIcons.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst paymentMethodIcons = new _addBill_events_paymentMethodIcons_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nclass ChangePaymentMethod {\n  init(props) {\n    const changeProps = {\n      ...props,\n    };\n\n    const { menu, bill } = changeProps;\n\n    if (bill) {\n      const paymentSelect = menu.querySelector('[js-bill-payment-method]');\n\n      if (paymentSelect) {\n        const paymentIcons = paymentMethodIcons.init.bind(paymentMethodIcons, changeProps);\n\n        const select = utils.setCloneElement(paymentSelect);\n\n        select.value = bill.paymentMethod;\n\n        select.addEventListener('change', paymentIcons);\n      }\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChangePaymentMethod);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/bill/events/updateBill/events/changePaymentMethod/changePaymentMethod.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/bill/events/updateBill/events/closeMenu/closeMenu.js":
/*!****************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/bill/events/updateBill/events/closeMenu/closeMenu.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass CloseMenu {\n  init(props) {\n    const { menu } = props;\n\n    const closeBtn = menu.querySelector('.platform__close--btn-modal');\n    const cancelBtn = menu.querySelector('.bill__close');\n\n    const closeMenu = this.closeMenu.bind(this, props);\n\n    [closeBtn, cancelBtn].forEach((item) => {\n      if (item) {\n        const close = utils.setCloneElement(item);\n        close.addEventListener('click', closeMenu);\n      }\n    });\n  }\n\n  closeMenu(props) {\n    const { menu } = props;\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n\n    utils.closeModalAnimation(menu, wrapper, false, true, false);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CloseMenu);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/bill/events/updateBill/events/closeMenu/closeMenu.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/bill/events/updateBill/events/errorBorder.js":
/*!********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/bill/events/updateBill/events/errorBorder.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass ErrorBorder {\n  init(props) {\n    this.setSumError(props);\n  }\n\n  setSumError(props) {\n    const { menu, bill, deal } = props;\n\n    const sum = menu.querySelector('[js-bill-sum-update]');\n\n    const sumBill = utils.sumBills(bill);\n    const currentSum = bill?.sum + sumBill;\n\n    if (bill?.id < 0) {\n      if (currentSum > deal.price || bill.sum < 0) {\n        sum.classList.add('bill-error');\n        sum.classList.add('bill-error__border');\n      } else {\n        sum.classList.remove('bill-error');\n        sum.classList.remove('bill-error__border');\n      }\n    } else {\n      sum.classList.remove('bill-error');\n      sum.classList.remove('bill-error__border');\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ErrorBorder);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/bill/events/updateBill/events/errorBorder.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/bill/events/updateBill/events/saveBill/saveBill.js":
/*!**************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/bill/events/updateBill/events/saveBill/saveBill.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass SaveBill {\n  init(props) {\n    const { menu, bill } = props;\n\n    const saveBtn = menu.querySelector('.bill__save');\n\n    const save = utils.setCloneElement(saveBtn);\n\n    if (saveBtn && bill?.id > 0) {\n      const updateBill = this.updateBill.bind(this, props);\n\n      save.addEventListener('click', updateBill);\n    } else if (saveBtn && bill?.id < 0) {\n      const saveBill = this.saveBill.bind(this, props);\n\n      save.addEventListener('click', saveBill);\n    }\n\n    const toValidationError = validation.toValidationError.bind(validation);\n    save.addEventListener('dblclick', toValidationError);\n  }\n\n  saveBill(props, e) {\n    const t = e.target;\n\n    const { menu, bill } = props;\n\n    const form = menu.querySelector('form');\n\n    const validate = validation.validateUpdateBill(props);\n\n    const data = this.getUpdateData(props, form, true);\n\n    props.needRemoveBillId = bill.id;\n\n    if (validate) {\n      const saveBill = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.billAPI.saveBill(data);\n      t.style.pointerEvents = 'none';\n\n      saveBill.then(\n        () => {\n          t.style.pointerEvents = 'all';\n          props.notValidBills = [...props.notValidBills].filter((el) => el.id !== bill.id);\n\n          this.afterUpdateBill(props);\n        },\n        () => {\n          t.style.pointerEvents = 'all';\n\n          const popupProps = {\n            text: 'Ошибка! Попробуйте заново или сообщите администратору.',\n            settings: 'alert-close',\n          };\n\n          popup.init(popupProps);\n        },\n      );\n    }\n  }\n\n  updateBill(props, e) {\n    const t = e.target;\n    const {\n      menu,\n    } = props;\n\n    const form = menu.querySelector('form');\n\n    const data = this.getUpdateData(props, form, false);\n\n    const validate = validation.validateUpdateBill(props);\n\n    if (validate) {\n      props.needRemoveBillId = null;\n\n      const updateBill = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.billAPI.updateBill(data);\n      t.style.pointerEvents = 'none';\n\n      updateBill.then(\n        () => {\n          t.style.pointerEvents = 'all';\n\n          this.afterUpdateBill(props);\n        },\n        () => {\n          t.style.pointerEvents = 'all';\n\n          const popupProps = {\n            text: 'Ошибка! Счет не сохранен, попробуйте заново или обратитесь к администратору',\n            settings: 'alert-close',\n          };\n\n          popup.init(popupProps);\n        },\n      );\n    }\n  }\n\n  getUpdateData(props, form, isSave) {\n    const { target, menu, pack } = props;\n    const { paymentMethods } = pack;\n\n    const billItem = utils.getParent(target, 'bill__item') ? utils.getParent(target, 'bill__item') : target;\n\n    const createBillBtn = billItem.classList.contains('bill__create');\n\n    if (!createBillBtn) {\n      const id = billItem.getAttribute('data-bill') > 0 ? billItem.getAttribute('data-bill') : 0;\n      const idDeal = billItem.getAttribute('data-deal');\n\n      const billDate = billItem.querySelector('.info__when--day').innerText.trim();\n\n      const paymentMethod = form.querySelector('[js-bill-payment-method]');\n      const method = paymentMethod.value;\n\n      const code = utils.getSelected(paymentMethod).getAttribute('data-code');\n\n      const sumValue = form.querySelector('[js-bill-sum-update]');\n      const acn = form.querySelector('[js-bill-account-number]');\n\n      const plannedPayDate = menu.querySelector('[js-bill-planned-date-update]').value;\n      const plannedPayDateArr = plannedPayDate.split('.');\n\n      const save = isSave ? `${plannedPayDateArr[2]}-${plannedPayDateArr[1]}-${plannedPayDateArr[0]}` : plannedPayDate;\n\n      let paymentMethodId;\n\n      paymentMethods.forEach((item) => {\n          if (item.title === method) {\n            paymentMethodId = item.id;\n          }\n      });\n\n      return {\n        id: id || null,\n        idDeal: idDeal || null,\n        billDate: billDate || null,\n        paymentMethodId: paymentMethodId || null,\n        paymentMethod: method || null,\n        paymentMethodCode: code || null,\n        sum: sumValue ? sumValue.value : null,\n        accountNumber: acn ? acn.value : null,\n        plannedPayDate: plannedPayDate ? save : null,\n      };\n    }\n  }\n\n  afterUpdateBill(props) {\n    const { menu } = props;\n    const billWrapper = document.querySelectorAll('[js-client-bills]');\n\n    billWrapper.forEach((item) => {\n      Array.from(item.children).forEach((elem) => {\n        elem.remove();\n      });\n    });\n\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n\n    utils.closeModalAnimation(menu, wrapper, false, false, false);\n\n    const billTabProps = {\n      ...props,\n      menu: utils.getActiveMenu(),\n    };\n\n    props.tabBillObs.init(billTabProps);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SaveBill);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/bill/events/updateBill/events/saveBill/saveBill.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/bill/events/updateBill/events/setData.js":
/*!****************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/bill/events/updateBill/events/setData.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _addBill_events_paymentMethodIcons_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../addBill/events/paymentMethodIcons.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/paymentMethodIcons.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst paymentMethodIcons = new _addBill_events_paymentMethodIcons_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass SetData {\n  init(props) {\n    this.setPaymentType(props);\n    this.setPaymentMethods(props);\n    this.setSum(props);\n    this.setPlannedDate(props);\n    this.hidePaymentType(props);\n  }\n\n  setPaymentType(props) {\n    const { menu, bill, pack } = props;\n    const { paymentMethods } = pack;\n\n    const currentType = paymentMethods.find((el) => el.id === bill.paymentMethodId);\n\n    const type = menu.querySelector('[name=\"payment-type\"]');\n\n    if (currentType) {\n      const isAcquiring = currentType.apiCode > 0;\n\n      if (isAcquiring) {\n        type.value = 'acquiring';\n        this.setSelected(type, type.value);\n      } else {\n        type.value = 'other';\n        this.setSelected(type, type.value);\n      }\n\n      const cloneType = utils.setCloneElement(type);\n      const changePaymentType = this.changePaymentType.bind(this, props);\n      cloneType.addEventListener('change', changePaymentType);\n    } else {\n      const method = menu.querySelector('[js-bill-payment-method]');\n\n      method.value = '';\n\n      const plannedPayDate = menu.querySelector('[js-bill-planned-date-update]');\n\n      plannedPayDate.value = bill.plannedPayDate;\n    }\n  }\n\n  setSelected(type, value) {\n    Array.from(type.children).forEach((item) => {\n      item.removeAttribute('selected');\n\n      if (item.value === value) {\n        item.setAttribute('selected', '');\n      }\n    });\n  }\n\n  changePaymentType(props, e) {\n    const t = e.target;\n    const { pack, menu } = props;\n    const { paymentMethods } = pack;\n\n    const isAcquiring = t.value === 'acquiring';\n\n    this.paymentMethodsToSelect(isAcquiring, paymentMethods, menu, props);\n  }\n\n  setPaymentMethods(props) {\n    const { pack } = props;\n    const { paymentMethods } = pack;\n\n    const menu = document.querySelector('[add-bill-menu]');\n\n    const type = menu.querySelector('[js-bill-acquiring]').value;\n\n    const isAcquiring = type === 'acquiring';\n\n    this.paymentMethodsToSelect(isAcquiring, paymentMethods, menu, props);\n  }\n\n  paymentMethodsToSelect(isAcquiring, paymentMethods, menu, props) {\n    const paymentMethod = menu.querySelector('[js-bill-payment-method]');\n\n    if (paymentMethod) {\n      utils.removeChildren(paymentMethod, 0);\n\n      let currentMethods;\n\n      if (isAcquiring) {\n        currentMethods = paymentMethods.filter((el) => el.apiCode > 0);\n      } else {\n        currentMethods = paymentMethods.filter((el) => el.apiCode === 0);\n      }\n\n      currentMethods.forEach((item) => {\n        const option = document.querySelector('option');\n        option.setAttribute('value', item.title);\n        option.setAttribute('data-code', item.code);\n        option.innerText = item.title;\n        option.removeAttribute('disabled');\n\n        paymentMethod.appendChild(option);\n      });\n\n      paymentMethod.value = '';\n\n      Array.from(paymentMethod.children).forEach((item) => {\n        item.removeAttribute('selected');\n      });\n\n      paymentMethodIcons.init(props);\n    }\n  }\n\n  setSum(props) {\n    const { menu, bill } = props;\n    if (bill) {\n      const sum = menu.querySelector('[js-bill-sum-update]');\n\n      sum.setAttribute('required', '');\n\n      if (sum && bill.sum) {\n        sum.value = bill.sum;\n      } else if (sum && !bill.sum) {\n        sum.value = '';\n      }\n    }\n  }\n\n  setPlannedDate(props) {\n    const { menu, bill } = props;\n\n    if (bill) {\n      const date = menu.querySelector('[js-bill-planned-date-update]');\n\n      date.setAttribute('required', '');\n\n      if (bill.plannedPayDate) {\n        date.value = utils.getDateFormatDDMMYYYY(bill.plannedPayDate);\n      } else {\n        date.value = '';\n      }\n    }\n  }\n\n  hidePaymentType(props) {\n    const { menu } = props;\n\n    const info = menu.querySelector('.bills-item__pay-info');\n\n    const paymentType = Array.from(info.children)[0];\n    const paymentMethod = Array.from(info.children)[1];\n\n    paymentType.parentNode.classList.add('edit-mode');\n\n    paymentType.classList.add('width_100');\n    paymentMethod.classList.add('width_100');\n    paymentMethod.classList.add('mt_15');\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SetData);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/bill/events/updateBill/events/setData.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/bill/events/updateBill/updateBill.js":
/*!************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/bill/events/updateBill/updateBill.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_setData_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/setData.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/updateBill/events/setData.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _events_closeMenu_closeMenu_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events/closeMenu/closeMenu.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/updateBill/events/closeMenu/closeMenu.js\");\n/* harmony import */ var _events_saveBill_saveBill_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./events/saveBill/saveBill.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/updateBill/events/saveBill/saveBill.js\");\n/* harmony import */ var _events_errorBorder_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./events/errorBorder.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/updateBill/events/errorBorder.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n/* harmony import */ var _addBill_events_paymentMethodIcons_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../addBill/events/paymentMethodIcons.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/addBill/events/paymentMethodIcons.js\");\n/* harmony import */ var _events_changePaymentMethod_changePaymentMethod_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./events/changePaymentMethod/changePaymentMethod.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/updateBill/events/changePaymentMethod/changePaymentMethod.js\");\n\n\n\n\n\n\n\n\n\nconst setData = new _events_setData_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst closeMenu = new _events_closeMenu_closeMenu_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst saveBill = new _events_saveBill_saveBill_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst errorBorder = new _events_errorBorder_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\nconst paymentMethodIcons = new _addBill_events_paymentMethodIcons_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\nconst changePaymentMethod = new _events_changePaymentMethod_changePaymentMethod_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]();\n\nclass UpdateBill {\n  init(props, e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const { menu } = props;\n\n    const t = e.target;\n\n    const isCreateBtn = t.classList.contains('bill__create');\n    const isDealCard = t.classList.contains('menu-client');\n\n    if ((!isCreateBtn && !isDealCard) || t.classList.contains('icon')) {\n      utils.openModalAnimation(menu, true);\n\n      this.setDataInMenu(props, t);\n    }\n  }\n\n  setDataInMenu(props, t) {\n    const billProps = this.getProps(props, t);\n\n    const { menu } = billProps;\n\n    const saveBtn = menu.querySelector('.bill__save');\n    saveBtn.innerText = 'Сохранить изменениния';\n\n    const template = menu.querySelector('[js-bill-payment-template]');\n\n    this.hideItems(menu, template);\n\n    const billsLevels = menu.querySelectorAll('.bill-layer');\n\n    if (billsLevels.length) {\n      billsLevels.forEach((item) => item.remove());\n    }\n\n    const itemsRequired = Array.from(menu.querySelectorAll('[required]'));\n    itemsRequired.shift();\n\n    this.showItems(menu);\n\n    const items = [setData, closeMenu, saveBill, errorBorder, changePaymentMethod];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(billProps);\n    });\n\n    const sum = menu.querySelector('[js-bill-sum-update]');\n\n    const validateInput = this.validateInput.bind(this);\n\n    sum.addEventListener('input', validateInput);\n\n    paymentMethodIcons.init(props);\n  }\n\n  validateInput(e) {\n    const { target } = e;\n\n    validation.validationInputNuber(target);\n  }\n\n  getProps(props, t) {\n    props.target = t;\n\n    const billProps = {\n      ...props,\n    };\n\n    const { menu, bills, notValidBills } = billProps;\n\n    menu.querySelector('[client-name]').innerText = 'Редактировать счет';\n    menu.querySelector('.platform-form__access-btn.bill__save').innerText = 'Сохранить';\n\n    const billItem = utils.getParent(t, 'bill__item');\n\n    const bill = billItem || t;\n\n    const idDeal = bill.getAttribute('data-deal');\n    billProps.idDeal = idDeal;\n\n    const idBill = +bill.getAttribute('data-bill');\n\n    const currentBill = bills?.find((el) => el.id === idBill);\n    const currentNotValidBills = notValidBills?.find((el) => el.id === idBill);\n\n    const current = currentBill || currentNotValidBills;\n\n    billProps.bill = current;\n\n    return billProps;\n  }\n\n  showItems(menu) {\n    const items = menu.querySelectorAll('[edit-bill-item]');\n\n    if (items.length) {\n      items.forEach((item) => {\n        item.classList.remove('hide');\n      });\n    }\n\n    const updateItems = [\n      document.querySelector('[js-bill-planned-date-update]'),\n      document.querySelector('[js-bill-sum-update]'),\n    ];\n\n    updateItems.forEach((item) => {\n      item.setAttribute('required', '');\n    });\n\n    const info = menu.querySelector('.bills-item__pay-info');\n\n    if (info) {\n      info.classList.remove('hide');\n    }\n  }\n\n  hideItems(menu, template) {\n    const templateWrapper = utils.getParent(template, 'bills-form__item');\n    templateWrapper.classList.add('hide');\n\n    const addBtnLayer = menu.querySelector('[add-bill-btn]');\n    addBtnLayer.classList.add('hide');\n\n    const remains = document.querySelector('.bills-remains');\n    remains.classList.add('hide');\n\n    const createMenu = menu.querySelector('[create-bill-menu]');\n    createMenu.classList.add('hide');\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UpdateBill);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/bill/events/updateBill/updateBill.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/bill/templates/billTemplates.js":
/*!*******************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/bill/templates/billTemplates.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass BillTemplates {\n  renderBill(billPack) {\n    const {\n      pack,\n      bill,\n      menu,\n      isView,\n      deal,\n      apiCode,\n    } = billPack;\n\n    let canEdit;\n\n    if (pack) {\n      const accessToEdit = ['ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_HEAD_MANAGER'];\n      canEdit = accessToEdit.includes(pack.role) && menu.hasAttribute('js-menu-deal');\n    }\n\n    const payd = bill.payDate || bill.billImage || bill.comment;\n\n    const payInfoPack = {\n      bill,\n      payd,\n      canEdit,\n      isView,\n      apiCode,\n    };\n\n    const buttonPaymentState = this.noPaydTemplates(payInfoPack);\n\n    const billDate = utils.getDateFormatDDMMYYYY(bill.billDate);\n    const payDate = utils.getDateFormatDDMMYYYY(bill.payDate || bill.billDate);\n\n    return `\n          <form class=\"bill__form\">\n            <div class=\"bill__info\">\n              <div class=\"bill__status ${payd ? 'active' : ''}\"></div>\n              <div class=\"bill__create-info\">\n                ${payd ? `\n                  <div class=\"bill__tooltip\">\n                    <p class=\"bill__exhibited\">Выставлен:</p>\n                    <p class=\"bill__exhibited-date\">${billDate}</p>\n                  </div>\n                ` : ''}\n                <p class=\"info__title\">${payd ? 'Оплачен' : 'Выставлен'}</p>\n                <div class=\"info__when\">\n                  <span class=\"info__when--day ${isView ? 'disabled' : ''}\">\n                    ${payd ? payDate : billDate}\n                  </span>\n                  <span class=\"info__when--time\"></span>\n                </div>\n              </div>\n            </div>\n          ${bill.paymentMethod ? `\n            <div class=\"bill__methods\">\n              <div class=\"methods__select paymentmethods ${bill.paymentMethodCode}\" title=\"${bill.paymentMethod}\">\n                <span class=\"methods__select--value\">${bill.paymentMethod}</span>\n              </div>\n            </div>\n            ` : `\n              <div class=\"bill__methods\">\n                <span class=\"methods__select--value\">Метод оплаты не выбран</span>\n              </div>\n            `\n      }\n          <div class=\"bill__manager\">\n              <p class=\"manager__title\">Менеджер</p>\n              <p class=\"manager__name\" title=\"${bill.manager || 'Нет'}\">${bill.manager || 'Нет'}</p>\n            </div>\n          ${buttonPaymentState}\n          <div class=\"bill__price\">\n              <p class=\"price__title\">Сумма</p>\n              <p class=\"price__value ${((bill.sum > deal?.price) || (bill.sum < 0)) ? 'bill-error' : ''}\" title=\"${bill.sum} ₽\">${bill.sum} ₽</p>\n          </div>\n          </form>\n          ${!isView && !payd ? '<span class=\"bill__remove\"></span>' : ''}\n      `;\n  }\n\n  noPaydTemplates(payInfoPack) {\n    const {\n      bill,\n      canEdit,\n      isView,\n      apiCode,\n      payd,\n    } = payInfoPack;\n\n    const haveReceipt = bill.comment || bill.billImage;\n\n    const notEquaring = haveReceipt ? this.receipt(isView, payd) : this.buttonReceipt(isView, payd);\n\n    const equaringProps = {\n      bill,\n      isView,\n      payd,\n    };\n\n    const canEditTemplate = apiCode !== 0 ? this.equaringTemplate(equaringProps) : notEquaring;\n\n    return !canEdit ? this.noEditTemplate(bill) : canEditTemplate;\n  }\n\n  receipt(isView) {\n    return `<div class=\"bill__link\">\n      <div class=\"link__btn payoff bill__redemption ${isView ? 'disabled' : ''}\">\n        Счет погашен\n      </div>\n    </div>`;\n  }\n\n  buttonReceipt(isView) {\n    return `\n      <div class=\"bill__link\">\n        <div class=\"link__btn payoff ${isView ? 'disabled' : ''}\">Погасить счет</div>\n      </div>\n      `;\n  }\n\n  noEditTemplate(bill) {\n    return `\n      <div class=\"bill__deal\" >\n        <p class=\"deal__title\">Сделка</p>\n        <p class=\"deal__name\" title=\"${bill.course}\">${bill.course}</p>\n      </div>\n      `;\n  }\n\n  equaringTemplate(equaringProps) {\n    const { bill, isView, payd } = equaringProps;\n\n    return `<div class=\"bill__link\">\n      <a href=\"${bill.leeLooLink}\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"link__btn ${isView || payd ? 'disabled' : ''}\">\n        Ссылка на оплату\n        <span class=\"bill__copy\"></span>\n      </a>\n    </div> `;\n  }\n\n  setPaymentOptions(paymentMethods) {\n    return paymentMethods.map((item) => {\n      return `<option value = \"${item.title}\" class=\"bills__payment--option\" data - code=\"${item.code}\">${item.title}</option> `;\n    });\n  }\n\n  updateMenu() {\n    return `\n      <p class=\"update-menu__text\" > Применить изменения ?</p>\n      <div update class=\"update-menu__ok\">Применить</div>\n      <div cancel class=\"update-menu__cancel\">Отмена<div>\n    `;\n  }\n\n  AddBillMenuBillTemplate(counter) {\n    return `\n        <div class=\"add-bill__item bill__rouble--icon\">\n          <p class=\"add-bill__name\">Счет <span add-bill__counter>${counter}</span> *</p>\n          <input bill-value type=\"text\" class=\"platform-form__input\">\n        </div>\n        <div class=\"add-bill__item\">\n          <p class=\"add-bill__name\">Дата *</p>\n          <input bill-date type=\"text\" class=\"platform-form__input datepicker-here\">\n        </div>\n        <div clas=\"add-bill__nav\">\n          <span class=\"add-bill__remove-level\"></span>\n        </div>\n    `;\n  }\n\n  getPreloaderPayImageTemplate(tmpPath) {\n    return `\n      <img src=\"${tmpPath}\">\n      <span class=\"file-loader__delete preview_update\"></span>\n    `;\n  }\n\n  addBillMenuBillTemplate(counter, item, index) {\n    return `\n      <div class=\"bill-layer__item\">\n        <p bill-counter class=\"bill-layer__name\">${counter || index + 1} счет *</p>\n        <input required js-bill-sum class=\"bill-layer__input platform-form__input update-deal__input mt_5\" type=\"text\" placeholder=\"Введите сумму\" value=\"${item?.sum || ''}\">\n      </div>\n      <div class=\"bill-layer__item\">\n        <p class=\"bill-layer__name\">Дата оплаты *</p>\n        <input required js-bill-planned-date class=\"datepicker-here bill-layer__input platform-form__input update-deal__input mt_5\" type=\"text\" placeholder=\"Введите дату\" value=\"${item?.plannedPayDate || ''}\">\n      </div>\n      <div class=\"bill-layer__remove\"></div>\n    `;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BillTemplates);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/bill/templates/billTemplates.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/clientCard.js":
/*!************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/clientCard.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _clientCardEvents_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./clientCardEvents.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/clientCardEvents.js\");\n/* harmony import */ var _events_changeClientObserver_changeClientObserver_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/changeClientObserver/changeClientObserver.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/changeClientObserver/changeClientObserver.js\");\n\n\n\nconst clientCardEvents = new _clientCardEvents_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst afterUpdateInfo = new _events_changeClientObserver_changeClientObserver_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass ClientCard {\n  init(clientCardData) {\n    const {\n      pack,\n      client,\n      clientObs,\n      user,\n      clientCardObs,\n      rowEventsObs,\n      rerenderContent,\n    } = clientCardData;\n\n    const props = {\n      pack,\n      menu: document.querySelector('[js-menu-client-card]'),\n      client,\n      defaultTab: 'Сделки',\n      activeTab: 'Сделки',\n      clientObs,\n      user,\n      clientCardObs,\n      rowEventsObs,\n      rerenderContent,\n    };\n\n    const events = this.events.bind(this);\n\n    events(props);\n  }\n\n  events(clientCardPack) {\n    const setEvents = clientCardEvents.init.bind(clientCardEvents);\n\n    if (!clientCardPack.clientObs) {\n      clientCardPack.clientObs = afterUpdateInfo;\n    }\n\n    setEvents(clientCardPack);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ClientCard);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/clientCard.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/clientCardEvents.js":
/*!******************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/clientCardEvents.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_openClientCard_openClientCard_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/openClientCard/openClientCard.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/openClientCard/openClientCard.js\");\n/* harmony import */ var _events_closeClientCard_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/closeClientCard.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/closeClientCard.js\");\n\n\n\nconst openClientCard = new _events_openClientCard_openClientCard_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst closeClientCard = new _events_closeClientCard_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass ClientCardEvents {\n  init(clientCardPack) {\n    const items = [openClientCard, closeClientCard];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(clientCardPack);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ClientCardEvents);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/clientCardEvents.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/changeClientObserver/changeClientObserver.js":
/*!**************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/changeClientObserver/changeClientObserver.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _clientInfoObserver_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../clientInfoObserver.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/clientInfoObserver.js\");\n/* harmony import */ var _clientIcons_clientIcons_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../clientIcons/clientIcons.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/clientIcons/clientIcons.js\");\n/* harmony import */ var _events_updateClientCard_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events/updateClientCard.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/changeClientObserver/events/updateClientCard.js\");\n/* harmony import */ var _events_updateTableRow_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./events/updateTableRow.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/changeClientObserver/events/updateTableRow.js\");\n/* harmony import */ var _getAccess_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../getAccess.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/getAccess.js\");\n/* harmony import */ var _editClientName_editClientName_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../editClientName/editClientName.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/editClientName/editClientName.js\");\n/* harmony import */ var _events_afterSaveInfo_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./events/afterSaveInfo.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/changeClientObserver/events/afterSaveInfo.js\");\n/* harmony import */ var _hideClientManager_hideClientManager_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../hideClientManager/hideClientManager.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/hideClientManager/hideClientManager.js\");\n\n\n\n\n\n\n\n\n\nconst setClientInfo = new _clientInfoObserver_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst clientIcons = new _clientIcons_clientIcons_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst updateClientCard = new _events_updateClientCard_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst updateTableRow = new _events_updateTableRow_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst getAccess = new _getAccess_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\nconst editClientName = new _editClientName_editClientName_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\nconst afterSaveInfo = new _events_afterSaveInfo_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\nconst hideClientManager = new _hideClientManager_hideClientManager_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]();\n\nclass AfterUpdateInfo {\n  init(clientCardPack) {\n    const props = {\n      ...clientCardPack,\n    };\n\n    const items = [\n      setClientInfo,\n      clientIcons,\n      updateClientCard,\n      updateTableRow,\n      getAccess,\n      editClientName,\n      hideClientManager,\n    ];\n\n    if (props.saveClient) {\n      items.push(afterSaveInfo);\n    }\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(clientCardPack);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AfterUpdateInfo);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/changeClientObserver/changeClientObserver.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/changeClientObserver/events/afterSaveInfo.js":
/*!**************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/changeClientObserver/events/afterSaveInfo.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _updateRequest_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../updateRequest.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/updateRequest.js\");\n/* harmony import */ var _tabs_tabs_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../tabs/tabs.js */ \"./dev/static/js/platform/menu/items/crm/tabs/tabs.js\");\n\n\n\nconst updateRequest = new _updateRequest_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst tabs = new _tabs_tabs_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass AfterSaveInfo {\n  init(clientCardPack) {\n    const { client } = clientCardPack;\n\n    const items = [updateRequest, tabs];\n\n    const clientPack = {\n      ...clientCardPack,\n      defaultTab: 'Сделки',\n      client,\n    };\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(clientPack);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AfterSaveInfo);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/changeClientObserver/events/afterSaveInfo.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/changeClientObserver/events/updateClientCard.js":
/*!*****************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/changeClientObserver/events/updateClientCard.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass UpdateClientCard {\n  init(clientCardPack) {\n    const props = {\n      ...clientCardPack,\n    };\n\n    const { target, client, menu } = props;\n\n    target.disabled = true;\n\n    const input = menu.querySelector('[js-change-client-name]');\n\n    const name = menu.querySelector('[js-client-name]');\n\n    if (input) {\n      input.style.display = 'none';\n      name.innerText = client.name;\n      name.style.display = 'flex';\n    }\n\n    const avatar = menu.querySelector('[js-client-avatar]');\n    avatar.innerText = name.innerText.trim()[0].toUpperCase();\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UpdateClientCard);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/changeClientObserver/events/updateClientCard.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/changeClientObserver/events/updateTableRow.js":
/*!***************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/changeClientObserver/events/updateTableRow.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass UpdateTableRow {\n  init() {\n    /* Тут изменения в таблице CRM */\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UpdateTableRow);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/changeClientObserver/events/updateTableRow.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/clientIcons/clientIcons.js":
/*!********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/clientIcons/clientIcons.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_setClientIcons_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/setClientIcons.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/clientIcons/events/setClientIcons.js\");\n/* harmony import */ var _events_copyLink_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/copyLink.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/clientIcons/events/copyLink.js\");\n/* harmony import */ var _events_goLinks_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events/goLinks.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/clientIcons/events/goLinks.js\");\n\n\n\n\nconst setClientIcons = new _events_setClientIcons_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst copyLink = new _events_copyLink_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst goLink = new _events_goLinks_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass ClientIcons {\n  init(clientCardPack) {\n    const props = {\n      ...clientCardPack,\n    };\n\n    const setEvents = this.setEvents.bind(this);\n    setEvents(props);\n  }\n\n  setEvents(props) {\n    const clientEventsData = {\n      ...props,\n    };\n\n    const items = [setClientIcons, copyLink, goLink];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(clientEventsData);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ClientIcons);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/clientIcons/clientIcons.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/clientIcons/events/copyLink.js":
/*!************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/clientIcons/events/copyLink.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass CopyLink {\n  init(clientCardPack) {\n    const props = {\n      ...clientCardPack,\n    };\n\n    const clientCard = document.querySelector('[js-menu-client-card]');\n\n    const copyBtns = clientCard.querySelectorAll('.platform__copy');\n    props.copyBtns = copyBtns;\n\n    const setEvents = this.setEvents.bind(this);\n    setEvents(props);\n  }\n\n  setEvents(clientCardPack) {\n    const { copyBtns } = clientCardPack;\n\n    if (copyBtns.length) {\n      copyBtns.forEach((item) => {\n        const input = utils.getParent(item, 'platform-form__item').querySelector('input');\n        const copyLink = this.copyLink.bind(this, input);\n\n        const copyClone = utils.setCloneElement(item);\n        copyClone.addEventListener('click', copyLink);\n      });\n    }\n  }\n\n  copyLink(input, e) {\n    utils.copyLink(input.value, e);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CopyLink);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/clientIcons/events/copyLink.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/clientIcons/events/goLinks.js":
/*!***********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/clientIcons/events/goLinks.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass GoLink {\n  init(clientCardPack) {\n    const props = {\n      ...clientCardPack,\n    };\n\n    const clientCard = document.querySelector('[js-menu-client-card]');\n\n    const goBtns = clientCard.querySelectorAll('.platform__go');\n    props.goBtns = goBtns;\n\n    const setEvents = this.setEvents.bind(this);\n    setEvents(props);\n  }\n\n  setEvents(clientCardPack) {\n    const { goBtns } = clientCardPack;\n\n    if (goBtns.length) {\n      goBtns.forEach((item) => {\n        const input = utils.getParent(item, 'platform-form__item').querySelector('input');\n\n        const cloneBtn = utils.setCloneElement(item);\n\n        const setLink = this.setLink.bind(this, input);\n        cloneBtn.addEventListener('click', setLink);\n      });\n    }\n  }\n\n  setLink(input, e) {\n    const t = e.target;\n\n    if (input.hasAttribute('client-telegram')) {\n      t.setAttribute('href', `https://t.me/${input.value}`);\n    } else {\n      t.setAttribute('href', input.value);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GoLink);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/clientIcons/events/goLinks.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/clientIcons/events/setClientIcons.js":
/*!******************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/clientIcons/events/setClientIcons.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass SetClientIcons {\n  init(clientCardPack) {\n    const props = {\n      ...clientCardPack,\n    };\n\n    const setIcons = this.setClientIcons.bind(this);\n    setIcons(props);\n  }\n\n  setClientIcons(clientCardPack) {\n    const { client, menu } = clientCardPack;\n\n    const toggleIcon = menu.querySelector('[client-remove]') || menu.querySelector('[client-recover]');\n\n    if (!client.hidden) {\n      toggleIcon.className = 'client-nav__remove';\n      toggleIcon.setAttribute('client-remove', '');\n      toggleIcon.removeAttribute('client-recover');\n    } else {\n      toggleIcon.className = 'client-nav__recover';\n      toggleIcon.setAttribute('client-recover', '');\n      toggleIcon.removeAttribute('client-remove');\n    }\n\n    const clientCard = document.querySelector('[js-menu-client-card]');\n\n    const copy = clientCard.querySelectorAll('.platform__copy');\n    const go = clientCard.querySelectorAll('.platform__go');\n\n    const [tel, email, vk, telegram] = Array.from(copy);\n    const [link, telega] = Array.from(go);\n\n    if (!client.phone) {\n      tel.style.display = 'none';\n    } else {\n      tel.style.display = 'flex';\n    }\n\n    if (!client.email) {\n      email.style.display = 'none';\n    } else {\n      email.style.display = 'flex';\n    }\n\n    if (!client.link) {\n      vk.style.display = 'none';\n      link.style.display = 'none';\n      const item = utils.getParent(vk, 'platform-form__item').querySelector('.platform__nav--delim');\n\n      item.style.display = 'none';\n    } else {\n      vk.style.display = 'flex';\n      link.style.display = 'flex';\n      const item = utils.getParent(vk, 'platform-form__item').querySelector('.platform__nav--delim');\n\n      item.style.display = 'flex';\n    }\n\n    if (!client.telegram) {\n      telegram.style.display = 'none';\n      telega.style.display = 'none';\n\n      const item = utils.getParent(telega, 'platform-form__item').querySelector('.platform__nav--delim');\n\n      item.style.display = 'none';\n    } else {\n      telegram.style.display = 'flex';\n      const item = utils.getParent(telega, 'platform-form__item').querySelector('.platform__nav--delim');\n      telega.style.display = 'flex';\n\n      item.style.display = 'flex';\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SetClientIcons);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/clientIcons/events/setClientIcons.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/clientInfoObserver.js":
/*!***************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/clientInfoObserver.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass SetClientInfo {\n  init(clientCardPack) {\n    const props = {\n      ...clientCardPack,\n    };\n\n    const setClientInfo = this.setClientInfo.bind(this);\n    setClientInfo(props);\n  }\n\n  setClientInfo(clientCardPack) {\n    const { client } = clientCardPack;\n\n    const clientCard = document.querySelector('[js-menu-client-card]');\n\n    const name = clientCard.querySelector('[js-client-name]');\n    name.innerText = client.name ? client.name : '';\n\n    const when = clientCard.querySelector('[when-create]');\n    when.innerText = client.createDate ? utils.getDateFormatDDMMYYYY(client.createDate) : '';\n\n    const who = clientCard.querySelector('[who-create]');\n    who.innerText = client.manager ? client.manager : '';\n\n    const phone = clientCard.querySelector('[client-phone]');\n    phone.value = client.phone ? client.phone : '';\n\n    const email = clientCard.querySelector('[client-email]');\n    email.value = client.email ? client.email : '';\n\n    const vk = clientCard.querySelector('[client-vk]');\n    vk.value = client.link ? this.getClientLink(client.link) : '';\n\n    const telegram = clientCard.querySelector('[client-telegram]');\n    telegram.value = client.telegram ? client.telegram : '';\n  }\n\n  getClientLink(link) {\n    const isHttp = link.split('http://').length > 1 ? link : '';\n    const isHttps = link.split('https://').length > 1 ? link : '';\n    const data = isHttp || isHttps;\n\n    return data || `https://${link}`;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SetClientInfo);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/clientInfoObserver.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/closeClientCard.js":
/*!************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/closeClientCard.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass CloseClientCard {\n  init(clientCardPack) {\n    const props = {\n      ...clientCardPack,\n    };\n\n    const { menu } = props;\n\n    if (menu) {\n      const closeBtn = menu.querySelector('.platform__close--btn-modal');\n\n      if (closeBtn) {\n        const closeClientCard = this.closeClientCard.bind(this, clientCardPack);\n        closeBtn.addEventListener('click', closeClientCard);\n      }\n    }\n  }\n\n  closeClientCard(clientCardPack) {\n    const { menu } = clientCardPack;\n\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n    utils.closeModalAnimation(menu, wrapper, false, false, false);\n\n    const editClientBtn = menu.querySelector('[edit-client]');\n    editClientBtn.setAttribute('disabled', true);\n\n    const closeInput = this.closeInput.bind(this, clientCardPack);\n    setTimeout(closeInput, 800);\n  }\n\n  closeInput(clientCardPack) {\n    const { menu } = clientCardPack;\n\n    const name = menu.querySelector('[js-client-name]');\n    const isView = utils.getCssProperty(name, 'display') === 'flex';\n\n    if (!isView) {\n      name.style.display = 'flex';\n\n      const input = menu.querySelector('[js-change-client-name]');\n      input.style.display = 'none';\n      input.value = '';\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CloseClientCard);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/closeClientCard.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/editClientName/editClientName.js":
/*!**************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/editClientName/editClientName.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_openChangesInput_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/openChangesInput.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/editClientName/events/openChangesInput.js\");\n\n\nconst openChangesInput = new _events_openChangesInput_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass EditClientName {\n  init(clientCardPack) {\n    const props = {\n      ...clientCardPack,\n    };\n\n    const items = [openChangesInput];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(props);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EditClientName);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/editClientName/editClientName.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/editClientName/events/openChangesInput.js":
/*!***********************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/editClientName/events/openChangesInput.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass OpenChangesInput {\n  init(clientCardPack) {\n    const { menu } = clientCardPack;\n\n    const name = menu.querySelector('[js-client-name]');\n\n    const openInput = this.openInput.bind(this, clientCardPack);\n    const nameClone = utils.setCloneElement(name);\n    nameClone.addEventListener('click', openInput);\n  }\n\n  openInput(clientCardPack, e) {\n    const t = e.target;\n\n    t.style.display = 'none';\n\n    const input = t.parentNode.querySelector('[js-change-client-name]');\n    input.value = t.innerText;\n    input.style.display = 'flex';\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OpenChangesInput);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/editClientName/events/openChangesInput.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/enableUpdateButton.js":
/*!***************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/enableUpdateButton.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass EnableUpdateButton {\n  init(clientCardPack) {\n    const props = {\n      ...clientCardPack,\n      menu: document.querySelector('[js-menu-client-card]'),\n    };\n\n    const { menu } = props;\n\n    const fields = menu.querySelectorAll('.client-edit');\n\n    if (fields.length) {\n      const enable = this.enableUpdateButton.bind(this, props);\n\n      fields.forEach((item) => {\n        const cloneInput = utils.setCloneElement(item);\n        cloneInput.addEventListener('input', enable);\n      });\n    }\n  }\n\n  enableUpdateButton(clientCardPack) {\n    const { menu } = clientCardPack;\n\n    const updateBtn = menu.querySelector('[edit-client]');\n\n    if (updateBtn.disabled) {\n      updateBtn.disabled = false;\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EnableUpdateButton);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/enableUpdateButton.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/getAccess.js":
/*!******************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/getAccess.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _getAccess_accessDefault_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getAccess/accessDefault.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/getAccess/accessDefault.js\");\n/* harmony import */ var _getAccess_changeAccess_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getAccess/changeAccess.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/getAccess/changeAccess.js\");\n\n\n\nconst accessDefault = new _getAccess_accessDefault_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst changeAccess = new _getAccess_changeAccess_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass GetAccess {\n  init(clientCardPack) {\n    const items = [accessDefault, changeAccess];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(clientCardPack);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GetAccess);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/getAccess.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/getAccess/accessDefault.js":
/*!********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/getAccess/accessDefault.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _copyAccess_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./copyAccess.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/getAccess/copyAccess.js\");\n/* harmony import */ var _templates_clientCardTemplates_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../templates/clientCardTemplates.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/templates/clientCardTemplates.js\");\n\n\n\nconst copyAccess = new _copyAccess_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst clientCardTemplates = new _templates_clientCardTemplates_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass AccessDefault {\n  init(clientCardPack) {\n    const props = {\n      ...clientCardPack,\n    };\n\n    const { client } = props;\n\n    if (client?.idUser !== 0) {\n      const setActive = this.setActive.bind(this);\n      setActive(props);\n    } else {\n      const setDisable = this.setDisable.bind(this);\n      setDisable(props);\n    }\n  }\n\n  setActive(clientCardPack) {\n    const clientCard = document.querySelector('[js-menu-client-card]');\n\n    const access = clientCard.querySelector('.access-item');\n    clientCardPack.accessItem = access;\n\n    const getActiveClass = this.getActiveClass.bind(this);\n    getActiveClass(clientCardPack);\n\n    const accessInfo = clientCard.querySelector('.access-item__body');\n\n    if (accessInfo) {\n      accessInfo.remove();\n    }\n\n    const accessBtn = document.querySelector('.access-item__btn');\n\n    if (accessBtn) {\n      accessBtn.remove();\n    }\n\n    const accessArray = ['ROLE_ADMIN', 'ROLE_MANAGER', 'ROLE_HEAD_MANAGER'];\n\n    if (accessArray.includes(clientCardPack.pack.role)) {\n      access.classList.remove('hide');\n      const setAccessInfo = this.setAccessInfo.bind(this);\n      setAccessInfo(clientCardPack);\n\n      const setCopyAccess = copyAccess.init.bind(copyAccess);\n      setCopyAccess(clientCardPack);\n    } else {\n      access.classList.add('hide');\n    }\n  }\n\n  getActiveClass(clientCardPack) {\n    const { accessItem } = clientCardPack;\n\n    accessItem.classList.add('active');\n  }\n\n  setAccessInfo(clientCardPack) {\n    const { accessItem } = clientCardPack;\n\n    const div = document.createElement('div');\n    div.classList.add('access-item__body');\n    div.innerHTML = clientCardTemplates.accessTemplate(clientCardPack);\n\n    accessItem.appendChild(div);\n  }\n\n  setDisable(props) {\n    const { menu } = props;\n\n    const clientCard = document.querySelector('[js-menu-client-card]');\n\n    const accessItem = clientCard.querySelector('.access-item');\n    accessItem.classList.remove('active');\n    accessItem.style.display = 'flex';\n\n    const accessBody = accessItem.querySelector('.access-item__body');\n\n    const div = document.createElement('div');\n    div.classList.add('access-item__btn');\n    div.innerText = 'Сгенерировать доступ';\n\n    if (accessBody) {\n      accessBody.remove();\n    }\n\n    const accessBtn = menu.querySelector('.access-item__btn');\n\n    if (!accessBtn) {\n      accessItem.appendChild(div);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AccessDefault);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/getAccess/accessDefault.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/getAccess/afterGetAccess.js":
/*!*********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/getAccess/afterGetAccess.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _accessDefault_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./accessDefault.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/getAccess/accessDefault.js\");\n\n\nconst accessDefault = new _accessDefault_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass AfterGetAccess {\n  init(clientCardPack) {\n    const { target } = clientCardPack;\n    target.style.pointerEvents = 'none';\n\n    const accessInit = accessDefault.init.bind(accessDefault);\n    accessInit(clientCardPack);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AfterGetAccess);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/getAccess/afterGetAccess.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/getAccess/changeAccess.js":
/*!*******************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/getAccess/changeAccess.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _afterGetAccess_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./afterGetAccess.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/getAccess/afterGetAccess.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst afterGetAccess = new _afterGetAccess_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass ChangeAccess {\n  init(clientCardPack) {\n    const props = {\n      ...clientCardPack,\n    };\n\n    const clientCard = document.querySelector('[js-menu-client-card]');\n\n    const accessBtn = clientCard.querySelector('.access-item__btn');\n\n    if (accessBtn) {\n      const giveAccess = this.giveAccess.bind(this, props);\n      const acceess = utils.setCloneElement(accessBtn);\n      acceess.addEventListener('click', giveAccess);\n    }\n  }\n\n  giveAccess(clientCardPack, e) {\n    const { client } = clientCardPack;\n    const t = e.target;\n\n    clientCardPack.target = t;\n\n    t.style.pointeEvents = 'none';\n\n    const getAccess = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.clientAPI.getAccess(client.id);\n\n    getAccess.then((access) => {\n      const after = afterGetAccess.init.bind(afterGetAccess);\n\n      clientCardPack.client.idUser = access.id;\n      clientCardPack.client.userLogin = access.username;\n      clientCardPack.client.userPassword = access.password;\n      after(clientCardPack);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChangeAccess);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/getAccess/changeAccess.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/getAccess/copyAccess.js":
/*!*****************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/getAccess/copyAccess.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass CopyAccess {\n  init(clientCardPack) {\n    const clientCard = document.querySelector('[js-menu-client-card]');\n\n    const copy = this.copyAccess.bind(this, clientCardPack);\n\n    const copyBtn = clientCard.querySelector('.platform-access__copy');\n\n    if (copyBtn) {\n      const cloneCopy = utils.setCloneElement(copyBtn);\n      cloneCopy.addEventListener('click', copy);\n    }\n  }\n\n  copyAccess() {\n    const clientCard = document.querySelector('[js-menu-client-card]');\n\n    const accessContainer = Array.from(clientCard.querySelectorAll('.platform-access__item'));\n\n    const copiedText = accessContainer.map((item) => {\n      const children = Array.from(item.children);\n\n      if (children.length) {\n        const name = children.filter((el) => el.classList.contains('platform-access__name'))[0].innerText.trim();\n        const value = children.filter((el) => el.classList.contains('platform-access__value'))[0].innerText.trim();\n\n        return `${name}\\n${value}\\n`;\n      }\n    });\n\n    const tmp = utils.setTextArea();\n    const body = document.querySelector('body');\n\n    body.appendChild(tmp);\n\n    tmp.innerHTML = copiedText.join('\\n');\n    document.querySelector('.tmp').select();\n\n    document.execCommand('copy');\n    tmp.remove();\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CopyAccess);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/getAccess/copyAccess.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/hideClientManager/events/afterChangeClientHide.js":
/*!*******************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/hideClientManager/events/afterChangeClientHide.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass AfterChangeClientHide {\n  init(props) {\n    this.changeBtnMode(props);\n    this.removeRowsAndCard(props);\n  }\n\n  changeBtnMode(props) {\n    const { client } = props;\n\n    if (client.hidden) {\n      const { menu } = props;\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n      utils.closeModalAnimation(menu, wrapper, false, false);\n\n      const changeBtn = this.changeBtn.bind(this, props);\n\n      setTimeout(changeBtn, 800);\n    } else {\n      this.changeBtn(props);\n    }\n  }\n\n  changeBtn(props) {\n    const { client, menu } = props;\n\n    const btn = menu.querySelector('[client-remove]') || menu.querySelector('[client-recover]');\n\n    if (btn && client.hidden) {\n      btn.className = 'client-nav__recover';\n    } else if (btn && !client.hidden) {\n      btn.className = 'client-nav__remove';\n    }\n  }\n\n  removeRowsAndCard(props) {\n    const { client, pack } = props;\n    const { role } = pack;\n\n    const access = ['ROLE_MANAGER', 'ROLE_HEAD_MANAGER'];\n\n    if (access.includes(role) && client.hidden) {\n      const rows = document.querySelectorAll(`.platform-table__row[data-client=\"${client.id}\"]`);\n\n      if (rows.length) {\n        rows.forEach((row) => row.remove());\n      }\n\n      const clientCard = document.querySelectorAll(`[js-client-card][data-client=\"${client.id}\"]`);\n\n      if (clientCard.length) {\n        clientCard.forEach((card) => card.remove());\n      }\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AfterChangeClientHide);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/hideClientManager/events/afterChangeClientHide.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/hideClientManager/hideClientManager.js":
/*!********************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/hideClientManager/hideClientManager.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _events_afterChangeClientHide_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./events/afterChangeClientHide.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/hideClientManager/events/afterChangeClientHide.js\");\n\n\n\n\n\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst afterChangeClientHide = new _events_afterChangeClientHide_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass HideClientManager {\n  init(props) {\n    const { menu } = props;\n\n    const toggleHide = menu.querySelector('[client-recover]') || menu.querySelector('[client-remove]');\n\n    if (toggleHide) {\n      const btn = utils.setCloneElement(toggleHide);\n\n      const changeHideClient = this.changeHideClient.bind(this, props);\n      btn.addEventListener('click', changeHideClient);\n    }\n  }\n\n  changeHideClient(props, e) {\n    const t = e.target;\n\n    const popupProps = {\n      settings: null,\n      title: null,\n      cancel: null,\n      target: t,\n    };\n\n    const propsForHideManager = {\n      t,\n      props,\n      popupProps,\n    };\n\n    this.getPopupProps(propsForHideManager);\n\n    popup.init(popupProps);\n  }\n\n  getPopupProps(propsForHideManager) {\n    const {\n      t,\n      props,\n      popupProps,\n    } = propsForHideManager;\n\n    if (t.classList.contains('client-nav__remove')) {\n      const removeClientRequest = this.changeClientHide.bind(this, props);\n\n      popupProps.text = 'Вы действительно хотите удалить этого клиента?';\n      popupProps.ok = removeClientRequest;\n    } else {\n      const recoverClientRequest = this.changeClientHide.bind(this, props);\n\n      popupProps.text = 'Вы действительно хотите восстановить этого клиента?';\n      popupProps.ok = recoverClientRequest;\n    }\n  }\n\n  changeClientHide(props) {\n    const { client } = props;\n\n    const data = {\n      id: client.id,\n      hidden: !client.hidden,\n    };\n\n    const request = _api_api_js__WEBPACK_IMPORTED_MODULE_2__.clientAPI.hideClient(data);\n\n    const loader = setTimeout(utils.showLoader, 400);\n\n    request.then(() => {\n      clearTimeout(loader);\n      utils.hideLoader();\n\n      props.client.hidden = data.hidden;\n\n      afterChangeClientHide.init(props);\n    }, () => {\n      clearTimeout(loader);\n      utils.hideLoader();\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (HideClientManager);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/hideClientManager/hideClientManager.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/openClientCard/events/openFromClientList.js":
/*!*************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/openClientCard/events/openFromClientList.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass OpenFromClientList {\n  openClientCard(clientCardPack) {\n    const { target, openMenu } = clientCardPack;\n\n    const clientCard = utils.getParent(target, 'clients__item');\n\n    if (clientCard) {\n      const idClient = clientCard.getAttribute('data-client');\n\n      clientCardPack.idClient = idClient;\n\n      const openClientCard = openMenu.bind(this);\n      openClientCard(clientCardPack);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OpenFromClientList);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/openClientCard/events/openFromClientList.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/openClientCard/events/openFromSearchClient.js":
/*!***************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/openClientCard/events/openFromSearchClient.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass OpenFromSearchClient {\n  openClientCard(clientCardPack) {\n    const { target, openMenu } = clientCardPack;\n\n    const clientCard = utils.getParent(target, 'client');\n\n    if (clientCard) {\n      const idClient = clientCard.querySelector('[js-client-id]').value;\n\n      clientCardPack.idClient = idClient;\n\n      const openClientCard = openMenu.bind(this);\n      openClientCard(clientCardPack);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OpenFromSearchClient);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/openClientCard/events/openFromSearchClient.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/openClientCard/events/openFromTable.js":
/*!********************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/openClientCard/events/openFromTable.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass OpenFromTable {\n  openClientCard(clientCardPack) {\n    const { target, openMenu } = clientCardPack;\n\n    const row = utils.getParent(target, 'platform-table__row');\n\n    if (row) {\n      const idClient = row.getAttribute('data-client');\n\n      clientCardPack.idClient = idClient;\n      const openClientCard = openMenu.bind(this);\n      openClientCard(clientCardPack);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OpenFromTable);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/openClientCard/events/openFromTable.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/openClientCard/openClientCard.js":
/*!**************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/openClientCard/openClientCard.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _tabs_tabs_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../tabs/tabs.js */ \"./dev/static/js/platform/menu/items/crm/tabs/tabs.js\");\n/* harmony import */ var _events_openFromTable_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./events/openFromTable.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/openClientCard/events/openFromTable.js\");\n/* harmony import */ var _events_openFromClientList_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./events/openFromClientList.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/openClientCard/events/openFromClientList.js\");\n/* harmony import */ var _events_openFromSearchClient_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./events/openFromSearchClient.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/openClientCard/events/openFromSearchClient.js\");\n/* harmony import */ var _setDataClientCard_setDataClientCard_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../setDataClientCard/setDataClientCard.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/setDataClientCard/setDataClientCard.js\");\n/* harmony import */ var _editClientName_editClientName_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../editClientName/editClientName.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/editClientName/editClientName.js\");\n/* harmony import */ var _hideClientManager_hideClientManager_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../hideClientManager/hideClientManager.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/hideClientManager/hideClientManager.js\");\n\n\n\n\n\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst tabs = new _tabs_tabs_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst openFromTable = new _events_openFromTable_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst openFromClientList = new _events_openFromClientList_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\nconst openFromSearchClient = new _events_openFromSearchClient_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\nconst setDataClientCard = new _setDataClientCard_setDataClientCard_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\nconst editClientName = new _editClientName_editClientName_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]();\nconst hideClientManager = new _hideClientManager_hideClientManager_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]();\n\nclass OpenClientCard {\n  init(clientCardPack) {\n    const props = {\n      ...clientCardPack,\n    };\n\n    const clientCardBtns = document.querySelectorAll('[js-client-card]');\n\n    if (clientCardBtns.length) {\n      const openClientCard = this.openClientCard.bind(this, props);\n\n      clientCardBtns.forEach((item) => {\n        const cloneClientCard = utils.setCloneElement(item);\n        cloneClientCard.addEventListener('click', openClientCard);\n      });\n    }\n  }\n\n  openClientCard(clientCardPack, e) {\n    const items = [\n      openFromTable,\n      openFromClientList,\n      openFromSearchClient,\n    ];\n\n    e.preventDefault();\n\n    const t = e.target;\n\n    clientCardPack.target = t;\n\n    const openMenu = this.openMenu.bind(this);\n    clientCardPack.openMenu = openMenu;\n\n    items.forEach((item) => {\n      const open = item.openClientCard.bind(item);\n      open(clientCardPack);\n    });\n  }\n\n  openMenu(clientCardPack) {\n    utils.showLoader();\n    const { menu } = clientCardPack;\n    utils.openModalAnimation(menu, true);\n\n    menu.querySelector('.platform-form__items').scrollTop = '0';\n\n    const setEvents = this.setEvents.bind(this);\n    setEvents(clientCardPack);\n  }\n\n  setEvents(clientCardPack) {\n    const { idClient } = clientCardPack;\n\n    const getClientInfo = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.clientAPI.getClientInfo(idClient);\n\n    getClientInfo.then((client) => {\n      clientCardPack.tabsCallBack = new _tabs_tabs_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n      clientCardPack.client = client;\n\n      const items = [setDataClientCard, editClientName, tabs, hideClientManager];\n\n      items.forEach((item) => {\n        const init = item.init.bind(item);\n        init(clientCardPack);\n      });\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OpenClientCard);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/openClientCard/openClientCard.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/setDataClientCard/events/afterGetClientInfo.js":
/*!****************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/setDataClientCard/events/afterGetClientInfo.js ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _clientInfoObserver_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../clientInfoObserver.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/clientInfoObserver.js\");\n/* harmony import */ var _setRandomCircle_setRandomCircle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../setRandomCircle/setRandomCircle.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/setRandomCircle/setRandomCircle.js\");\n/* harmony import */ var _clientIcons_clientIcons_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../clientIcons/clientIcons.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/clientIcons/clientIcons.js\");\n/* harmony import */ var _getAccess_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../getAccess.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/getAccess.js\");\n/* harmony import */ var _updateClient_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../updateClient.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/updateClient.js\");\n\n\n\n\n\n\nconst setClientInfo = new _clientInfoObserver_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst setRandomCircle = new _setRandomCircle_setRandomCircle_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst clientIcons = new _clientIcons_clientIcons_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst getAccess = new _getAccess_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst updateClient = new _updateClient_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n\nclass AfterGetClientInfo {\n  init(clientCardPack) {\n    const items = [\n      setClientInfo,\n      setRandomCircle,\n      clientIcons,\n      getAccess,\n      updateClient,\n    ];\n\n    clientCardPack.openClientCard = true;\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(clientCardPack);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AfterGetClientInfo);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/setDataClientCard/events/afterGetClientInfo.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/setDataClientCard/setDataClientCard.js":
/*!********************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/setDataClientCard/setDataClientCard.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_afterGetClientInfo_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/afterGetClientInfo.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/setDataClientCard/events/afterGetClientInfo.js\");\n\n\nconst afterGetClientInfo = new _events_afterGetClientInfo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass SetDataClientCard {\n  init(clientCardPack) {\n    const props = {\n      ...clientCardPack,\n    };\n\n    const setData = this.setData.bind(this);\n    setData(props);\n  }\n\n  setData(clientCardPack) {\n    const afterGetClient = afterGetClientInfo.init.bind(afterGetClientInfo);\n    afterGetClient(clientCardPack);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SetDataClientCard);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/setDataClientCard/setDataClientCard.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/setRandomCircle/events/setColor.js":
/*!****************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/setRandomCircle/events/setColor.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass SetColor {\n  init(clientCardPack) {\n    const props = {\n      ...clientCardPack,\n    };\n\n    const setColor = this.setColor.bind(this);\n    setColor(props);\n  }\n\n  setColor(props) {\n    const clientCard = document.querySelector('[js-menu-client-card]');\n\n    const color = this.getRandomColor(props);\n\n    if (clientCard) {\n      const avatar = clientCard.querySelector('.platform-form__avatar');\n      avatar.style.border = `2px solid ${color.borderColor}`;\n      const avatarInner = avatar.querySelector('.platform-form__avatar--bg');\n      avatarInner.style.backgroundColor = color.bgColor;\n      avatarInner.style.color = color.color;\n\n      avatar.setAttribute('data-border-color', color.borderColor);\n      avatar.setAttribute('data-bg-color', color.bgColor);\n      avatar.setAttribute('data-color', color.color);\n    }\n  }\n\n  getRandomColor(props) {\n    const { openClientCard, client } = props;\n\n    const colors = [\n      {\n        bgColor: '#D8F3DB',\n        color: '#B2E6B8',\n        borderColor: '#8DD896',\n      },\n      {\n        bgColor: '#D3D1F0',\n        color: '#AEABE3',\n        borderColor: '#8986D6',\n      },\n      {\n        bgColor: '#F3D8DC',\n        color: '#E6B2BA',\n        borderColor: '#D88D98',\n      },\n      {\n        bgColor: '#B8D2E8',\n        color: '#92B9DB',\n        borderColor: '#6CA1CD',\n      },\n      {\n        bgColor: '#F6D5DA',\n        color: '#EDABB6',\n        borderColor: '#E48192',\n      },\n    ];\n\n    const randomNumber = Math.floor(Math.random() * (4 - 0 + 1)) + 0;\n\n    const color = colors.filter((el, index) => index === randomNumber)[0];\n\n    const clientColor = {\n      bgColor: client?.clientColor?.bgColor || '#FF9E73',\n      color: client?.clientColor?.color || '#FF7B40',\n      borderColor: client?.clientColor?.borderColor || '#FF4F00',\n    };\n\n    return openClientCard ? clientColor : color;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SetColor);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/setRandomCircle/events/setColor.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/setRandomCircle/events/setLetter.js":
/*!*****************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/setRandomCircle/events/setLetter.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass SetLetter {\n  init(clientCardPack) {\n    const props = {\n      ...clientCardPack,\n    };\n\n    const setLetter = this.setLetter.bind(this);\n    setLetter(props);\n  }\n\n  setLetter(clientCardPack) {\n    const { client } = clientCardPack;\n\n    const clientCard = document.querySelector('[js-menu-client-card]');\n\n    const avatar = clientCard.querySelector('[js-client-avatar]');\n\n    if (client) {\n      const { name } = client;\n\n      const sPair = name.match(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g);\n\n      const symbolsArray = sPair?.length ? sPair : false;\n\n      avatar.innerText = symbolsArray[0] || name.trim()[0].toUpperCase();\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SetLetter);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/setRandomCircle/events/setLetter.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/setRandomCircle/setRandomCircle.js":
/*!****************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/setRandomCircle/setRandomCircle.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_setColor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/setColor.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/setRandomCircle/events/setColor.js\");\n/* harmony import */ var _events_setLetter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/setLetter.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/setRandomCircle/events/setLetter.js\");\n\n\n\nconst setColor = new _events_setColor_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst setLetter = new _events_setLetter_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass SetRandomCircle {\n  init(clientCardPack) {\n    const props = {\n      ...clientCardPack,\n    };\n\n    const items = [setColor, setLetter];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(props);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SetRandomCircle);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/setRandomCircle/setRandomCircle.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/updateClient.js":
/*!*********************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/updateClient.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _enableUpdateButton_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enableUpdateButton.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/enableUpdateButton.js\");\n/* harmony import */ var _updateRequest_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./updateRequest.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/updateRequest.js\");\n\n\n\nconst updateRequest = new _updateRequest_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst enableUpdateButton = new _enableUpdateButton_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass UpdateClient {\n  init(clientCardPack) {\n    const props = {\n      ...clientCardPack,\n    };\n\n    const accessArray = ['ROLE_MANAGER', 'ROLE_HEAD_MANAGER', 'ROLE_ADMIN'];\n\n    if (accessArray.includes(props.pack.role)) {\n      const items = [enableUpdateButton, updateRequest];\n\n      items.forEach((item) => {\n        const init = item.init.bind(item);\n        init(props);\n      });\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UpdateClient);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/updateClient.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/events/updateRequest.js":
/*!**********************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/events/updateRequest.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass UpdateRequest {\n  init(clientCardPack) {\n    const props = {\n      ...clientCardPack,\n      menu: document.querySelector('[js-menu-client-card]'),\n    };\n\n    const { menu } = props;\n\n    const updateBtn = menu.querySelector('[edit-client]');\n\n    if (updateBtn) {\n      const update = this.updateClientInfo.bind(this, props);\n      const cloneUpdate = utils.setCloneElement(updateBtn);\n\n      cloneUpdate.addEventListener('click', update);\n    }\n  }\n\n  getData(clientCardPack) {\n    const { client, menu } = clientCardPack;\n\n    const inputName = menu.querySelector('[js-change-client-name]').value;\n    const name = inputName || client.name;\n\n    const inputPhone = menu.querySelector('[client-phone]').value;\n    const phone = inputPhone || inputPhone;\n\n    const inputEmail = menu.querySelector('[client-email]').value;\n    const email = inputEmail || '';\n\n    const inputLink = menu.querySelector('[client-vk]').value;\n    const link = inputLink || '';\n\n    const inputTelegram = menu.querySelector('[client-telegram]').value;\n    const telegram = inputTelegram || '';\n\n    client.name = name.trim();\n    client.phone = phone.trim();\n    client.email = email.trim();\n    client.link = link.trim();\n    client.telegram = telegram.trim();\n\n    return client;\n  }\n\n  updateClientInfo(clientCardPack, e) {\n    const t = e.target;\n\n    const props = this.getProps(clientCardPack);\n\n    const { menu, clientObs } = props;\n    const form = menu.querySelector('.platform-modal__form');\n\n    if (validation.validateClient(form)) {\n      const data = this.getData(props);\n\n      const updateClient = _api_api_js__WEBPACK_IMPORTED_MODULE_2__.clientAPI.saveChanges(data);\n\n      updateClient.then((clientData) => {\n        props.client = clientData;\n        props.target = t;\n\n        const after = clientObs.init.bind(clientObs);\n        after(props);\n      });\n    }\n  }\n\n  getProps(clientCardPack) {\n    const {\n      client,\n      clientObs,\n      defaultTab,\n      menu,\n      pack,\n      target,\n    } = clientCardPack;\n\n    const props = {\n      client,\n      clientObs,\n      defaultTab,\n      menu,\n      pack,\n      target,\n    };\n\n    return props;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UpdateRequest);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/events/updateRequest.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/clientCard/templates/clientCardTemplates.js":
/*!*******************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/clientCard/templates/clientCardTemplates.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass CLientCardTemplates {\n  accessTemplate(clientCardPack) {\n    const { pack, client } = clientCardPack;\n\n    return `\n        <div class=\"platform-access__item\">\n            <p class=\"platform-access__name\">Ссылка на авторизацию</p>\n            <p class=\"platform-access__value\">${window.location.origin}/company=${pack.company.companyCode}</p>\n        </div>\n        <div class=\"platform-access__item\">\n            <p class=\"platform-access__name\">Логин</p>\n            <p class=\"platform-access__value\">${client.userLogin ? client.userLogin : client.username}</p>\n        </div>\n        <div class=\"platform-access__item\">\n            <p class=\"platform-access__name\">Пароль</p>\n            <p class=\"platform-access__value\">\n              ${client.userPassword ? client.userPassword : client.password}\n              <span class=\"platform-access__copy\"></span>\n            </p>\n        </div>\n    `;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CLientCardTemplates);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/clientCard/templates/clientCardTemplates.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/createClient/createClient.js":
/*!****************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/createClient/createClient.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_openCreateClientMenu_openCreateClientMenu_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/openCreateClientMenu/openCreateClientMenu.js */ \"./dev/static/js/platform/menu/items/crm/createClient/events/openCreateClientMenu/openCreateClientMenu.js\");\n/* harmony import */ var _events_closeCreateClientMenu_closeCreateClientMenu_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/closeCreateClientMenu/closeCreateClientMenu.js */ \"./dev/static/js/platform/menu/items/crm/createClient/events/closeCreateClientMenu/closeCreateClientMenu.js\");\n\n\n\nconst openCreateCLientMenu = new _events_openCreateClientMenu_openCreateClientMenu_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst cLoseCreateClientMenu = new _events_closeCreateClientMenu_closeCreateClientMenu_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass CreateClient {\n  init(props) {\n    const { pack, user } = props;\n\n    const newClientData = {\n      pack,\n      user,\n      menu: document.querySelector('[js-menu-search]'),\n    };\n\n    const items = [openCreateCLientMenu, cLoseCreateClientMenu];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(newClientData);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CreateClient);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/createClient/createClient.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/createClient/events/clearSearchMenu.js":
/*!**************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/createClient/events/clearSearchMenu.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass ClearSearchMenu {\n  init(createClientPack) {\n    const { menu } = createClientPack;\n\n    const input = menu.querySelector('[js-menu-search-input]');\n    input.value = '';\n\n    const createBtn = menu.querySelector('[js-create-client]');\n    createBtn.disabled = true;\n\n    const clientList = menu.querySelector('[js-client-card-list]');\n    utils.removeChildren(clientList, 0);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ClearSearchMenu);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/createClient/events/clearSearchMenu.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/createClient/events/closeCreateClientMenu/closeCreateClientMenu.js":
/*!******************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/createClient/events/closeCreateClientMenu/closeCreateClientMenu.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _clearSearchMenu_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../clearSearchMenu.js */ \"./dev/static/js/platform/menu/items/crm/createClient/events/clearSearchMenu.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst clearSearchMenu = new _clearSearchMenu_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass CloseCreateClientMenu {\n  init(props) {\n    const closeProps = {\n      ...props,\n    };\n\n    const { menu } = props;\n\n    if (menu) {\n      const closeMenuBtn = menu.querySelector('.platform__close--btn-modal');\n\n      if (closeMenuBtn) {\n        const closeMenu = this.closeMenu.bind(this, closeProps);\n        closeMenuBtn.addEventListener('click', closeMenu);\n      }\n    }\n  }\n\n  closeMenu(props) {\n    const { menu } = props;\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n\n    utils.closeModalAnimation(menu, wrapper, false, false);\n    const closeSearchMenu = clearSearchMenu.init.bind(clearSearchMenu, props);\n\n    setTimeout(closeSearchMenu, 800);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CloseCreateClientMenu);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/createClient/events/closeCreateClientMenu/closeCreateClientMenu.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/createClient/events/createEvents/createEvents.js":
/*!************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/createClient/events/createEvents/createEvents.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_openMenu_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/openMenu.js */ \"./dev/static/js/platform/menu/items/crm/createClient/events/createEvents/events/openMenu.js\");\n\n\nconst openMenu = new _events_openMenu_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass CreateEvents {\n  init(createClientPack) {\n    const props = {\n      ...createClientPack,\n    };\n\n    const items = [openMenu];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(props);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CreateEvents);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/createClient/events/createEvents/createEvents.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/createClient/events/createEvents/events/clearClientCard.js":
/*!**********************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/createClient/events/createEvents/events/clearClientCard.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass ClearClientCard {\n  init(createClientPack) {\n    const props = {\n      ...createClientPack,\n    };\n\n    const clear = this.clear.bind(this);\n    clear(props);\n  }\n\n  clear(createClientPack) {\n    const { menu } = createClientPack;\n\n    const clientInfo = menu.querySelectorAll('.client-edit');\n\n    clientInfo.forEach((item) => {\n      item.value = '';\n    });\n\n    const selector = menu.querySelector('.platform-form__selector');\n    selector.style.display = 'none';\n\n    const access = menu.querySelector('.access-item');\n    access.style.display = 'none';\n    utils.removeChildren(access, 0);\n\n    const tabs = menu.querySelector('.client-card__tabs');\n    tabs.style.display = 'none';\n\n    const contents = menu.querySelectorAll('.client-card__content');\n\n    contents.forEach((item) => {\n      utils.removeChildren(item);\n    });\n\n    const iconsCopy = menu.querySelectorAll('.platform__copy');\n    const iconsGo = menu.querySelectorAll('.platform__go');\n\n    iconsCopy.forEach((item) => {\n      item.style.display = 'none';\n    });\n\n    iconsGo.forEach((item) => {\n      item.style.display = 'none';\n    });\n\n    const delimetrs = menu.querySelectorAll('.platform__nav--delim');\n\n    delimetrs.forEach((item) => {\n      item.style.display = 'none';\n    });\n\n    const avatar = menu.querySelector('.platform-form__avatar--bg');\n\n    if (avatar) {\n      avatar.innerText = '';\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ClearClientCard);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/createClient/events/createEvents/events/clearClientCard.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/createClient/events/createEvents/events/createClient.js":
/*!*******************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/createClient/events/createEvents/events/createClient.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _clientCard_events_setRandomCircle_setRandomCircle_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../clientCard/events/setRandomCircle/setRandomCircle.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/setRandomCircle/setRandomCircle.js\");\n/* harmony import */ var _clearClientCard_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./clearClientCard.js */ \"./dev/static/js/platform/menu/items/crm/createClient/events/createEvents/events/clearClientCard.js\");\n/* harmony import */ var _setCreateClientValue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./setCreateClientValue.js */ \"./dev/static/js/platform/menu/items/crm/createClient/events/createEvents/events/setCreateClientValue.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _clearSearchMenu_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../clearSearchMenu.js */ \"./dev/static/js/platform/menu/items/crm/createClient/events/clearSearchMenu.js\");\n\n\n\n\n\n\nconst clearClientCard = new _clearClientCard_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst setValue = new _setCreateClientValue_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst setRandomCircle = new _clientCard_events_setRandomCircle_setRandomCircle_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst clearSearchMenu = new _clearSearchMenu_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n\nclass CreateClient {\n  init(props) {\n    const changeMenu = this.changeMenuActive.bind(this);\n    changeMenu(props);\n\n    const createPack = {\n      ...props,\n      menu: document.querySelector('[js-menu-client-card]'),\n    };\n\n    const items = [clearClientCard, setValue, setRandomCircle];\n\n    props.openClientCard = false;\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(createPack);\n    });\n  }\n\n  changeMenuActive(props) {\n    const { menu } = props;\n\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n    utils.closeModalAnimation(menu, wrapper, false, true, false);\n\n    const clearSearch = clearSearchMenu.init.bind(clearSearchMenu, props);\n\n    setTimeout(clearSearch, 800);\n\n    const menuClientCard = document.querySelector('[js-menu-client-card]');\n    utils.openModalAnimation(menuClientCard, true);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CreateClient);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/createClient/events/createEvents/events/createClient.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/createClient/events/createEvents/events/openMenu.js":
/*!***************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/createClient/events/createEvents/events/openMenu.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _createClient_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./createClient.js */ \"./dev/static/js/platform/menu/items/crm/createClient/events/createEvents/events/createClient.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst createClient = new _createClient_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass OpenMenu {\n  init(props) {\n    const createData = {\n      ...props,\n    };\n\n    const { menu } = createData;\n\n    const createClientBtn = menu.querySelector('[js-create-client]');\n\n    createClientBtn.disabled = false;\n\n    const create = this.createClient.bind(this, createData);\n    const cloneCreate = utils.setCloneElement(createClientBtn);\n    cloneCreate.addEventListener('click', create);\n  }\n\n  createClient(createData) {\n    const createNewClient = createClient.init.bind(createClient);\n    createNewClient(createData);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OpenMenu);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/createClient/events/createEvents/events/openMenu.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/createClient/events/createEvents/events/saveNewClientRequest.js":
/*!***************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/createClient/events/createEvents/events/saveNewClientRequest.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _clientCard_events_changeClientObserver_changeClientObserver_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../clientCard/events/changeClientObserver/changeClientObserver.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/changeClientObserver/changeClientObserver.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\n\n\n\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst afterUpdateInfo = new _clientCard_events_changeClientObserver_changeClientObserver_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n\nclass SaveNewClientRequest {\n  init(createClientPack, e) {\n    const { menu } = createClientPack;\n    const t = e.target;\n\n    createClientPack.target = t;\n\n    const form = menu.querySelector('.platform-modal__form');\n\n    const data = this.getNewClientData(createClientPack);\n\n    if (validation.validateClient(form)) {\n      t.style.pointerEvents = 'none';\n\n      const loader = setTimeout(utils.showLoader, 400);\n\n      const saveClient = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.clientAPI.saveClient(data);\n\n      saveClient.then((client) => {\n        clearTimeout(loader);\n        utils.hideLoader();\n\n        t.style.pointerEvents = 'all';\n        const after = afterUpdateInfo.init.bind(afterUpdateInfo);\n        createClientPack.client = client;\n        createClientPack.clientObs = afterUpdateInfo;\n        createClientPack.saveClient = true;\n\n        after(createClientPack);\n      }, () => {\n        t.style.pointerEvents = 'all';\n        clearTimeout(loader);\n        utils.hideLoader();\n\n        const popupProps = {\n          text: 'Клиент с такими контактными данными уже существует',\n          settings: 'alert-close',\n          title: 'Ошибка!',\n        };\n\n        popup.init(popupProps);\n      });\n    }\n  }\n\n  getNewClientData(createClientPack) {\n    const { menu, pack } = createClientPack;\n    const { manager } = pack;\n\n    const name = menu.querySelector('[js-change-client-name]').value.trim();\n    const when = menu.querySelector('[when-create]').innerText.trim();\n    const link = menu.querySelector('[client-vk]').value.trim();\n    const phone = menu.querySelector('[client-phone]').value.trim();\n    const email = menu.querySelector('[client-email]').value.trim();\n    const telegram = menu.querySelector('[client-telegram]').value.trim();\n    const color = menu.querySelector('.platform-form__avatar').getAttribute('data-color');\n    const bgColor = menu.querySelector('.platform-form__avatar').getAttribute('data-bg-color');\n    const borderColor = menu.querySelector('.platform-form__avatar').getAttribute('data-border-color');\n\n    const managerId = manager.id ? manager.id : null;\n\n    return {\n      name: name || null,\n      createDate: when || null,\n      idManager: managerId,\n      link: link || null,\n      phone: phone || null,\n      email: email || null,\n      telegram: telegram || null,\n      clientColor: {\n        color,\n        bgColor,\n        borderColor,\n      },\n    };\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SaveNewClientRequest);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/createClient/events/createEvents/events/saveNewClientRequest.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/createClient/events/createEvents/events/setCreateClientValue.js":
/*!***************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/createClient/events/createEvents/events/setCreateClientValue.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _clientCard_events_enableUpdateButton_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../clientCard/events/enableUpdateButton.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/enableUpdateButton.js\");\n/* harmony import */ var _saveNewClientRequest_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./saveNewClientRequest.js */ \"./dev/static/js/platform/menu/items/crm/createClient/events/createEvents/events/saveNewClientRequest.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst enableUpdateButton = new _clientCard_events_enableUpdateButton_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst saveNewClientRequest = new _saveNewClientRequest_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass SetCreateClientValue {\n  init(createClientPack) {\n    const props = {\n      ...createClientPack,\n    };\n\n    const { menu, pack } = props;\n    const { today, manager } = pack;\n\n    const when = menu.querySelector('[when-create]');\n    when.innerText = utils.getDateFormatDDMMYYYY(today);\n\n    const who = menu.querySelector('[who-create]');\n    who.innerText = manager.name;\n\n    const inputName = menu.querySelector('[js-change-client-name]');\n    inputName.style.display = 'flex';\n\n    const name = menu.querySelector('[js-client-name]');\n    name.style.display = 'none';\n\n    const clientInfo = menu.querySelectorAll('.client-edit');\n\n    if (clientInfo.length) {\n      const enableBtn = enableUpdateButton.init.bind(enableUpdateButton);\n      enableBtn(props);\n\n      const saveBtn = menu.querySelector('[edit-client]');\n\n      if (saveBtn) {\n        const save = utils.setCloneElement(saveBtn);\n        const saveClient = saveNewClientRequest.init.bind(saveNewClientRequest, props);\n\n        save.addEventListener('click', saveClient);\n\n        const wrapper = menu.querySelector('.platform-form__items');\n\n        const toValidationError = validation.toValidationError.bind(validation, wrapper);\n\n        save.addEventListener('dblclick', toValidationError);\n      }\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SetCreateClientValue);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/createClient/events/createEvents/events/setCreateClientValue.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/createClient/events/openCreateClientMenu/openCreateClientMenu.js":
/*!****************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/createClient/events/openCreateClientMenu/openCreateClientMenu.js ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _searchClients_searchClient_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../searchClients/searchClient.js */ \"./dev/static/js/platform/menu/items/crm/createClient/events/searchClients/searchClient.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst searchClient = new _searchClients_searchClient_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass OpenCreateCLientMenu {\n  init(createClientPack) {\n    const props = {\n      ...createClientPack,\n    };\n\n    const { menu } = props;\n\n    if (menu) {\n      const openMenuBtn = document.querySelector('[search-client-add-deal]');\n\n      if (openMenuBtn) {\n        const openMenu = this.openMenu.bind(this, props);\n        openMenuBtn.addEventListener('click', openMenu);\n      }\n    }\n  }\n\n  openMenu(props) {\n    const { menu } = props;\n\n    utils.openModalAnimation(menu, true);\n\n    const items = [searchClient];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(props);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OpenCreateCLientMenu);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/createClient/events/openCreateClientMenu/openCreateClientMenu.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/createClient/events/searchClients/events/afterRender.js":
/*!*******************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/createClient/events/searchClients/events/afterRender.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _createEvents_createEvents_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../createEvents/createEvents.js */ \"./dev/static/js/platform/menu/items/crm/createClient/events/createEvents/createEvents.js\");\n\n\nconst createEvents = new _createEvents_createEvents_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass AfterRender {\n  init(props) {\n    const items = [createEvents];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(props);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AfterRender);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/createClient/events/searchClients/events/afterRender.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/createClient/events/searchClients/events/afterSearch.js":
/*!*******************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/createClient/events/searchClients/events/afterSearch.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _render_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./render.js */ \"./dev/static/js/platform/menu/items/crm/createClient/events/searchClients/events/render.js\");\n/* harmony import */ var _afterRender_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./afterRender.js */ \"./dev/static/js/platform/menu/items/crm/createClient/events/searchClients/events/afterRender.js\");\n\n\n\nconst render = new _render_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst afterRender = new _afterRender_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass AfterSearch {\n  init(props) {\n    const renderClients = render.render.bind(render);\n\n    renderClients(props).then(() => {\n      const after = afterRender.init.bind(afterRender);\n      after(props);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AfterSearch);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/createClient/events/searchClients/events/afterSearch.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/createClient/events/searchClients/events/render.js":
/*!**************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/createClient/events/searchClients/events/render.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _template_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../template/template.js */ \"./dev/static/js/platform/menu/items/crm/createClient/template/template.js\");\n/* harmony import */ var _clientCard_clientCard_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../clientCard/clientCard.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/clientCard.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst clientCard = new _clientCard_clientCard_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst createClientTemplate = new _template_template_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass Render {\n  async render(props) {\n    const { menu, searchResult } = props;\n\n    const clientList = menu.querySelector('[js-client-card-list]');\n\n    utils.removeChildren(clientList, 0);\n\n    if (searchResult.length) {\n      for (let index = 0; index < searchResult.length; index++) {\n        const element = searchResult[index];\n\n        const li = this.setClientItem(element);\n\n        await clientList.appendChild(li);\n      }\n\n      clientCard.init(props);\n    } else {\n      const placeholder = this.setPlaceholder();\n\n      await clientList.appendChild(placeholder);\n    }\n  }\n\n  setClientItem(element) {\n    const li = document.createElement('li');\n    li.classList.add('platform-form__item');\n    li.classList.add('client');\n    li.setAttribute('js-client-card', '');\n    li.innerHTML = createClientTemplate.clientItem(element);\n\n    return li;\n  }\n\n  setPlaceholder() {\n    const placeholder = document.createElement('li');\n    placeholder.classList.add('platform__empty');\n    placeholder.classList.add('platform-form__item');\n    placeholder.classList.add('loader');\n    placeholder.innerText = 'Клиент не найден';\n\n    return placeholder;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Render);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/createClient/events/searchClients/events/render.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/createClient/events/searchClients/events/searchInit.js":
/*!******************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/createClient/events/searchClients/events/searchInit.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _startSearch_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./startSearch.js */ \"./dev/static/js/platform/menu/items/crm/createClient/events/searchClients/events/startSearch.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst startSearch = new _startSearch_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass SearchInit {\n  init(createClientPack) {\n    const props = {\n      ...createClientPack,\n    };\n\n    const { menu } = props;\n    const input = menu.querySelector('[js-menu-search-input]');\n\n    if (input) {\n      const setValue = this.setValue.bind(this, props);\n      const cloneInput = utils.setCloneElement(input);\n      cloneInput.addEventListener('keyup', setValue);\n    }\n  }\n\n  setValue(props, e) {\n    const t = e.target;\n\n    if (e.key === 'Enter' && t.value.length > 1) {\n      const start = startSearch.init.bind(startSearch);\n      props.target = t;\n      start(props);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SearchInit);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/createClient/events/searchClients/events/searchInit.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/createClient/events/searchClients/events/searchPreloader.js":
/*!***********************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/createClient/events/searchClients/events/searchPreloader.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass SearchPreloader {\n  async init(props) {\n    const { menu } = props;\n\n    const clientList = menu.querySelector('[js-client-card-list]');\n\n    utils.removeChildren(clientList, 0);\n\n    const placeholder = this.setPlaceholder();\n\n    await clientList.appendChild(placeholder);\n  }\n\n  setPlaceholder() {\n    const placeholder = document.createElement('li');\n    placeholder.classList.add('platform__empty');\n    placeholder.classList.add('platform-form__item');\n    placeholder.innerText = 'Ищем клиента...';\n\n    return placeholder;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SearchPreloader);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/createClient/events/searchClients/events/searchPreloader.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/createClient/events/searchClients/events/startSearch.js":
/*!*******************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/createClient/events/searchClients/events/startSearch.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _searchPreloader_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./searchPreloader.js */ \"./dev/static/js/platform/menu/items/crm/createClient/events/searchClients/events/searchPreloader.js\");\n/* harmony import */ var _afterSearch_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./afterSearch.js */ \"./dev/static/js/platform/menu/items/crm/createClient/events/searchClients/events/afterSearch.js\");\n\n\n\n\nconst searchPreloader = new _searchPreloader_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst afterSearch = new _afterSearch_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass StartSearch {\n  init(props) {\n    const startSearch = this.startSearch.bind(this);\n    startSearch(props);\n  }\n\n  startSearch(props) {\n    const { target } = props;\n\n    const data = {\n      search: target.value.trim(),\n    };\n\n    const searchClient = _api_api_js__WEBPACK_IMPORTED_MODULE_0__.clientAPI.searchClient(data);\n\n    const preloader = searchPreloader.init.bind(searchPreloader);\n\n    preloader(props).then(() => searchClient.then((clients) => {\n      const after = afterSearch.init.bind(afterSearch);\n\n      props.searchResult = clients;\n\n      after(props);\n    }));\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (StartSearch);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/createClient/events/searchClients/events/startSearch.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/createClient/events/searchClients/searchClient.js":
/*!*************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/createClient/events/searchClients/searchClient.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_searchInit_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/searchInit.js */ \"./dev/static/js/platform/menu/items/crm/createClient/events/searchClients/events/searchInit.js\");\n\n\nconst searchInit = new _events_searchInit_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass SearchClient {\n  init(createClientPack) {\n    const items = [searchInit];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(createClientPack);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SearchClient);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/createClient/events/searchClients/searchClient.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/createClient/template/template.js":
/*!*********************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/createClient/template/template.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass CreateClientTemplate {\n  clientItem(item) {\n    return `\n            <input type=\"hidden\" class=\"js-client-id-l\" js-client-id value=\"${item.id}\">\n            <p class=\"client-card__title\">${item.name ? item.name : ''}</p>\n            <div class=\"client-card__info\">\n                <div class=\"client-card__info-link\">${item.link ? item.link : ''}</div>\n                <div class=\"client-card__info-phone\">${item.phone ? item.phone : ''}</div>\n            </div>\n        `;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CreateClientTemplate);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/createClient/template/template.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/deal/deal.js":
/*!*********************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/deal/deal.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_dealEvents_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/dealEvents.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/dealEvents.js\");\n\n\nconst dealEvents = new _events_dealEvents_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass Deal {\n  init(dealCardPack) {\n    const items = [dealEvents];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(dealCardPack);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Deal);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/deal/deal.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/afterGetDeal.js":
/*!*************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/afterGetDeal.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _modules_select_select_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../modules/select/select.js */ \"./dev/static/js/platform/modules/select/select.js\");\n/* harmony import */ var _modules_datepicker_datepicker_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../../modules/datepicker/datepicker.js */ \"./dev/static/js/platform/modules/datepicker/datepicker.js\");\n/* harmony import */ var _dealItems_status_status_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dealItems/status/status.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/status/status.js\");\n/* harmony import */ var _dealItems_social_social_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./dealItems/social/social.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/social/social.js\");\n/* harmony import */ var _dealItems_dateRequest_dateRequest_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dealItems/dateRequest/dateRequest.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/dateRequest/dateRequest.js\");\n/* harmony import */ var _dealItems_dealType_dealType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dealItems/dealType/dealType.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/dealType/dealType.js\");\n/* harmony import */ var _dealItems_funnel_funnel_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./dealItems/funnel/funnel.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/funnel/funnel.js\");\n/* harmony import */ var _dealItems_product_product_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./dealItems/product/product.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/product/product.js\");\n/* harmony import */ var _dealItems_tag_tag_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./dealItems/tag/tag.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/tag/tag.js\");\n/* harmony import */ var _dealItems_comment_comment_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./dealItems/comment/comment.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/comment/comment.js\");\n/* harmony import */ var _requests_dealRequest_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../requests/dealRequest.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/requests/dealRequest.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst select = new _modules_select_select_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst datepicker = new _modules_datepicker_datepicker_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst status = new _dealItems_status_status_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst social = new _dealItems_social_social_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\nconst dateRequest = new _dealItems_dateRequest_dateRequest_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\nconst dealType = new _dealItems_dealType_dealType_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\nconst funnel = new _dealItems_funnel_funnel_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]();\nconst product = new _dealItems_product_product_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]();\nconst tag = new _dealItems_tag_tag_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"]();\nconst comment = new _dealItems_comment_comment_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"]();\nconst dealRequest = new _requests_dealRequest_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"]();\n\nclass AfterGetDeal {\n  init(dealPack) {\n    const getSelectProps = this.#getSelectProps(dealPack);\n\n    getSelectProps.then(() => {\n      const setSelects = select.init(dealPack);\n\n      setSelects.then(() => {\n        this.initDealItems(dealPack);\n      });\n    });\n  }\n\n  async #getSelectProps(props) {\n    const { menu, deal, pack } = props;\n\n    const selects = menu.querySelectorAll('[select-here]');\n\n    props.selectsArray = [];\n\n    selects.forEach(async (item) => {\n      Array.from(item.children).forEach((el, count) => {\n        if (count !== 0) {\n          el.remove();\n        }\n      });\n\n      const type = item.getAttribute('data-select-type');\n\n      const selectProps = {\n        type,\n        item,\n        props,\n        deal,\n        pack,\n      };\n\n      await this.#dispatchSelectItem(selectProps);\n    });\n  }\n\n  #dispatchSelectItem(selectProps) {\n    const {\n      item,\n      type,\n      props,\n      deal,\n      pack,\n    } = selectProps;\n\n    const selectItemProps = {\n      required: true,\n      placeholder: null,\n      mode: 'custom',\n      type,\n    };\n\n    switch (type) {\n      case 'select-status': {\n        selectItemProps.placeholder = 'Выберите статус';\n        selectItemProps.item = item;\n\n        if (deal) {\n          selectItemProps.defaultValue = deal.status || '';\n          selectItemProps.defaultPlaceholder = deal.statusName || '';\n        }\n        break;\n      }\n      case 'select-social': {\n        selectItemProps.placeholder = 'Выберите канал связи откуда поступило обращение';\n        selectItemProps.item = item;\n\n        if (deal) {\n          selectItemProps.defaultValue = deal?.social;\n          const isDeal = pack.social.find((el) => el.id === deal?.social)?.title;\n\n          selectItemProps.defaultPlaceholder = deal ? isDeal : false;\n        }\n        break;\n      }\n      case 'select-deal-type': {\n        selectItemProps.placeholder = 'Выберите тип продажи';\n        selectItemProps.item = item;\n\n        if (deal) {\n          const value = deal.type === 'Допродажа' || deal.type === 'additional' ? 'База' : 'Трафик';\n          selectItemProps.defaultValue = value;\n          selectItemProps.defaultPlaceholder = value;\n        }\n        break;\n      }\n      case 'select-funnel': {\n        selectItemProps.placeholder = 'Выберите воронку';\n        selectItemProps.item = item;\n\n        if (deal) {\n          selectItemProps.defaultValue = deal.idFunnel;\n\n          const funnels = Object.entries(pack.funnels);\n\n          const currentFunnels = funnels.find((el) => el[0] === deal?.type);\n          const currentFunnel = currentFunnels?.find((el) => el.idFunnel === deal?.idFunnel);\n\n          selectItemProps.defaultPlaceholder = currentFunnel?.funnelName;\n        }\n        break;\n      }\n      case 'select-product': {\n        selectItemProps.placeholder = 'Выберите продукт';\n        selectItemProps.item = item;\n\n        selectItemProps.defaultValue = deal?.idProduct;\n\n        if (deal) {\n          const { products: courses } = pack;\n\n          selectItemProps.defaultPlaceholder = courses.find((el) => el.id === deal.idProduct)?.name;\n        }\n        break;\n      }\n      case 'select-tariff': {\n        selectItemProps.placeholder = 'Выберите тариф';\n        selectItemProps.item = item;\n\n        selectItemProps.defaultValue = deal?.idTariff;\n\n        if (deal) {\n          const { tariffs } = pack;\n\n          selectItemProps.defaultPlaceholder = tariffs?.find((el) => el.id === deal.idTariff)?.name;\n        }\n        break;\n      }\n      case 'select-stream': {\n        selectItemProps.placeholder = 'Выберите дату старта';\n        selectItemProps.item = item;\n\n        if (deal) {\n          selectItemProps.defaultValue = deal.idStream;\n          selectItemProps.defaultPlaceholder = utils.getDateFormatDDMMYYYY(deal.startDate);\n        }\n        break;\n      }\n      default: {\n        break;\n      }\n    }\n\n    props.selectsArray.push(selectItemProps);\n  }\n\n  initDealItems(dealPack) {\n    const { deal } = dealPack;\n\n    const items = [\n      datepicker,\n      status,\n      social,\n      dateRequest,\n      dealType,\n      funnel,\n      product,\n      tag,\n      comment,\n    ];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(dealPack);\n    });\n\n    this.initTabs(dealPack);\n    this.setRequest(dealPack, deal);\n  }\n\n  initTabs(dealPack) {\n    const { tabsObs } = dealPack;\n\n    const tabs = tabsObs.init.bind(tabsObs);\n\n    const tabPackDeal = {\n      ...dealPack,\n    };\n\n    tabs(tabPackDeal);\n  }\n\n  setRequest(dealPack, deal) {\n    const { menu } = dealPack;\n\n    const updateBtn = menu.querySelector('[edit-deal]');\n\n    const cloneUpdate = utils.setCloneElement(updateBtn);\n\n    if (updateBtn && deal) {\n      const updateDeal = dealRequest.updateDeal.bind(dealRequest, dealPack);\n      cloneUpdate.addEventListener('click', updateDeal);\n\n      const toValidationError = validation.toValidationError.bind(validation);\n      cloneUpdate.addEventListener('dblclick', toValidationError);\n    } else if (updateBtn && !deal) {\n      const saveDeal = dealRequest.saveNewDeal.bind(dealRequest, dealPack);\n      cloneUpdate.addEventListener('click', saveDeal);\n\n      const toValidationError = validation.toValidationError.bind(validation);\n      cloneUpdate.addEventListener('dblclick', toValidationError);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AfterGetDeal);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/afterGetDeal.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/comment/comment.js":
/*!**************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/comment/comment.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _dealFields_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dealFields.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/dealFields.js\");\n\n\nclass Comment extends _dealFields_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  constructor() {\n    super();\n  }\n\n  init(dealPack) {\n    const { menu, isView } = dealPack;\n\n    const textArea = menu.querySelector('[comment]');\n\n    if (isView) {\n      textArea.classList.add('disable');\n    } else {\n      textArea.classList.remove('disable');\n    }\n\n    const commentData = this.commentData.bind(this);\n    commentData(dealPack);\n\n    const changeTextAreaValue = this.change.bind(this, dealPack);\n    textArea.addEventListener('input', changeTextAreaValue);\n  }\n\n  commentData(dealPack) {\n    const { menu, deal } = dealPack;\n\n    const textArea = menu.querySelector('[comment]');\n\n    if (deal) {\n      const { comment } = deal;\n      textArea.value = comment || '';\n    } else {\n      textArea.value = '';\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Comment);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/comment/comment.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/dateRequest/dateRequest.js":
/*!**********************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/dateRequest/dateRequest.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _dealFields_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dealFields.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/dealFields.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass DateRequest extends _dealFields_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n  constructor() {\n    super();\n  }\n\n  init(dealPack) {\n    const { menu, isView } = dealPack;\n\n    const input = menu.querySelector('[date-request]');\n    dealPack.input = input;\n\n    this.setDateRequest(dealPack);\n    this.dispatchViewMode(isView, input);\n\n    const textArea = menu.querySelector('[date-request]');\n\n    const changeTextAreaValue = this.change.bind(this, dealPack);\n    textArea.addEventListener('input', changeTextAreaValue);\n\n    const eventsArray = [];\n\n    if (eventsArray) {\n      const page = document.querySelector('.page');\n      const changeReqDate = this.changeReqDate.bind(this, dealPack);\n\n      if (!utils.checkListener(page, 'click', changeReqDate, eventsArray)) {\n        utils.addListener(page, 'click', changeReqDate, null, eventsArray);\n      }\n    }\n  }\n\n  dispatchViewMode(isView, input) {\n    if (isView) {\n      input.classList.add('disable');\n      utils.getParent(input, 'platform-select__wrapper').classList.add('disable');\n    } else {\n      input.classList.remove('disable');\n      utils.getParent(input, 'platform-select__wrapper').classList.remove('disable');\n    }\n  }\n\n  setDateRequest(dealPack) {\n    const { deal, input } = dealPack;\n\n    if (deal && deal.type) {\n      const { dealDate } = deal;\n\n      if (dealDate) {\n        input.value = utils.getDateFormatDDMMYYYY(dealDate);\n      }\n    } else {\n      input.value = '';\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DateRequest);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/dateRequest/dateRequest.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/dealFields.js":
/*!*********************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/dealFields.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass DealFields {\n  change() {\n    const menu = document.querySelector('[js-menu-deal]');\n\n    if (menu) {\n      const saveChange = menu.querySelector('[edit-deal]');\n\n      if (saveChange) {\n        saveChange.removeAttribute('disabled');\n      }\n    }\n  }\n\n  changeReqDate(dealPack, e) {\n    const { menu } = dealPack;\n\n    const t = e.target;\n\n    if (!t || !t.classList.contains('datepicker--cell')) {\n      return false;\n    }\n\n    const requestDate = menu.querySelector('[date-request]');\n\n    if (e.clientX < 470) {\n      const event = new Event('input');\n      requestDate.dispatchEvent(event);\n    } else {\n      return false;\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DealFields);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/dealFields.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/dealType/dealType.js":
/*!****************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/dealType/dealType.js ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _dealFields_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dealFields.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/dealFields.js\");\n/* harmony import */ var _funnel_funnel_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../funnel/funnel.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/funnel/funnel.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\n\nconst funnel = new _funnel_funnel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass DealType extends _dealFields_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  constructor() {\n    super();\n  }\n\n  init(dealPack) {\n    if (dealPack.currentForm) {\n      dealPack.deal = {\n        ...dealPack.currentForm,\n      };\n    }\n\n    const { menu, isView } = dealPack;\n    const dealTypeWrapper = menu.querySelector('[data-select-type=\"select-deal-type\"]');\n\n    this.dispatchViewMode(isView, dealTypeWrapper);\n\n    const changes = this.changeDealType.bind(this, dealPack);\n\n    const dealTypeValue = dealTypeWrapper.querySelector('[id-selected]');\n    dealTypeValue.addEventListener('change', changes);\n  }\n\n  dispatchViewMode(isView, dealTypeWrapper) {\n    const select = dealTypeWrapper.querySelector('[select]');\n    const wrapper = utils.getParent(select, 'platform-form__item');\n\n    if (isView) {\n      wrapper?.classList.add('disable');\n    } else {\n      wrapper?.classList.remove('disable');\n    }\n  }\n\n  changeDealType(dealPack, e) {\n    const t = e.target;\n\n    let { deal } = dealPack;\n\n    if (deal && typeof deal !== 'number') {\n      deal.type = t.value;\n    } else if (!deal || typeof deal === 'number') {\n      const newDeal = {};\n\n      if (typeof deal === 'number') {\n        newDeal.id = deal;\n      }\n\n      newDeal.type = t.value;\n\n      deal = {\n        ...newDeal,\n      };\n    }\n\n    dealPack.isChanged = true;\n    dealPack.deal = deal;\n\n    const setFunnels = funnel.init.bind(funnel);\n\n    setFunnels(dealPack);\n\n    this.change(dealPack);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DealType);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/dealType/dealType.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/funnel/funnel.js":
/*!************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/funnel/funnel.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _dealFields_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dealFields.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/dealFields.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass Funnel extends _dealFields_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tinit(dealPack) {\n\t\tconst props = this.getProps(dealPack);\n\n\t\tconst {\n\t\t\tmenu,\n\t\t\tpack,\n\t\t\tdeal,\n\t\t\tselectTypeValue,\n\t\t\tisView,\n\t\t} = props;\n\n\t\tconst { funnels } = pack;\n\n\t\tconst select = (menu || document)?.querySelector('[data-select-type=\"select-funnel\"]');\n\n\t\tif (select) {\n\t\t\tconst body = select.querySelector('[select-body]');\n\n\t\t\tutils.removeChildren(body, 0);\n\n\t\t\tconst funnelsData = Object.entries(funnels);\n\n\t\t\tprops.select = select.querySelector('[select]');\n\t\t\tprops.funnels = funnelsData;\n\n\t\t\tif (deal) {\n\t\t\t\tconst { type, idFunnel } = deal;\n\t\t\t\tprops.type = selectTypeValue || type || deal.dealType;\n\t\t\t\tprops.idFunnel = idFunnel || deal?.funnel?.idFunnel;\n\t\t\t} else {\n\t\t\t\tprops.type = menu.querySelector('[select-types] [id-selected]')?.value;\n\t\t\t}\n\n\t\t\tthis.initFunnels(props);\n\n\t\t\tconst change = this.change.bind(this, dealPack);\n\n\t\t\tconst selectWrapper = select.querySelector('[id-selected]');\n\n\t\t\tselectWrapper.addEventListener('change', change);\n\n\t\t\tthis.dispatchViewMode(select, isView);\n\t\t}\n\t}\n\n\tinitFunnels(dealPack) {\n\t\tconst {\n\t\t\tidFunnel,\n\t\t\tisChanged,\n\t\t\tselect,\n\t\t\tisAnalyticFilter,\n\t\t} = dealPack;\n\n\t\tthis.setOptionToSelect(dealPack);\n\n\t\tconst idSelected = select.querySelector('[id-selected]');\n\t\tconst body = select.querySelector('[select-body]');\n\t\tconst head = select.querySelector('[select-head] .select-head__placeholder');\n\n\t\tif (isChanged) {\n\t\t\tidSelected.value = isAnalyticFilter ? '0' : '';\n\t\t\tconst options = Array.from(body.children);\n\n\t\t\tif (options.length) {\n\t\t\t\thead.innerText = options[0].innerText.trim();\n\t\t\t}\n\t\t} else {\n\t\t\tconst option = Array.from(body.children).filter((el) => +el.value === idFunnel)[0];\n\n\t\t\tif (option) {\n\t\t\t\tidSelected.value = option ? idFunnel : '';\n\n\t\t\t\thead.innerText = option.innerText.trim();\n\t\t\t\thead.parentNode.setAttribute('title', option.innerText.trim());\n\t\t\t}\n\t\t}\n\t}\n\n\tdispatchViewMode(selectWrapper, isView) {\n\t\tif (isView) {\n\t\t\tselectWrapper?.classList.add('disable');\n\t\t} else {\n\t\t\tselectWrapper?.classList.remove('disable');\n\t\t}\n\t}\n\n\tsetOptionToSelect(dealPack) {\n\t\tconst {\n\t\t\tselect,\n\t\t\tfunnels,\n\t\t\ttype,\n\t\t\tdeal,\n\t\t} = dealPack;\n\n\t\tconst body = select.querySelector('[select-body]');\n\n\t\tlet selected;\n\n\t\tfunnels.forEach((data) => {\n\t\t\tconst dealType = data[0];\n\t\t\tconst funnel = data[1];\n\n\t\t\tif (type === dealType) {\n\t\t\t\tfunnel.forEach((elem) => {\n\t\t\t\t\tconst option = document.createElement('div');\n\t\t\t\t\toption.classList.add('select__option');\n\t\t\t\t\toption.classList.add('no-icon');\n\t\t\t\t\toption.setAttribute('value', elem.idFunnel);\n\t\t\t\t\toption.innerText = elem.funnelName;\n\n\t\t\t\t\tif (elem.idFunnel === (deal.idFunnel || deal.funnel?.idFunnel)) {\n\t\t\t\t\t\tselected = elem;\n\t\t\t\t\t}\n\n\t\t\t\t\tbody.appendChild(option);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tif (selected) {\n\t\t\tconst head = select.querySelector('[select-head] .select-head__placeholder');\n\t\t\thead.innerText = selected.funnelName;\n\t\t\thead.parentNode.setAttribute('title', selected.funnelName);\n\n\t\t\tconst id = select.querySelector('[id-selected]');\n\t\t\tid.value = selected.idFunnel;\n\t\t}\n\t}\n\n\tgetProps(props) {\n\t\treturn utils.getDeepCopy(props);\n\t}\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Funnel);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/funnel/funnel.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/product/price/price.js":
/*!******************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/product/price/price.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _dealFields_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../dealFields.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/dealFields.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass Price extends _dealFields_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  constructor() {\n    super();\n  }\n\n  init(dealPack) {\n    const {\n      menu,\n      isView,\n    } = dealPack;\n\n    const priceItem = menu.querySelector('[price-item]');\n\n    if (priceItem) {\n      const input = priceItem.querySelector('[price]');\n      dealPack.input = input;\n\n      if (priceItem) {\n        this.setPriceDefault(dealPack);\n\n        this.setViewMode(isView, input);\n\n        const change = this.change.bind(this, dealPack);\n        input.addEventListener('input', change);\n      }\n    }\n  }\n\n  setViewMode(isView, input) {\n    if (isView) {\n      input.classList.add('disable');\n      utils.getParent(input, 'platform-form__item').classList.add('disable');\n    } else {\n      input.classList.remove('disable');\n      utils.getParent(input, 'platform-form__item').classList.remove('disable');\n    }\n  }\n\n  setPriceDefault(dealPack) {\n    const {\n      deal,\n      input,\n      menu,\n      pack,\n      isChangedProduct,\n      isChangedTariff,\n    } = dealPack;\n    const { tariffs } = pack;\n\n    const productWrapper = menu.querySelector('[data-select-type=\"select-product\"]');\n\n    const products = Array.from(productWrapper.querySelector('[select-body]').children);\n\n    if (products.length && isChangedProduct && !isChangedTariff) {\n      const changeProps = {\n        menu,\n        products,\n        tariffs,\n        input,\n      };\n\n      this.changeProduct(changeProps);\n    } else if (!isChangedProduct && !isChangedTariff) {\n      this.noChanged(deal, input);\n    } else if (!isChangedProduct && isChangedTariff) {\n      const changeTariffProps = {\n        tariffs,\n        input,\n      };\n\n      this.changeTariff(changeTariffProps);\n    }\n  }\n\n  changeProduct(changeProps) {\n    const {\n      menu,\n      products,\n      tariffs,\n      input,\n    } = changeProps;\n\n    const selectedProduct = +menu.querySelector('[data-select-type=\"select-product\"] [id-selected]').value;\n\n    const selected = products.find((el) => +el.getAttribute('value') === selectedProduct);\n\n    if (tariffs.length || !selected) {\n      input.value = '';\n    } else if (selected || !tariffs.length) {\n      input.value = selected.getAttribute('data-price') || '';\n    }\n  }\n\n  noChanged(deal, input) {\n    const { price } = deal;\n    input.value = price || '';\n  }\n\n  changeTariff(changeTariffProps) {\n    const {\n      tariffs,\n      input,\n    } = changeTariffProps;\n\n    const idTariffInput = utils.getParent(input, 'platform-form__items').querySelector('[data-select-type=\"select-tariff\"] [id-selected]');\n\n    if (idTariffInput) {\n      const idTariff = +idTariffInput.value;\n\n      const selected = tariffs.find((el) => el.id === idTariff);\n\n      if (selected) {\n        input.value = selected.price || '';\n      } else {\n        input.value = '';\n      }\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Price);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/product/price/price.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/product/product.js":
/*!**************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/product/product.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _startDate_startDate_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./startDate/startDate.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/product/startDate/startDate.js\");\n/* harmony import */ var _price_price_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./price/price.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/product/price/price.js\");\n/* harmony import */ var _tariff_tariff_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./tariff/tariff.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/product/tariff/tariff.js\");\n/* harmony import */ var _dealFields_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../dealFields.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/dealFields.js\");\n\n\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst stream = new _startDate_startDate_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst price = new _price_price_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst tariff = new _tariff_tariff_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n\nclass Product extends _dealFields_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"] {\n  init(props) {\n    const {\n      menu,\n      isView,\n    } = props;\n\n    props.isChangedTariff = false;\n\n    if (props.currentForm) {\n      props.deal = {\n        ...props.currentForm,\n      };\n    }\n\n    const productItem = menu.querySelector('[data-select-type=\"select-product\"]');\n\n    this.setViewMode(isView, productItem);\n\n    const idSelectInput = productItem.querySelector('[id-selected]');\n\n    if (idSelectInput) {\n      props.idSelectInput = idSelectInput;\n      this.getProductData(props);\n\n      const cloneInput = utils.setCloneElement(idSelectInput);\n\n      const changeProduct = this.changeProduct.bind(this, props);\n      cloneInput.addEventListener('change', changeProduct);\n    }\n  }\n\n  changeProduct(props) {\n    props.isChangedProduct = true;\n    props.isChangedTariff = false;\n\n    this.change(props);\n    this.init(props);\n  }\n\n  setViewMode(isView, productItem) {\n    if (isView) {\n      productItem.classList.add('disable');\n    } else {\n      productItem.classList.remove('disable');\n    }\n  }\n\n  getProductData(props) {\n    const { idSelectInput } = props;\n\n    if (idSelectInput.value) {\n      this.requestProductItems(idSelectInput, props);\n    } else {\n      this.hideItems(props);\n    }\n  }\n\n  requestProductItems(idSelectInput, props) {\n    const dataTariff = {\n      id: idSelectInput.value,\n    };\n\n    const isAccess = this.getAccess(props);\n\n    const formDataStreams = new FormData();\n    formDataStreams.set('idCourse', idSelectInput.value);\n\n    let getStreams;\n\n    if (isAccess) {\n      getStreams = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.dealAPI.getStreams(formDataStreams);\n    } else {\n      getStreams = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.dealAPI.getManagerStreams(formDataStreams);\n    }\n\n    const loader = setTimeout(utils.showLoader, 400);\n\n    _api_api_js__WEBPACK_IMPORTED_MODULE_1__.dealAPI.getTariff(dataTariff).then((tariffs) => getStreams.then((streams) => {\n      clearTimeout(loader);\n      utils.hideLoader();\n\n      props.pack.tariffs = tariffs;\n      props.pack.streams = streams;\n\n      const items = [tariff, stream, price];\n\n      items.forEach((item) => {\n        const init = item.init.bind(item);\n        init(props);\n      });\n    }, () => {\n      clearTimeout(loader);\n      utils.hideLoader();\n    }));\n  }\n\n  hideItems(props) {\n    const { menu } = props;\n    const tariffItem = menu.querySelector('[data-select-type=\"tariff-select\"]');\n\n    if (tariffItem) {\n      tariffItem.classList.add('hide');\n\n      stream.init(props);\n      price.init(props);\n    }\n  }\n\n  getAccess(props) {\n    const { pack } = props;\n    const { role } = pack;\n\n    const access = ['ROLE_ADMIN', 'ROLE_EXAMINER'];\n\n    return access.includes(role);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Product);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/product/product.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/product/startDate/startDate.js":
/*!**************************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/product/startDate/startDate.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _dealFields_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../dealFields.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/dealFields.js\");\n/* harmony import */ var _settings_payment_form_builder_events_formTypes_withChoice_events_events_changeStreams_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../../../settings/payment-form/builder/events/formTypes/withChoice/events/events/changeStreams.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/builder/events/formTypes/withChoice/events/events/changeStreams.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst changeStreams = new _settings_payment_form_builder_events_formTypes_withChoice_events_events_changeStreams_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass StartDate extends _dealFields_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n  constructor() {\n    super();\n  }\n\n  init(dealPack) {\n    const { menu } = dealPack;\n\n    if (menu) {\n      const selectWrapper = menu.querySelector('[data-select-type=\"select-stream\"]');\n\n      if (selectWrapper) {\n        const select = selectWrapper.querySelector('[select]');\n        dealPack.selectWrapper = selectWrapper;\n        dealPack.select = select;\n\n        this.setViewMode(dealPack);\n        this.setOptionToStreamSelect(dealPack);\n\n        const idSelected = selectWrapper.querySelector('[id-selected]');\n\n        if (idSelected) {\n          const changeStream = this.changeStream.bind(this);\n          idSelected.addEventListener('change', changeStream);\n        }\n      }\n    }\n\n    if (dealPack.isPaymentForm) {\n      changeStreams.init(dealPack);\n    }\n  }\n\n  changeStream(props) {\n    this.change(props);\n  }\n\n  setViewMode(props) {\n    const { selectWrapper, isView, select } = props;\n\n    const wrapper = utils.getParent(select, 'platform-form__item');\n\n    if (selectWrapper && isView) {\n      wrapper.classList.add('disable');\n    } else if (selectWrapper && !isView) {\n      wrapper.classList.remove('disable');\n    }\n  }\n\n  setOptionToStreamSelect(props) {\n    const {\n      select,\n      pack,\n      deal,\n      isChangedProduct,\n    } = props;\n    const { streams } = pack;\n\n    const body = select.querySelector('[select-body]');\n\n    utils.removeChildren(body, 0);\n\n    const streamOptionProps = {\n      isChangedProduct,\n      deal,\n      selected: null,\n      body,\n    };\n\n    if (streams?.length && Array.isArray(streams)) {\n      const setStreamOptions = this.setStreamOptions.bind(this, streamOptionProps);\n\n      streams.forEach(setStreamOptions);\n    }\n\n    const head = select.querySelector('[select-head]').querySelector('.select-head__placeholder');\n    const idSelected = select.querySelector('[id-selected]');\n\n    if (streamOptionProps.selected) {\n      head.innerText = utils.getDateFormatDDMMYYYY(streamOptionProps.selected.startDate);\n      head.parentNode.setAttribute('title', utils.getDateFormatDDMMYYYY(streamOptionProps.selected.startDate));\n\n      idSelected.value = streamOptionProps.selected.id;\n    } else if (deal && !streamOptionProps.selected && deal.idStream && !isChangedProduct) {\n      const olderProps = {\n        deal,\n        body,\n        head,\n        idSelected,\n      };\n\n      this.olderDataStream(olderProps);\n    } else if (isChangedProduct) {\n      this.isChangedStream(props, head);\n    }\n  }\n\n  setStreamOptions(props, item) {\n    const { isChangedProduct, deal, body } = props;\n\n    const option = document.createElement('div');\n    option.setAttribute('value', item.id);\n    option.classList.add('select__option');\n    option.classList.add('no-icon');\n    option.innerText = utils.getDateFormatDDMMYYYY(item.startDate);\n\n    if (!isChangedProduct && item.id === deal.idStream) {\n      props.selected = item;\n    }\n\n    body.appendChild(option);\n  }\n\n  olderDataStream(olderProps) {\n    const {\n      deal,\n      body,\n      head,\n      idSelected,\n    } = olderProps;\n\n    const option = document.createElement('div');\n\n    option.setAttribute('value', deal.idStream);\n    option.classList.add('select__option');\n    option.classList.add('no-icon');\n\n    option.innerText = utils.getDateFormatDDMMYYYY(deal.startDate);\n\n    body.insertBefore(option, Array.from(body.children)[1]);\n\n    head.innerText = utils.getDateFormatDDMMYYYY(deal.startDate);\n    head.parentNode.setAttribute('title', utils.getDateFormatDDMMYYYY(deal.startDate));\n\n    idSelected.value = deal.idStream;\n  }\n\n  isChangedStream(props, head) {\n    const { select, menu } = props;\n    const idInput = select.querySelector('[id-selected]');\n    idInput.value = '';\n\n    const body = select.querySelector('[select-body]');\n    const options = Array.from(body.children);\n\n    head.innerText = options[0].innerText.trim();\n    head.parentNode.setAttribute('title', options[0].innerText.trim());\n\n    const idProduct = menu.querySelector('[data-select-type=\"select-product\"] [id-selected]');\n\n    if (!idProduct.value) {\n      utils.removeChildren(menu.querySelector('[data-select-type=\"select-stream\"] [select-body]'), 0);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (StartDate);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/product/startDate/startDate.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/product/tariff/tariff.js":
/*!********************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/product/tariff/tariff.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _dealFields_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../dealFields.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/dealFields.js\");\n/* harmony import */ var _price_price_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../price/price.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/product/price/price.js\");\n/* harmony import */ var _utils_selectOptions_selectOptions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../../../../../utils/selectOptions/selectOptions.js */ \"./dev/static/js/platform/utils/selectOptions/selectOptions.js\");\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst price = new _price_price_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst selectOptions = new _utils_selectOptions_selectOptions_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass Tariff extends _dealFields_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n  init(props) {\n    const {\n      menu,\n      isView,\n      deal,\n      pack,\n    } = props;\n    const { tariffs } = pack;\n\n    const tariffItem = menu.querySelector('[data-select-type=\"select-tariff\"]');\n\n    props.tariffItem = tariffItem;\n\n    const tariffProps = {\n      tariffItem,\n      tariffs,\n      props,\n      deal,\n    };\n\n    this.toggleTariff(tariffProps);\n    this.dispatchViewWrapper(isView, tariffItem);\n    this.changeTariffSelect(props);\n  }\n\n  dispatchViewWrapper(isView, tariffItem) {\n    if (isView) {\n      tariffItem.classList.add('disable');\n    } else {\n      tariffItem.classList.remove('disable');\n    }\n  }\n\n  changeTariffSelect(props) {\n    const { tariffItem } = props;\n\n    const idSelected = tariffItem.querySelector('[id-selected]');\n\n    if (idSelected) {\n      const cloneInputId = utils.setCloneElement(idSelected);\n\n      const changeTariff = this.changeTariff.bind(this, props);\n\n      cloneInputId.addEventListener('change', changeTariff);\n    }\n  }\n\n  toggleTariff(tariffProps) {\n    const {\n      tariffItem,\n      tariffs,\n      props,\n      deal,\n    } = tariffProps;\n    const { menu } = props;\n\n    const statusDeal = menu.querySelector('[data-select-type=\"select-status\"] [id-selected]')?.value;\n\n    const noChangeProduct = !props.isChangedProduct;\n    const dealStatus = !props.isPaymentForm ? deal?.status !== 1 || statusDeal !== 1 : 2;\n    const changeProduct = props.isChangedProduct && tariffItem && dealStatus;\n\n    if (noChangeProduct) {\n      if (tariffItem && tariffs?.length && (deal?.status !== 1 || statusDeal !== 1)) {\n        tariffItem.classList.remove('hide');\n        this.setTariffOption(props, tariffItem);\n      } else if (tariffItem && !tariffs?.length) {\n        tariffItem.classList.add('hide');\n      }\n    } else if (changeProduct && tariffs.length) {\n      tariffItem.classList.remove('hide');\n      this.setTariffOption(props, tariffItem);\n    } else if (changeProduct && !tariffs.length) {\n      tariffItem.classList.add('hide');\n    }\n  }\n\n  getProps(props) {\n    if (props.currentForm) {\n      props.deal = {\n        ...props.currentForm,\n      };\n    }\n\n    return utils.getDeepCopy(props);\n  }\n\n  changeTariff(props) {\n    props.isChangedTariff = true;\n    props.isChangedProduct = false;\n\n    this.change(props);\n    price.init(props);\n  }\n\n  setTariffOption(props, tariffItem) {\n    const { deal, pack, currentForm: form } = props;\n    const { tariffs } = pack;\n    const body = tariffItem.querySelector('.select__body');\n\n    utils.removeChildren(body, 0);\n\n    const setTariffsOptions = selectOptions.setTariffsOptions.bind(selectOptions);\n    const options = props.pack.tariffs.map(setTariffsOptions);\n\n    if (body.children.length) {\n      body.children[body.children.length - 1].insertAdjacentHTML('afterend', options.join(''));\n    } else {\n      body.insertAdjacentHTML('afterbegin', options);\n    }\n\n    const isDeal = deal ? tariffs.find((el) => el.id === deal.idTariff) : false;\n    const isPaymentForm = form ? tariffs.find((el) => el.id === form.tariff.id) : false;\n\n    const selectedTariff = isDeal || isPaymentForm;\n\n    if (selectedTariff) {\n      const header = tariffItem.querySelector('.select__head');\n\n      if (selectedTariff && !props.isChangedProduct) {\n        const tariffName = Array.from(body.children).find((el) => +el.getAttribute('value') === deal.idTariff)?.innerHTML;\n\n        header.setAttribute('title', tariffName);\n        header.querySelector('.select-head__placeholder').innerHTML = tariffName;\n      } else if (props.isChangedProduct) {\n        const tariffName = Array.from(body.children)[0]?.innerHTML;\n        header.setAttribute('title', tariffName);\n        header.querySelector('.select-head__placeholder').innerHTML = tariffName;\n      }\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Tariff);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/product/tariff/tariff.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/social/social.js":
/*!************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/social/social.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _dealFields_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dealFields.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/dealFields.js\");\n\n\nclass Social extends _dealFields_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  constructor() {\n    super();\n  }\n\n  init(dealPack) {\n    const {\n      menu,\n      isView,\n    } = dealPack;\n\n    const select = menu.querySelector('[data-select-type=\"select-social\"]');\n\n    this.dispatchViewMode(isView, select);\n    this.changeSocial(dealPack, select);\n  }\n\n  dispatchViewMode(isView, select) {\n    if (isView) {\n      select.classList.add('disable');\n    } else {\n      select.classList.remove('disable');\n    }\n  }\n\n  changeSocial(dealPack, select) {\n    const change = this.change.bind(this, dealPack);\n\n    const selected = select.querySelector('[id-selected]');\n    selected.addEventListener('change', change);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Social);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/social/social.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/status/events/changeStatus.js":
/*!*************************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/status/events/changeStatus.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _openProducts_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./openProducts.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/status/events/openProducts.js\");\n/* harmony import */ var _closeProduct_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./closeProduct.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/status/events/closeProduct.js\");\n/* harmony import */ var _dealFields_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../dealFields.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/dealFields.js\");\n\n\n\n\nconst openProduct = new _openProducts_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst closeProduct = new _closeProduct_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass ChangeStatus extends _dealFields_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  constructor() {\n    super();\n  }\n\n  init(dealPack) {\n    const { status } = dealPack;\n\n    if (status) {\n      const changeDealStatus = this.changeDealStatus.bind(this, dealPack);\n      status.addEventListener('change', changeDealStatus);\n    }\n  }\n\n  changeDealStatus(dealPack, e) {\n    const props = {\n      ...dealPack,\n    };\n\n    props.dealStatus = +e.target.value;\n\n    let toggle;\n\n    if (props.dealStatus !== 1) {\n      toggle = openProduct.init.bind(openProduct);\n    } else {\n      toggle = closeProduct.init.bind(closeProduct);\n    }\n\n    toggle(props);\n\n    this.change(props);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChangeStatus);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/status/events/changeStatus.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/status/events/closeProduct.js":
/*!*************************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/status/events/closeProduct.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass CloseProduct {\n  init(dealPack) {\n    const { menu, deal, dealStatus } = dealPack;\n\n    const selectProduct = menu.querySelector('[data-select-type=\"select-product\"]');\n    const tariff = menu.querySelector('[data-select-type=\"select-tariff\"]');\n    const startDate = menu.querySelector('[data-select-type=\"select-stream\"]');\n    const price = menu.querySelector('[price-item]');\n\n    if (deal && deal.type) {\n      if (deal.status === 1 || dealStatus) {\n        const items = [selectProduct, tariff, startDate, price];\n\n        items.forEach((item) => {\n          item.classList.add('hide');\n          item.querySelector('[id-selected]')?.removeAttribute('required');\n        });\n      }\n    } else {\n      const props = {\n        ...dealPack,\n        selectProduct,\n        tariff,\n        startDate,\n        price,\n      };\n\n      this.hideMenuItems(props);\n    }\n  }\n\n  hideMenuItems(dealPack) {\n    const {\n      dealStatus,\n      selectProduct,\n      tariff,\n      startDate,\n      price,\n    } = dealPack;\n\n    if (dealStatus === 1) {\n      const items = [selectProduct, tariff, startDate, price];\n\n      items.forEach((item) => {\n        item.classList.add('hide');\n        item.querySelector('[id-selected]')?.removeAttribute('required');\n      });\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CloseProduct);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/status/events/closeProduct.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/status/events/openProducts.js":
/*!*************************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/status/events/openProducts.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass OpenProduct {\n  init(dealPack) {\n    const { menu, deal } = dealPack;\n\n    const selectProduct = menu.querySelector('[data-select-type=\"select-product\"]');\n    const tariff = menu.querySelector('[data-select-type=\"select-tariff\"]');\n    const startDate = menu.querySelector('[data-select-type=\"select-stream\"]');\n    const price = menu.querySelector('[price-item]');\n\n    const items = [selectProduct, tariff, startDate, price];\n\n    if (deal && deal.type !== '' && deal.idTariff) {\n      items.forEach((item) => {\n        item.classList.remove('hide');\n        item.querySelector('[id-selected]')?.setAttribute('required', '');\n      });\n    } else {\n      const willOpen = items.filter((el) => !el.classList.contains('tariff-content'));\n\n      willOpen.forEach((item) => {\n        item.classList.remove('hide');\n        item.querySelector('[id-selected]')?.setAttribute('required', '');\n      });\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OpenProduct);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/status/events/openProducts.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/status/events/setStatus.js":
/*!**********************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/status/events/setStatus.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _openProducts_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./openProducts.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/status/events/openProducts.js\");\n/* harmony import */ var _closeProduct_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./closeProduct.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/status/events/closeProduct.js\");\n/* harmony import */ var _changeStatus_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./changeStatus.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/status/events/changeStatus.js\");\n\n\n\n\nconst openProduct = new _openProducts_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst closeProduct = new _closeProduct_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst changeStatus = new _changeStatus_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass SetStatus {\n  init(dealPack) {\n    const {\n      menu,\n      deal,\n      isView,\n    } = dealPack;\n\n    const statusSelect = menu.querySelector('[data-select-type=\"select-status\"]');\n\n    this.dispatchViewMode(isView, statusSelect);\n\n    const statusEventsProps = {\n      statusSelect,\n      dealPack,\n      deal,\n    };\n\n    this.setStatusEvents(statusEventsProps);\n  }\n\n  dispatchViewMode(isView, statusSelect) {\n    if (isView) {\n      statusSelect.classList.add('disable');\n    } else {\n      statusSelect.classList.remove('disable');\n    }\n  }\n\n  setStatusEvents(props) {\n    const {\n      statusSelect,\n      dealPack,\n      deal,\n    } = props;\n\n    const statusSelected = statusSelect.querySelector('[id-selected]');\n    dealPack.status = statusSelected;\n\n    statusSelected.value = deal ? deal.status : '';\n\n    const items = [changeStatus, openProduct, closeProduct];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(dealPack);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SetStatus);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/status/events/setStatus.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/status/status.js":
/*!************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/status/status.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_setStatus_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/setStatus.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/status/events/setStatus.js\");\n\n\nconst setStatus = new _events_setStatus_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass Status {\n  init(dealPack) {\n    const items = [setStatus];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(dealPack);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Status);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/status/status.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/tag/tag.js":
/*!******************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/tag/tag.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _dealFields_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dealFields.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/dealFields.js\");\n\n\nclass Tag extends _dealFields_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  constructor() {\n    super();\n  }\n\n  init(dealPack) {\n    const { menu, deal, isView } = dealPack;\n\n    const input = menu.querySelector('[tag]');\n\n    if (deal) {\n      const { tag } = deal;\n      input.value = tag || '';\n    } else {\n      input.value = '';\n    }\n\n    if (isView) {\n      input.classList.add('disable');\n    } else {\n      input.classList.remove('disable');\n    }\n\n    const change = this.change.bind(this, dealPack);\n    input.addEventListener('input', change);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Tag);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/tag/tag.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/interfaces/interfaceDealType.js":
/*!*****************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/interfaces/interfaceDealType.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _dealItems_dealType_dealType_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dealItems/dealType/dealType.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/dealType/dealType.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\nconst dealType = new _dealItems_dealType_dealType_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass InterfaceDealType {\n  change(props) {\n    const dealTypeSelect = document.querySelector('[name=\"dealType\"]');\n\n    if (dealTypeSelect) {\n      const cloneDealTypeSelect = utils.setCloneElement(dealTypeSelect);\n\n      const changeDealType = dealType.changeDealType.bind(dealType, props);\n\n      cloneDealTypeSelect.addEventListener('change', changeDealType);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (InterfaceDealType);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/interfaces/interfaceDealType.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/deal/events/dealEvents.js":
/*!**********************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/deal/events/dealEvents.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _afterGetDeal_afterGetDeal_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./afterGetDeal/afterGetDeal.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/afterGetDeal.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\n\nconst afterGetDeal = new _afterGetDeal_afterGetDeal_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass DealEvents {\n  init(dealPack) {\n    const dealEventsData = this.getProps(dealPack);\n\n    const { idDeal } = dealEventsData;\n\n    const getDeal = _api_api_js__WEBPACK_IMPORTED_MODULE_0__.dealAPI.getDeal({\n      id: idDeal,\n    });\n\n    getDeal.then((deal) => {\n      dealEventsData.deal = deal;\n\n      const after = afterGetDeal.init.bind(afterGetDeal);\n      after(dealEventsData);\n    });\n  }\n\n  getProps(dealPack) {\n    const { target } = dealPack;\n    let idDeal;\n\n    if (!dealPack.idDeal) {\n      idDeal = +utils.getParent(target, 'deal-card').getAttribute('data-deal');\n    } else {\n      idDeal = dealPack.idDeal;\n    }\n\n    const {\n      menu,\n      pack,\n      tabsObs,\n      dealTabObs,\n      deals,\n      idClient,\n      isView,\n      user,\n      client,\n      activeTab,\n      defaultTab,\n      rowEventsObs,\n      clientCardObs,\n      rerenderContent,\n    } = dealPack;\n\n    return {\n      idDeal,\n      menu,\n      pack,\n      tabsObs,\n      dealTabObs,\n      deals,\n      idClient,\n      isView,\n      user,\n      client,\n      activeTab,\n      defaultTab,\n      rowEventsObs,\n      clientCardObs,\n      rerenderContent,\n    };\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DealEvents);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/deal/events/dealEvents.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/deal/requests/dealRequest.js":
/*!*************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/deal/requests/dealRequest.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_validation_deal_validateDeal_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/validation/deal/validateDeal.js */ \"./dev/static/js/platform/utils/validation/deal/validateDeal.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n/* harmony import */ var _events_status_events_RerenderDealRow_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../events/status/events/RerenderDealRow.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/events/status/events/RerenderDealRow.js\");\n\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst validateDeal = new _utils_validation_deal_validateDeal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst rerenderDealRow = new _events_status_events_RerenderDealRow_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n\nclass DealRequest {\n  updateDeal(dealPack, e) {\n    const { idClient, deal } = dealPack;\n\n    const menu = document.querySelector('[js-menu-deal]');\n\n    const form = menu.querySelector('[js-deal-form]');\n\n    if (validateDeal.init(form)) {\n      const data = this.getUpdateData(dealPack);\n\n      const update = _api_api_js__WEBPACK_IMPORTED_MODULE_2__.dealAPI.updateDeal(data);\n\n      const showLoader = setTimeout(utils.showLoader, 400);\n\n      update.then((courseData) => {\n        utils.hideLoader();\n        clearTimeout(showLoader);\n\n        const t = e.target;\n        t.disabled = true;\n\n        const getDeals = _api_api_js__WEBPACK_IMPORTED_MODULE_2__.dealAPI.getDeals(idClient || deal.idClient);\n\n        getDeals.then((deals) => {\n          const dealTabObserver = dealPack.dealTabObs;\n          const { tabsObs } = dealPack;\n          dealPack.deal = courseData;\n\n          dealPack.pack.items = dealPack.pack.items.map((el) => {\n            if (el.id === courseData.id) {\n              el = courseData;\n            }\n\n            return el;\n          });\n\n          dealPack.deals = this.sortingDeals(deals);\n          dealPack.isCreate = false;\n\n          const items = [tabsObs, rerenderDealRow];\n\n          if (dealTabObserver) {\n            items.push(dealTabObserver);\n          }\n\n          items.forEach((item) => {\n            const init = item.init.bind(item);\n            init(dealPack);\n          });\n        });\n      });\n    }\n  }\n\n  getUpdateData(updateProps) {\n    const {\n      deal,\n      menu,\n      pack,\n      idClient,\n    } = updateProps;\n\n    const idDeal = deal.id || deal;\n    const status = +menu.querySelector('[data-select-type=\"select-status\"] [id-selected]').value;\n    const social = +menu.querySelector('[data-select-type=\"select-social\"] [id-selected]').value;\n    const dateRequest = menu.querySelector('[date-request]').value;\n    const dealType = menu.querySelector('[data-select-type=\"select-deal-type\"] [id-selected]').value;\n    const funnel = menu.querySelector('[data-select-type=\"select-funnel\"] [id-selected]').value;\n    const products = menu.querySelector('[data-select-type=\"select-product\"] [id-selected]').value;\n    const tariff = menu.querySelector('[data-select-type=\"select-tariff\"] [id-selected]').value;\n    const streams = menu.querySelector('[data-select-type=\"select-stream\"] [id-selected]').value;\n    const price = menu.querySelector('[price-item] [price]').value;\n    const tag = menu.querySelector('[tag]').value;\n    const comment = menu.querySelector('[comment]').value;\n    const isAdmin = pack.role === 'ROLE_ADMIN' ? pack.filter.idManager : null;\n    const isManager = pack?.manager?.id;\n    const idManager = isAdmin || isManager;\n\n    const product = Array.from(menu.querySelector('[data-select-type=\"select-product\"] [select-body]').children).find((el) => el.getAttribute('value') === products);\n\n    const courseValue = product.getAttribute('data-title');\n    const productTypeValue = product.getAttribute('data-type');\n    const saleTypeValue = product.getAttribute('data-type');\n\n    const course = courseValue || deal.course;\n    const productType = productTypeValue || deal.product;\n    const saleType = saleTypeValue || deal.saleType;\n\n    return {\n      id: idDeal || null,\n      idManager,\n      idClient,\n      status,\n      dealDate: dateRequest,\n      createDate: pack.today,\n      saleType,\n      idFunnel: +funnel,\n      idProduct: products,\n      idTariff: tariff || null,\n      idStream: streams,\n      price: price !== 'undefined' ? price : 0,\n      tag,\n      comment,\n      course,\n      social,\n      type: dealType,\n      product: productType || '',\n    };\n  }\n\n  saveNewDeal(dealPack, e) {\n    const {\n      menu,\n      pack,\n      idClient,\n      client,\n      tabsObs,\n    } = dealPack;\n\n    const form = menu.querySelector('[js-deal-form]');\n\n    if (validateDeal.init(form)) {\n      const showLoader = setTimeout(() => {\n        utils.showLoader();\n      }, 400);\n\n      const statusValue = +menu.querySelector('[data-select-type=\"select-status\"] [id-selected]').value;\n      const socialValue = +menu.querySelector('[data-select-type=\"select-social\"] [id-selected]').value;\n      const dateRequestValue = menu.querySelector('[date-request]').value;\n      const dealTypeValue = menu.querySelector('[data-select-type=\"select-deal-type\"] [id-selected]').value;\n      const funnelValue = menu.querySelector('[data-select-type=\"select-funnel\"] [id-selected]').value;\n      const productsValue = menu.querySelector('[data-select-type=\"select-product\"] [id-selected]').value;\n      const tariffValue = menu.querySelector('[data-select-type=\"select-tariff\"] [id-selected]').value;\n      const streamsValue = menu.querySelector('[data-select-type=\"select-stream\"] [id-selected]').value;\n      const priceValue = menu.querySelector('[price-item] [price]').value;\n      const tagValue = menu.querySelector('[tag]').value;\n      const commentValue = menu.querySelector('[comment]').value;\n\n      const isAdmin = pack.role === 'ROLE_ADMIN' ? pack.filter.idManager : null;\n      const isManager = pack.manager?.id;\n\n      const idManager = isAdmin || isManager;\n\n      const productSelected = Array.from(menu.querySelector('[data-select-type=\"select-product\"] [select-body]').children).find((el) => el.getAttribute('value') === productsValue);\n\n      const course = productSelected.getAttribute('data-title');\n      const productType = productSelected.getAttribute('data-type');\n      const saleType = productSelected.getAttribute('data-type');\n\n      const data = {\n        idManager,\n        idClient: idClient || client.id,\n        status: statusValue,\n        dealDate: dateRequestValue,\n        createDate: pack.today,\n        saleType: saleType || null,\n        idFunnel: funnelValue,\n        idProduct: +productsValue,\n        idTariff: tariffValue || null,\n        idStream: streamsValue,\n        price: priceValue || 0,\n        tag: tagValue,\n        comment: commentValue,\n        course,\n        social: socialValue,\n        type: dealTypeValue,\n        product: productType || '',\n      };\n\n      const save = _api_api_js__WEBPACK_IMPORTED_MODULE_2__.dealAPI.createDeal(data);\n\n      save.then((deal) => {\n        utils.hideLoader();\n        clearTimeout(showLoader);\n\n        const t = e.target;\n        t.disabled = true;\n        dealPack.deal = data;\n        this.setTabSettings(dealPack, deal);\n\n        dealPack.isView = false;\n\n        const getDeals = _api_api_js__WEBPACK_IMPORTED_MODULE_2__.dealAPI.getDeals(idClient || client.id);\n\n        getDeals.then((deals) => {\n          const dealTabObserver = dealPack.dealTabObs;\n          dealPack.deals = this.sortingDeals(deals);\n\n          dealPack.deal = dealPack.deals.find((el) => el.id === deal);\n\n          tabsObs.init(dealPack);\n\n          const items = [dealTabObserver];\n\n          items.forEach((item) => {\n            const init = item.init.bind(item);\n            init(dealPack);\n          });\n\n          const menuTitle = menu.querySelector('[client-name]');\n          menuTitle.innerText = 'Редактировать сделку';\n\n          const updateBtn = menu.querySelector('[edit-deal]');\n\n          if (updateBtn) {\n            const update = utils.setCloneElement(updateBtn);\n            const dealRequestUpdate = this.updateDeal.bind(this, dealPack);\n\n            update.addEventListener('click', dealRequestUpdate);\n\n            const toValidationError = validation.toValidationError.bind(validation);\n            update.addEventListener('dblclick', toValidationError);\n          }\n        });\n      });\n    }\n  }\n\n  sortingDeals(deals) {\n    return deals.sort((a, b) => b.id - a.id);\n  }\n\n  setTabSettings(dealPack, deal) {\n    dealPack.isCreate = true;\n    dealPack.activeTab = 'Счета и платежи';\n    dealPack.defaultTab = 'Счета и платежи';\n    dealPack.deal.id = deal;\n    dealPack.deal.reminders = [];\n    dealPack.pack.items.push(dealPack.deal);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DealRequest);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/deal/requests/dealRequest.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/dealCard.js":
/*!********************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/dealCard.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _dealCardEvents_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dealCardEvents.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/dealCardEvents.js\");\n/* harmony import */ var _render_renderDealCard_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./render/renderDealCard.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/render/renderDealCard.js\");\n\n\n\nconst dealCardEvents = new _dealCardEvents_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst renderDealCards = new _render_renderDealCard_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass DealCard {\n  init(tabPack) {\n    const dealCard = this.#getProps(tabPack);\n    const renderDeals = renderDealCards.render(dealCard);\n\n    renderDeals.then(() => {\n      const items = [dealCardEvents];\n\n      items.forEach((item) => {\n        const init = item.init.bind(item);\n        init(dealCard);\n      });\n    });\n  }\n\n  #getProps(tabPack) {\n    return {\n      ...tabPack,\n      ...tabPack.dealTabObs,\n      menu: document.querySelector('[js-menu-client-card]'),\n    };\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DealCard);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/dealCard.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/dealCardEvents.js":
/*!**************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/dealCardEvents.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_status_status_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/status/status.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/events/status/status.js\");\n/* harmony import */ var _modules_tooltip_tooltip_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../modules/tooltip/tooltip.js */ \"./dev/static/js/platform/modules/tooltip/tooltip.js\");\n/* harmony import */ var _deal_deal_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./deal/deal.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/deal.js\");\n/* harmony import */ var _dispatch_dealViewManager_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dispatch/dealViewManager.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/dispatch/dealViewManager.js\");\n/* harmony import */ var _dispatch_dealCreateManager_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./dispatch/dealCreateManager.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/dispatch/dealCreateManager.js\");\n/* harmony import */ var _dispatch_dealHideManager_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dispatch/dealHideManager.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/dispatch/dealHideManager.js\");\n/* harmony import */ var _dispatch_dealShowManager_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dispatch/dealShowManager.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/dispatch/dealShowManager.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\n\n\n\n\n\n\nconst status = new _events_status_status_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst tooltip = new _modules_tooltip_tooltip_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst dealViewManager = new _dispatch_dealViewManager_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst dealCreateManager = new _dispatch_dealCreateManager_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\nconst dealHideManager = new _dispatch_dealHideManager_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\nconst dealShowManager = new _dispatch_dealShowManager_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\nconst deal = new _deal_deal_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]();\n\nclass DealCardEvents {\n  init(tabsData) {\n    const {\n      pack,\n      idClient,\n      menu,\n      tabsObs,\n      deals,\n      dealTabObs,\n      client,\n      clientCardObs,\n      rowEventsObs,\n      rerenderContent,\n      user,\n    } = tabsData;\n\n    const dealEventsProps = {\n      pack,\n      idClient,\n      menu,\n      dealObs: deal,\n      tabsObs,\n      deals,\n      dealTabObs,\n      clientCardObs,\n      rowEventsObs,\n      client,\n      user,\n      rerenderContent,\n    };\n\n    const items = [\n      status,\n      tooltip,\n      dealHideManager,\n      dealShowManager,\n      dealViewManager,\n      dealCreateManager,\n    ];\n\n    utils.hideLoader();\n\n    dealEventsProps.showManager = dealShowManager;\n    dealEventsProps.hideManager = dealHideManager;\n\n    tabsData.dealObs = deal;\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(dealEventsProps);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DealCardEvents);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/dealCardEvents.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/dispatch/dealCreateManager.js":
/*!**************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/dispatch/dealCreateManager.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_createDeal_createDeal_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../events/createDeal/createDeal.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/events/createDeal/createDeal.js\");\n\n\nconst createDeal = new _events_createDeal_createDeal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass DealCreateManager {\n  init(dealPack) {\n    const items = [createDeal];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(dealPack);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DealCreateManager);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/dispatch/dealCreateManager.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/dispatch/dealHideManager.js":
/*!************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/dispatch/dealHideManager.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_editDeal_editDeal_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../events/editDeal/editDeal.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/events/editDeal/editDeal.js\");\n/* harmony import */ var _events_hideDeal_hideDeal_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../events/hideDeal/hideDeal.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/events/hideDeal/hideDeal.js\");\n\n\n\nconst editDeal = new _events_editDeal_editDeal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst hideDeal = new _events_hideDeal_hideDeal_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass DealHideManager {\n  init(dealCardPack) {\n    const items = [editDeal, hideDeal];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(dealCardPack);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DealHideManager);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/dispatch/dealHideManager.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/dispatch/dealShowManager.js":
/*!************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/dispatch/dealShowManager.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_revealDeal_revealDeal_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../events/revealDeal/revealDeal.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/events/revealDeal/revealDeal.js\");\n\n\nconst revealDeal = new _events_revealDeal_revealDeal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass DealShowManager {\n  init(dealCardPack) {\n    const items = [revealDeal];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(dealCardPack);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DealShowManager);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/dispatch/dealShowManager.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/dispatch/dealViewManager.js":
/*!************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/dispatch/dealViewManager.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_viewDeal_view_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../events/viewDeal/view.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/events/viewDeal/view.js\");\n\n\nconst viewDeal = new _events_viewDeal_view_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass DealViewManager {\n  init(dealPack) {\n    const items = [viewDeal];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(dealPack);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DealViewManager);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/dispatch/dealViewManager.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/events/createDeal/createDeal.js":
/*!****************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/events/createDeal/createDeal.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _events_closeCreateDealMenu_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/closeCreateDealMenu.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/events/createDeal/events/closeCreateDealMenu.js\");\n/* harmony import */ var _events_openCreateDealMenu_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events/openCreateDealMenu.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/events/createDeal/events/openCreateDealMenu.js\");\n\n\n\n\nconst openMenu = new _events_openCreateDealMenu_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst closeMenu = new _events_closeCreateDealMenu_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass CreateDeal {\n  init(dealPack) {\n    const createProps = this.#getProps(dealPack);\n\n    const createBtn = document.querySelector('.deal-card__create');\n\n    if (createBtn) {\n      const items = [openMenu, closeMenu];\n\n      createProps.menu = document.querySelector('[js-menu-deal]');\n      createProps.createBtn = createBtn;\n      createProps.clientCard = document.querySelector('[js-menu-client-card]');\n\n      items.forEach((item) => {\n        const init = item.init.bind(item);\n        init(createProps);\n      });\n    }\n  }\n\n  #getProps(props) {\n    return utils.getDeepCopy(props);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CreateDeal);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/events/createDeal/createDeal.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/events/createDeal/events/closeCreateDealMenu.js":
/*!********************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/events/createDeal/events/closeCreateDealMenu.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass CloseCreateDealMenu {\n  init(dealPack) {\n    const { menu } = dealPack;\n\n    const closeBtn = menu.querySelector('.platform__close--btn-modal');\n\n    if (closeBtn) {\n      const closeMenu = this.closeMenu.bind(this, dealPack);\n      closeBtn.addEventListener('click', closeMenu);\n    }\n  }\n\n  closeMenu(dealPack) {\n    const { menu } = dealPack;\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n\n    const isClientCardOpen = utils.checkClientCardOpen();\n\n    utils.closeModalAnimation(menu, wrapper, false, isClientCardOpen, false);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CloseCreateDealMenu);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/events/createDeal/events/closeCreateDealMenu.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/events/createDeal/events/openCreateDealMenu.js":
/*!*******************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/events/createDeal/events/openCreateDealMenu.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _deal_events_afterGetDeal_afterGetDeal_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../deal/events/afterGetDeal/afterGetDeal.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/afterGetDeal.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\nconst afterGetDeal = new _deal_events_afterGetDeal_afterGetDeal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass OpenCreateDealMenu {\n  init(dealPack) {\n    const { createBtn } = dealPack;\n\n    const open = this.openMenu.bind(this, dealPack);\n\n    createBtn.addEventListener('click', open);\n  }\n\n  openMenu(dealPack, e) {\n    const t = e.target;\n    dealPack.target = t;\n    dealPack.deal = null;\n\n    const { menu } = dealPack;\n\n    utils.openModalAnimation(menu, true);\n\n    menu.querySelector('.platform-form__title').innerText = 'Создать сделку';\n    menu.querySelector('.platform-form__items').scrollTop = '0';\n\n    dealPack.activeTab = 'Счета и платежи';\n    dealPack.defaultTab = 'Счета и платежи';\n\n    const items = [\n      afterGetDeal,\n    ];\n\n    dealPack.newDeal = true;\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(dealPack);\n    });\n\n    this.clearTabs(dealPack);\n  }\n\n  clearTabs(dealPack) {\n    const { menu } = dealPack;\n\n    const contents = menu.querySelectorAll('.client-card__content');\n\n    contents.forEach((item) => {\n      utils.removeChildren(item);\n    });\n\n    const tabs = menu.querySelector('.client-card__tabs');\n    tabs.style.opacity = '0';\n    tabs.style.pointerEvents = 'none';\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OpenCreateDealMenu);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/events/createDeal/events/openCreateDealMenu.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/events/editDeal/editDeal.js":
/*!************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/events/editDeal/editDeal.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_openEditDeal_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/openEditDeal.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/events/editDeal/events/openEditDeal.js\");\n/* harmony import */ var _events_closeEditDeal_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/closeEditDeal.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/events/editDeal/events/closeEditDeal.js\");\n\n\n\nconst openEditDeal = new _events_openEditDeal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst closeEditDeal = new _events_closeEditDeal_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass EditDeal {\n  init(editData) {\n    const items = [openEditDeal, closeEditDeal];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(editData);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EditDeal);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/events/editDeal/editDeal.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/events/editDeal/events/closeEditDeal.js":
/*!************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/events/editDeal/events/closeEditDeal.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass CloseEditDeal {\n  init(dealCardPack) {\n    const menu = document.querySelector('[js-menu-deal]');\n\n    if (menu) {\n      const closeBtn = menu.querySelector('.platform__close--btn-modal');\n\n      if (closeBtn) {\n        dealCardPack.menu = menu;\n        const closeEditDealMenu = this.closeEditDealMenu.bind(this, dealCardPack);\n\n        const cloneClose = utils.setCloneElement(closeBtn);\n        cloneClose.addEventListener('click', closeEditDealMenu);\n      }\n    }\n  }\n\n  closeEditDealMenu(props) {\n    const { menu, tabsObs } = props;\n\n    const clientCardProps = {\n      ...props,\n      defaultTab: 'Сделки',\n      activeTab: 'Сделки',\n      menu: document.querySelector('[js-menu-client-card]'),\n      deals: [...props.deals],\n    };\n\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n\n    const editBtn = menu.querySelector('[edit-deal]');\n    editBtn.setAttribute('disabled', '');\n\n    const isClientCardOpen = utils.checkClientCardOpen();\n\n    utils.closeModalAnimation(menu, wrapper, false, isClientCardOpen, true, false);\n\n    const tabs = tabsObs.init.bind(tabsObs);\n\n    tabs(clientCardProps);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CloseEditDeal);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/events/editDeal/events/closeEditDeal.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/events/editDeal/events/openEditDeal.js":
/*!***********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/events/editDeal/events/openEditDeal.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass OpenEditDeal {\n  init(dealCardPack) {\n    const props = {\n      ...dealCardPack,\n      menu: document.querySelector('[js-menu-client-card]'),\n    };\n\n    const { menu } = props;\n\n    if (menu) {\n      const editBtn = menu.querySelectorAll('[js-course-card]');\n\n      if (editBtn.length) {\n        const edit = this.editDeal.bind(this, props);\n\n        editBtn.forEach((item) => {\n          const editButton = utils.setCloneElement(item);\n          editButton.addEventListener('click', edit);\n        });\n      }\n    }\n  }\n\n  editDeal(dealCardPack, e) {\n    const {\n      idClient,\n      menu,\n      pack,\n      dealObs,\n      tabsObs,\n      dealTabObs,\n      deals,\n      user,\n      client,\n      rowEventsObs,\n      clientCardObs,\n      rerenderContent,\n    } = dealCardPack;\n\n    const t = e.target;\n\n    const editData = {\n      idClient,\n      pack,\n      dealObs,\n      tabsObs,\n      dealTabObs,\n      deals,\n      user,\n      client,\n      rowEventsObs,\n      clientCardObs,\n      rerenderContent,\n      menu: document.querySelector('[js-menu-deal]'),\n      target: t,\n    };\n\n    const openEditMenu = this.openEditMenu.bind(this);\n\n    if (menu) {\n      openEditMenu(editData);\n    }\n  }\n\n  openEditMenu(editData) {\n    utils.showLoader();\n    const { menu, target, dealObs } = editData;\n\n    utils.openModalAnimation(menu, true);\n\n    menu.querySelector('.platform-form__items').scrollTop = '0';\n    menu.querySelector('.platform-form__title').innerText = 'Редактировать сделку';\n\n    const dealCard = utils.getParent(target, 'deal-card');\n    const dealRow = utils.getParent(target, 'platform-table__row');\n\n    const idDeal = (dealCard || dealRow).getAttribute('data-deal');\n\n    editData.idDeal = idDeal;\n    editData.activeTab = 'Счета и платежи';\n    editData.defaultTab = 'Счета и платежи';\n\n    const items = [dealObs];\n\n    editData.newDeal = false;\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(editData);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OpenEditDeal);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/events/editDeal/events/openEditDeal.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/events/hideDeal/events/afterHideDeal.js":
/*!************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/events/hideDeal/events/afterHideDeal.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass AfterHideDeal {\n  init(dealCardPack) {\n    const after = this.afterHideDeal.bind(this);\n    after(dealCardPack);\n  }\n\n  afterHideDeal(dealCardPack) {\n    const { target } = dealCardPack;\n\n    const navigation = utils.getParent(target, 'deal-card__controls');\n\n    if (navigation) {\n      const changeNavigation = this.changeNavigation.bind(this);\n      dealCardPack.navigation = navigation;\n      changeNavigation(dealCardPack);\n\n      const setListenerToButton = this.setListenerToButton.bind(this);\n      setListenerToButton(dealCardPack);\n    }\n  }\n\n  changeNavigation(dealCardPack) {\n    const { navigation } = dealCardPack;\n    utils.removeChildren(navigation);\n\n    const div = document.createElement('div');\n    div.classList.add('deal-card__recover');\n    div.setAttribute('js-reveal-deal-btn', '');\n    div.innerText = 'Восстановить сделку';\n\n    navigation.appendChild(div);\n  }\n\n  setListenerToButton(dealCardPack) {\n    const { showManager } = dealCardPack;\n    const show = showManager.init.bind(showManager);\n\n    show(dealCardPack);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AfterHideDeal);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/events/hideDeal/events/afterHideDeal.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/events/hideDeal/hideDeal.js":
/*!************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/events/hideDeal/hideDeal.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _events_afterHideDeal_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events/afterHideDeal.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/events/hideDeal/events/afterHideDeal.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst afterHideDeal = new _events_afterHideDeal_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass HideDeal {\n  init(dealCardPack) {\n    const {\n      showManager,\n      hideManager,\n    } = dealCardPack;\n\n    const hidePack = {\n      ...dealCardPack,\n      menu: document.querySelector('[js-menu-client-card]'),\n      showManager,\n      hideManager,\n    };\n\n    const { menu } = hidePack;\n\n    if (menu) {\n      const hideBtn = menu.querySelectorAll('[js-hide-deal-btn]');\n\n      if (hideBtn.length) {\n        const hideThisDeal = this.hideDeal.bind(this, hidePack);\n\n        hideBtn.forEach((item) => {\n          const hideButton = utils.setCloneElement(item);\n          hideButton.addEventListener('click', hideThisDeal);\n        });\n      }\n    }\n  }\n\n  hideDeal(dealCardPack, e) {\n    const t = e.target;\n\n    dealCardPack.target = t;\n\n    const setPopup = this.setPopup.bind(this);\n    setPopup(dealCardPack);\n  }\n\n  setPopup(dealCardPack) {\n    const { target } = dealCardPack;\n\n    target.style.pointerEvents = 'none';\n\n    const hideRequest = this.hideRequest.bind(this, dealCardPack);\n\n    const popupProps = {\n      text: 'Вы действительно хотите удалить эту сделку?',\n      settings: null,\n      title: null,\n      ok: hideRequest,\n      cancel: null,\n      target,\n    };\n\n    popup.init(popupProps);\n  }\n\n  hideRequest(dealCardPack) {\n    const { target } = dealCardPack;\n\n    const id = utils.getParent(target, 'deal-card').getAttribute('data-deal');\n\n    const data = {\n      id,\n    };\n\n    const hideDeal = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.dealAPI.hideDeal(data);\n\n    hideDeal.then(() => {\n      const items = [afterHideDeal];\n\n      items.forEach((item) => {\n        const init = item.init.bind(item);\n        init(dealCardPack);\n      });\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (HideDeal);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/events/hideDeal/hideDeal.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/events/indicator/events/indicatorHistoryChanges.js":
/*!***********************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/events/indicator/events/indicatorHistoryChanges.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass IndicatorHistoryChanges {\n  init(dealCardPack) {\n    const { deals, menu } = dealCardPack;\n\n    if (deals) {\n      deals.forEach((item) => {\n        const dealCard = menu.querySelector(`.deal-card[data-deal=\"${item.id}\"]`);\n\n        if (dealCard) {\n          const status = dealCard.querySelector('[data-select-type=\"status-deal\"] [id-selected]');\n\n          if (status) {\n            const changeHistory = this.#changeStatusHistory.bind(this, dealCardPack);\n\n            status.addEventListener('change', changeHistory);\n          }\n        }\n      });\n    }\n  }\n\n  #changeStatusHistory(dealCardPack, e) {\n    const { deals } = dealCardPack;\n    const t = e.target;\n\n    dealCardPack.target = t;\n\n    dealCardPack.card = utils.getParent(t, 'deal-card');\n\n    const idDeal = +dealCardPack.card.getAttribute('data-deal');\n\n    dealCardPack.deal = deals.find((el) => el.id === idDeal);\n\n    this.#appendStatusToHistory(dealCardPack);\n  }\n\n  #appendStatusToHistory(dealCardPack) {\n    const { card } = dealCardPack;\n\n    const prevStatus = card.querySelector('[status-previous]').value;\n\n    const div = document.createElement('div');\n    div.classList.add('deal-indicator__history');\n    div.classList.add(prevStatus);\n\n    const historyWrapper = card.querySelector('.deal-indicator__left');\n\n    historyWrapper.appendChild(div);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (IndicatorHistoryChanges);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/events/indicator/events/indicatorHistoryChanges.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/events/indicator/events/indicatorNow.js":
/*!************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/events/indicator/events/indicatorNow.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass IndicatorNow {\n  init(dealCardPack) {\n    const { deals, pack } = dealCardPack;\n    const { dealStatuses } = pack;\n\n    const dealCards = document.querySelectorAll('.deal-card');\n\n    if (dealCards.length) {\n      if (deals) {\n        deals.forEach((item) => {\n          dealCards.forEach((elem) => {\n            if (item.id === +elem.getAttribute('data-deal')) {\n              const indicatorNowElement = elem.querySelector('.deal-indicator__right');\n\n              indicatorNowElement.className = 'deal-indicator__right';\n\n              const selectedStatus = dealStatuses.find((el) => el.id === item.status);\n\n              indicatorNowElement.classList.add(selectedStatus.code);\n            }\n          });\n        });\n      }\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (IndicatorNow);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/events/indicator/events/indicatorNow.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/events/indicator/indicator.js":
/*!**************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/events/indicator/indicator.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_indicatorHistoryChanges_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/indicatorHistoryChanges.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/events/indicator/events/indicatorHistoryChanges.js\");\n\n\nconst indicatorHistoryChanges = new _events_indicatorHistoryChanges_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass Indicator {\n  init(dealCardPack) {\n    const items = [indicatorHistoryChanges];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(dealCardPack);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Indicator);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/events/indicator/indicator.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/events/revealDeal/events/afterRevealDeal.js":
/*!****************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/events/revealDeal/events/afterRevealDeal.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass AfterRevealDeal {\n  init(dealCardPacks) {\n    const afterReveal = this.afterRevealDeal.bind(this);\n    afterReveal(dealCardPacks);\n  }\n\n  afterRevealDeal(dealCardPacks) {\n    const { target } = dealCardPacks;\n\n    target.style.display = 'none';\n\n    const updateNavigation = this.updateNavigation.bind(this);\n    updateNavigation(dealCardPacks);\n  }\n\n  updateNavigation(dealCardPacks) {\n    const { target } = dealCardPacks;\n\n    const navigation = utils.getParent(target, 'deal-card').querySelector('.deal-card__controls');\n\n    utils.removeChildren(navigation);\n\n    dealCardPacks.navigation = navigation;\n\n    if (navigation) {\n      /* Устанавливаем новые кнопки */\n      this.setButtonsToNavigation(dealCardPacks);\n\n      /* Добавляем слушатели на кнопки */\n      const setListenersToButtons = this.setListenersToButtons.bind(this);\n      setListenersToButtons(dealCardPacks);\n    }\n  }\n\n  setButtonsToNavigation(dealCardPacks) {\n    const { navigation } = dealCardPacks;\n\n    const manageDeal = document.createElement('div');\n    manageDeal.classList.add('deal-card__management');\n    manageDeal.setAttribute('js-course-card', '');\n    manageDeal.innerText = 'Управление сделкой';\n\n    const hideBtn = document.createElement('div');\n    hideBtn.classList.add('deal-card__delete--btn');\n    hideBtn.classList.add('deal-card__delete-icon');\n    hideBtn.setAttribute('js-hide-deal-btn', '');\n\n    navigation.appendChild(manageDeal);\n    navigation.appendChild(hideBtn);\n  }\n\n  setListenersToButtons(dealCardPacks) {\n    const { hideManager } = dealCardPacks;\n\n    const hide = hideManager.init.bind(hideManager);\n\n    hide(dealCardPacks);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AfterRevealDeal);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/events/revealDeal/events/afterRevealDeal.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/events/revealDeal/revealDeal.js":
/*!****************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/events/revealDeal/revealDeal.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _events_afterRevealDeal_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events/afterRevealDeal.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/events/revealDeal/events/afterRevealDeal.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst afterRevealDeal = new _events_afterRevealDeal_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass RevealDeal {\n  init(dealCardPack) {\n    const revealPack = {\n      menu: document.querySelector('[js-menu-client-card]'),\n    };\n\n    const { menu } = revealPack;\n\n    if (menu) {\n      const revealBtn = menu.querySelectorAll('[js-reveal-deal-btn]');\n\n      if (revealBtn.length) {\n        const reveal = this.revealDeal.bind(this, dealCardPack);\n\n        revealBtn.forEach((item) => {\n          const revealButton = utils.setCloneElement(item);\n\n          revealButton.addEventListener('click', reveal);\n        });\n      }\n    }\n  }\n\n  revealDeal(dealCardPacks, e) {\n    const t = e.target;\n\n    t.style.pointerEvents = 'none';\n\n    const card = utils.getParent(t, 'deal-card');\n    const idDeal = card.getAttribute('data-deal');\n\n    const data = {\n      id: idDeal,\n    };\n\n    dealCardPacks.target = t;\n\n    const revealDeal = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.dealAPI.revealDeal(data);\n\n    revealDeal.then(\n      () => {\n        const items = [afterRevealDeal];\n        dealCardPacks.target = t;\n\n        items.forEach((item) => {\n          const init = item.init.bind(item);\n          init(dealCardPacks);\n        });\n      },\n      () => {\n        t.style.pointerEvents = 'all';\n      },\n    );\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RevealDeal);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/events/revealDeal/revealDeal.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/events/status/events/RerenderDealRow.js":
/*!************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/events/status/events/RerenderDealRow.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass RerenderDealRow {\n  init(props) {\n    const { rowEventsObs, clientCardObs, rerenderContent } = props;\n\n    if (rowEventsObs && clientCardObs && rerenderContent) {\n      rerenderContent.init(props).then(() => {\n        rowEventsObs.init(props);\n        clientCardObs.init(props);\n      });\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RerenderDealRow);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/events/status/events/RerenderDealRow.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/events/status/events/afterChangeDealCardStatus.js":
/*!**********************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/events/status/events/afterChangeDealCardStatus.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _statusDealCardChanges_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./statusDealCardChanges.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/events/status/events/statusDealCardChanges.js\");\n/* harmony import */ var _prevStatusChanged_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./prevStatusChanged.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/events/status/events/prevStatusChanged.js\");\n/* harmony import */ var _RerenderDealRow_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RerenderDealRow.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/events/status/events/RerenderDealRow.js\");\n\n\n\n\nconst statusDealCardChanged = new _statusDealCardChanges_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst changePrevStatusValue = new _prevStatusChanged_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst reremderDealRow = new _RerenderDealRow_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass AfterChangeDealCardStatus {\n  init(dealCardPack) {\n    const items = [statusDealCardChanged, changePrevStatusValue, reremderDealRow];\n\n    dealCardPack.isChanged = true;\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(dealCardPack);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AfterChangeDealCardStatus);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/events/status/events/afterChangeDealCardStatus.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/events/status/events/changeStatus.js":
/*!*********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/events/status/events/changeStatus.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _afterChangeDealCardStatus_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./afterChangeDealCardStatus.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/events/status/events/afterChangeDealCardStatus.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _indicator_events_indicatorNow_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../indicator/events/indicatorNow.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/events/indicator/events/indicatorNow.js\");\n\n\n\n\n\nconst afterChangeDealCardStatus = new _afterChangeDealCardStatus_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst indicatorNow = new _indicator_events_indicatorNow_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass ChangeStatus {\n  init(dealCardPack) {\n    const { menu } = dealCardPack;\n\n    if (menu) {\n      const statuses = menu.querySelectorAll('[data-select-type=\"status-deal\"] [id-selected]');\n\n      if (statuses.length) {\n        const changeStatus = this.#changeStatus.bind(this, dealCardPack);\n\n        statuses.forEach((item) => {\n          item.addEventListener('change', changeStatus);\n        });\n      }\n    }\n  }\n\n  #changeStatus(dealCardPack, e) {\n    const t = e.target;\n    dealCardPack.target = t;\n\n    const data = this.#getStatusData(dealCardPack);\n    dealCardPack.statusCode = data.code;\n\n    const changeStatus = _api_api_js__WEBPACK_IMPORTED_MODULE_0__.dealAPI.changeDealStatus(data);\n\n    changeStatus.then(() => {\n      const currentDeal = dealCardPack.pack.items.find((el) => el.id === dealCardPack.deal.id);\n\n      if (currentDeal) {\n        const statusProps = {\n          dealCardPack,\n          data,\n          currentDeal,\n        };\n\n        this.#addNewStatusToDeal(statusProps);\n      }\n\n      const after = afterChangeDealCardStatus.init.bind(afterChangeDealCardStatus);\n      after(dealCardPack);\n\n      this.#changeIndictorNow(dealCardPack);\n    });\n  }\n\n  #addNewStatusToDeal(statusProps) {\n    const {\n      dealCardPack,\n      data,\n      currentDeal,\n    } = statusProps;\n\n    const newStatus = {\n      id: data.status,\n      code: data.code,\n      title: dealCardPack.pack.dealStatuses.find((el) => el.id === data.status).title,\n      editDatetime: '',\n    };\n\n    currentDeal.statusChanges.push(newStatus);\n\n    currentDeal.status = newStatus.id;\n    currentDeal.statusCode = newStatus.code;\n    currentDeal.statusName = newStatus.title;\n  }\n\n  #changeIndictorNow(dealCardPack) {\n    const { deals, target } = dealCardPack;\n\n    const idDeal = +utils.getParent(target, 'deal-card').getAttribute('data-deal');\n\n    const currentDeal = deals.find((el) => el.id === idDeal);\n    currentDeal.status = +target.value;\n\n    indicatorNow.init(dealCardPack);\n  }\n\n  #getStatusData(dealCardPack) {\n    const { target, pack } = dealCardPack;\n    const { dealStatuses } = pack;\n\n    const dealCard = utils.getParent(target, 'deal-card');\n\n    const selectedStatus = dealStatuses.find((el) => el.id === +target.value);\n\n    const idDeal = dealCard.getAttribute('data-deal');\n    const { code } = selectedStatus;\n    const status = selectedStatus.id;\n    const prevStatus = dealCard.querySelector('[status-previous]').value;\n\n    return {\n      id: idDeal,\n      code,\n      status,\n      statusChanges: prevStatus,\n    };\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChangeStatus);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/events/status/events/changeStatus.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/events/status/events/prevStatusChanged.js":
/*!**************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/events/status/events/prevStatusChanged.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass PrevStatusChanged {\n  init(dealCardPack) {\n    this.changePrevStatusValue(dealCardPack);\n  }\n\n  changePrevStatusValue(dealCardPack) {\n    const { target, pack } = dealCardPack;\n    const { dealStatuses } = pack;\n\n    const dealCard = utils.getParent(target, 'deal-card');\n\n    const prevStatus = dealCard.querySelector('[status-previous]');\n\n    const selectedStatus = dealStatuses.find((el) => el.id === +target.value);\n\n    prevStatus.value = selectedStatus.code;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PrevStatusChanged);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/events/status/events/prevStatusChanged.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/events/status/events/statusDealCardChanges.js":
/*!******************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/events/status/events/statusDealCardChanges.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass StatusDealCardChanged {\n  init(dealCardPack) {\n    this.changeSelecStatusColor(dealCardPack);\n  }\n\n  changeSelecStatusColor(dealCardPack) {\n    const { statusCode, target } = dealCardPack;\n\n    const selectWrapper = utils.getParent(target, 'deal-status__text');\n\n    selectWrapper.className = 'deal-status__text';\n    selectWrapper.classList.add(`deal-select__${statusCode}`);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (StatusDealCardChanged);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/events/status/events/statusDealCardChanges.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/events/status/status.js":
/*!********************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/events/status/status.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_changeStatus_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/changeStatus.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/events/status/events/changeStatus.js\");\n/* harmony import */ var _indicator_indicator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../indicator/indicator.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/events/indicator/indicator.js\");\n/* harmony import */ var _indicator_events_indicatorNow_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../indicator/events/indicatorNow.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/events/indicator/events/indicatorNow.js\");\n\n\n\n\nconst changeStatus = new _events_changeStatus_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst indicator = new _indicator_indicator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst indicatorNow = new _indicator_events_indicatorNow_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass Status {\n  init(dealCardPack) {\n    const selects = document.querySelectorAll('[data-select-type=\"status-deal\"]');\n\n    if (selects.length) {\n      const items = [changeStatus, indicator, indicatorNow];\n\n      items.forEach((item) => {\n        const init = item.init.bind(item);\n        init(dealCardPack);\n      });\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Status);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/events/status/status.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/events/viewDeal/events/closeViewDeal.js":
/*!************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/events/viewDeal/events/closeViewDeal.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass CloseViewDeal {\n  init(viewDealPack) {\n    const menu = document.querySelector('[js-menu-deal]');\n\n    if (menu) {\n      const closeBtn = menu.querySelector('.platform__close--btn-modal');\n\n      if (closeBtn) {\n        const closeViewMenu = this.closeViewMenu.bind(this, viewDealPack);\n        viewDealPack.menu = menu;\n\n        const cloneClose = utils.setCloneElement(closeBtn);\n        cloneClose.addEventListener('click', closeViewMenu);\n      }\n    }\n  }\n\n  closeViewMenu(viewDealPack) {\n    const { menu } = viewDealPack;\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n\n    const viewBtn = menu.querySelector('[edit-deal]');\n    viewBtn.setAttribute('disabled', '');\n\n    const isClientCardOpen = utils.checkClientCardOpen();\n\n    utils.closeModalAnimation(menu, wrapper, false, isClientCardOpen, true, false);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CloseViewDeal);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/events/viewDeal/events/closeViewDeal.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/events/viewDeal/events/openViewDeal.js":
/*!***********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/events/viewDeal/events/openViewDeal.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass OpenViewDeal {\n  init(viewDealPack) {\n    const menu = document.querySelector('[js-menu-client-card]');\n\n    if (menu) {\n      const viewBtn = menu.querySelectorAll('[js-view-course]');\n\n      if (viewBtn.length) {\n        const viewDeal = this.viewDeal.bind(this, viewDealPack);\n\n        viewBtn.forEach((item) => {\n          const editButton = utils.setCloneElement(item);\n          editButton.addEventListener('click', viewDeal);\n        });\n      }\n    }\n  }\n\n  viewDeal(viewDealPack, e) {\n    const t = e.target;\n\n    const openViewMenu = this.openViewMenu.bind(this);\n\n    const menu = document.querySelector('[js-menu-deal]');\n\n    const tabs = menu.querySelector('.client-card__tabs');\n\n    if (tabs) {\n      tabs.style.opacity = '1';\n      tabs.style.pointerEvents = 'all';\n    }\n\n    if (menu) {\n      viewDealPack.menu = menu;\n      viewDealPack.target = t;\n      openViewMenu(viewDealPack);\n    }\n  }\n\n  openViewMenu(viewDealPack) {\n    const { menu, dealObs } = viewDealPack;\n    utils.openModalAnimation(menu, true);\n\n    menu.querySelector('.platform-form__items').scrollTop = '0';\n\n    menu.querySelector('.platform-form__title').innerText = 'Просмотр сделки';\n    viewDealPack.activeTab = 'Счета и платежи';\n    viewDealPack.defaultTab = 'Счета и платежи';\n\n    const items = [dealObs];\n\n    viewDealPack.isView = true;\n    viewDealPack.newDeal = false;\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(viewDealPack);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OpenViewDeal);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/events/viewDeal/events/openViewDeal.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/events/viewDeal/view.js":
/*!********************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/events/viewDeal/view.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_openViewDeal_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/openViewDeal.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/events/viewDeal/events/openViewDeal.js\");\n/* harmony import */ var _events_closeViewDeal_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/closeViewDeal.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/events/viewDeal/events/closeViewDeal.js\");\n\n\n\nconst openMenu = new _events_openViewDeal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst closeMenu = new _events_closeViewDeal_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass ViewDeal {\n  init(viewDealPack) {\n    const items = [openMenu, closeMenu];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(viewDealPack);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ViewDeal);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/events/viewDeal/view.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/render/renderDealCard.js":
/*!*********************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/render/renderDealCard.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _templates_templates_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../templates/templates.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/templates/templates.js\");\n/* harmony import */ var _modules_select_select_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../modules/select/select.js */ \"./dev/static/js/platform/modules/select/select.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst dealTemplates = new _templates_templates_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst select = new _modules_select_select_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass RenderDealCards {\n  async render(dealCard) {\n    const { deals, pack, menu } = dealCard;\n\n    if (deals && menu) {\n      const dealWrapper = menu.querySelector('[js-client-deals]');\n\n      utils.removeChildren(dealWrapper);\n\n      const renderProps = {\n        dealWrapper,\n        dealCard,\n        deals,\n        menu,\n        pack,\n      };\n\n      await this.#renderContent(renderProps);\n\n      const createDealBtnProps = {\n        pack,\n        deals,\n        dealWrapper,\n      };\n\n      this.setCreateDealBtn(createDealBtnProps);\n    }\n  }\n\n  async #renderContent(renderProps) {\n    const {\n      dealWrapper,\n      deals,\n    } = renderProps;\n\n    if (deals.length) {\n      await this.renderDeals(renderProps);\n      await this.setSelectsToDealCard(renderProps);\n    } else {\n      await this.setPlaceholder(dealWrapper);\n    }\n  }\n\n  async renderDeals(renderProps) {\n    const { deals } = renderProps;\n\n    const renderDealCard = this.renderDealCard.bind(this, renderProps);\n    await deals.forEach(renderDealCard);\n  }\n\n  async renderDealCard(renderProps, item) {\n    const {\n      dealWrapper,\n      dealCard,\n    } = renderProps;\n\n    const div = document.createElement('div');\n    div.classList.add('deal-card');\n    div.setAttribute('data-deal', item.id);\n    div.setAttribute('data-client', item.idClient);\n    div.innerHTML = dealTemplates.renderDealCard(item, dealCard);\n\n    await dealWrapper.appendChild(div);\n  }\n\n  setPlaceholder(dealWrapper) {\n    const span = document.createElement('spans');\n    span.classList.add('platform__empty');\n    span.innerText = 'Нет сделок...';\n    dealWrapper.appendChild(span);\n  }\n\n  setCreateDealBtn(createDealBtnProps) {\n    const {\n      pack,\n      deals,\n      dealWrapper,\n    } = createDealBtnProps;\n\n    const { role } = pack;\n\n    if (role === 'ROLE_MANAGER' || role === 'ROLE_HEAD_MANAGER') {\n      if (!deals.length) {\n        utils.removeChildren(dealWrapper);\n      }\n\n      const div = document.createElement('div');\n      div.classList.add('deal-card');\n      div.classList.add('deal-card__create');\n      const span = document.createElement('span');\n      span.classList.add('deal-card__create--icon');\n      div.innerText = 'Создать сделку';\n      div.appendChild(span);\n\n      dealWrapper.appendChild(div);\n    }\n  }\n\n  async setSelectsToDealCard(props) {\n    const { menu } = props;\n\n    const selects = menu.querySelectorAll('[select-here]');\n\n    if (selects.length) {\n      props.selectsArray = [];\n\n      selects.forEach(async (item) => {\n        const value = item.getAttribute('data-status-code');\n        const name = item.getAttribute('data-status-name');\n\n        const selectProps = {\n          required: false,\n          placeholder: null,\n          mode: 'custom',\n          item,\n          type: 'select-status',\n          defaultValue: value,\n          defaultPlaceholder: name === 'Рассрочка' ? 'Долями' : name,\n          name: null,\n          openUp: true,\n        };\n\n        await props.selectsArray.push(selectProps);\n      });\n\n      await select.init(props);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RenderDealCards);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/render/renderDealCard.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealCard/templates/templates.js":
/*!*******************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealCard/templates/templates.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass DealTemplates {\n  dealRow(renderData) {\n    const { deal } = renderData;\n    const clientLink = this.getClientLink(deal);\n\n    let tasks;\n    let pendingTask;\n\n    if (deal.reminders.length) {\n      pendingTask = deal.reminders.filter((el) => !el.done);\n\n      if (pendingTask) {\n        tasks = this.taskInTooltip(pendingTask);\n      }\n    }\n\n    const statusName = this.getStatusName(deal);\n    const dealType = this.getDealType(deal);\n    const stream = this.getStream(deal);\n\n    return `\n      <td class=\"platform-table__column date\">\n        ${deal.createDate ? utils.getDateFormatDDMMYYYY(deal.createDate) : 'Нет даты'}\n      </td>\n      <td class=\"platform-table__column appeal\">\n        ${deal.dealDate ? utils.getDateFormatDDMMYYYY(deal.dealDate) : 'Нет даты'}\n      </td>\n      <td class=\"platform-table__column social\">\n        ${deal.socialCode\n        ? `<span class=\"deal-social_${deal.socialCode}\"></span>`\n        : '<span class=\"deal-social_default-icon no-icon\">&mdash;</span>'\n      }\n      </td>\n      <td class=\"platform-table__column client-column\">\n        <a js-client-card class=\"platform-table__row--link name\" title=\"${deal.clientName}\">\n          ${deal.clientName ? deal.clientName : ''}\n        </a>\n        <span js-copy-link data-link=\"${deal.clientPhone}\" class=\"client-phone\">\n          ${!deal.clientPhone ? '&mdash;' : deal.clientPhone}\n        </span>\n      </td>\n      <td class=\"platform-table__column link\">\n        <div class=\"link__wrapper link__wrapper--crm ${deal.clientLink ? '' : 'no-selector'}\">\n          ${deal.clientLink\n        ? `<a class=\"platform-table__row--link platform__copy--table\" data-link=\"${clientLink}\" title=\"${clientLink}\"></a>\n                <a class=\"platform-table__row--link platform__go\" href=\"${clientLink}\" target=\"_blank\" rel=\"noopener noreferrer\" title=\"${clientLink}\"></a>` : '&mdash;'\n      }\n        </div>\n      </td>\n      <td class=\"platform-table__column column-manager\">\n        ${deal.managerAccessName\n        ? `<div class=\"tooltip\">\n            <div class=\"tooltip__text\">\n              ${deal.managerAccessName}\n            </div>\n          </div>` : ''\n      }\n        <p class=\"column-text\">${deal.managerName ? deal.managerName : '&mdash;'}</p>\n      </td>\n      <td class=\"platform-table__column course\">\n        <a class=\"platform-table__row--link course\" title=\"${deal.course ? deal.course : 'Продукт не выбран'}\">\n          ${deal.course ? deal.course : 'Продукт не выбран'}\n        </a>\n      </td>\n      <td data-deal-type class=\"platform-table__column type\" title=\"${dealType}\">\n        ${dealType}\n      </td>\n      <td class=\"platform-table__column price ${(deal.price === 0 && deal.paid === 0) ? 'center-content' : ''}\">\n        ${(deal.price === 0 && deal.paid === 0)\n        ? 'Не выбран' : `<div class=\"price-info ${deal.price <= deal.paid ? 'green' : ''}\">\n                          <div class=\"price-info__left\">\n                            ${(deal.price <= deal.paid)\n          ? `<div data-deal-paid class=\"column_paid\">${deal.paid ? `${deal.paid} ₽` : '0 ₽'}</div>`\n          : ` <div data-deal-price class=\"column_price\">${deal.price ? deal.price : '0'}</div>\n                                    <div class=\"column_price-del\">/</div>\n                                    <div data-deal-paid class=\"column_paid\">${deal.paid ? `${deal.paid} ₽` : '0 ₽'}</div>`\n        }\n                          </div>\n            ${+deal.status !== 1\n          ? '<button js-add-bill-btn js-add-bill-up-client class=\"price-info__btn in-crm\"></button>' : ''\n        }\n        </div>`\n      }\n      </td>\n      <td class=\"platform-table__column stream\">\n        ${stream}\n      </td>\n      <td class=\"platform-table__column tag\">\n        <span class=\"platform-table__tag\">${!deal.tag ? '&mdash;' : deal.tag}</span>\n      </td>\n      <td class=\"platform-table__column status\" select-here deal-select-type=\"status-select\" data-status-code=\"${deal.status}\" data-code=\"${deal.statusCode}\" data-status-name=\"${statusName}\"></td>\n      <td class=\"platform-table__column reminder\">\n        ${tasks && tasks.length ? `\n          <div data-deal-reminder class=\"reminder__wrapper ${pendingTask[0].reminderExpiration ? 'reminder__past' : ''}\">\n            <div class=\"tooltip tooltip__crm\">\n              <table class=\"tooltip__table\">\n                <thead>\n                  <tr class=\"tooltip__row--head\">\n                    <td class=\"tooltip__date\">Дата</td>\n                    <td class=\"tooltip__message\">Задача</td>\n                  </tr>\n                </thead>\n                <tbody>\n                ${tasks.join('')}\n                </tbody>\n              </table>\n            </div>\n            <div class=\"reminder-count\">${tasks.length}</div>\n            <div class=\"reminder-d\">${pendingTask ? pendingTask[0].reminderDate : ''}</div>\n          </div>\n          `\n        : '<div data-deal-reminder class=\"reminder__add\"></div>'\n      }\n      </td>\n      <td class=\"platform-table__column column-hide\">\n        ${deal.isHidden ? '<span class=\"deal-card__recover--crm\" js-reveal-deal-btn></span>'\n        : '<span class=\"deal-card__hide\" js-hide-deal-btn></span>'\n      }\n      </td>\n    `;\n  }\n\n  getStream(deal) {\n    const saleTypeIsTwo = +deal.idSaleType !== 2 ? '&mdash;' : '';\n    const hasStartDate = deal.startDate ? utils.getDateFormatDDMMYYYY(deal.startDate) : '&mdash;';\n\n    return saleTypeIsTwo || hasStartDate;\n  }\n\n  getDealType(deal) {\n    const isBase = (deal.type === 'Допродажа' || deal.type === 'additional') ? 'База' : '';\n    const isTraffic = (deal.type === 'Трафик' || deal.type === 'traffic') ? 'Трафик' : '';\n\n    return isBase || isTraffic;\n  }\n\n  getClientLink(deal) {\n    const noClientLink = !deal.clientLink ? '#' : '';\n    const isHttps = deal?.clientLink?.split('https://').length > 1 ? deal.clientLink : '';\n    const isHttp = deal?.clientLink?.split('http://').length > 1 ? deal.clientLink : deal.clientLink;\n\n    return noClientLink || isHttps || isHttp;\n  }\n\n  async renderDealRows(data) {\n    const { items, pack } = data;\n\n    const dealTable = document.querySelector('.deals-table__wrapper');\n\n    utils.removeChildren(dealTable, 0);\n\n    if (items) {\n      pack.items = [...items];\n      await this.renderRows(pack, dealTable);\n    } else if (pack.items) {\n      await this.renderRows(pack, dealTable);\n    }\n  }\n\n  async renderRows(pack, dealTable) {\n    for (let index = 0; index < pack.items.length; index++) {\n      const deal = pack.items[index];\n\n      const renderData = {\n        deal,\n        pack,\n      };\n\n      const tr = document.createElement('tr');\n      tr.setAttribute('data-deal', deal.id);\n      tr.setAttribute('data-client', deal.idClient);\n      tr.classList.add('platform-table__row');\n      tr.innerHTML = await this.dealRow(renderData);\n\n      await dealTable.appendChild(tr);\n    }\n  }\n\n  renderDealCard(dealItem, dealPack) {\n    const { pack } = dealPack;\n\n    let pendingTask;\n    let tasks;\n\n    if (dealItem.reminders.length) {\n      const sorted = utils.arraySorted.bind(utils);\n      pendingTask = dealItem.reminders.filter((el) => !el.done).sort(sorted);\n      tasks = this.taskInTooltip(pendingTask);\n    }\n\n    const statusHistoryChanges = this.statusHistory.bind(this);\n\n    const statusHistory = dealItem.statusChanges.slice(0, dealItem.statusChanges.length - 1).map(statusHistoryChanges).join('');\n\n    const statusName = this.getStatusName(dealItem);\n\n    const taskStatus = this.getStatusTask(pendingTask);\n    const task = this.getTask(pendingTask, tasks);\n    const dealCardButton = this.getDealCardButton(pack, dealItem);\n\n    return `\n        <div class=\"deal-card__inner\">\n            <div class=\"deal-card__header ${dealItem.theme === 'light' ? 'light' : ''}\" style=\"background-color: ${dealItem.backgroundColor}\">\n                <div class=\"deal-card__task deal-task\">\n                    <p class=\"deal-task__taskchecker ${taskStatus}\"> \n                    ${task}\n                    </p>\n                </div>\n                ${dealItem.backgroundImage ? `<img class=\"deal-card__img\" src=\"/${dealItem.backgroundImage}\" alt=\"\">` : ''}\n            </div>\n            <div class=\"deal-card__info\">\n                <div class=\"deal-card__name\">\n                    <div class=\"deal-card__title\">${dealItem.course ? dealItem.course : 'Продукт не выбран'}</div>\n                    <div class=\"deal-card__create-info\">\n                        <div class=\"deal-card__date\">${dealItem.createDate ? utils.getDateFormatDDMMYYYY(dealItem.createDate) : ''}</div>\n                        <div class=\"deal-card__author\">\n                            <div class=\"tooltip tooltip__manager--card\">\n                                ${dealItem.managerAccessName ? dealItem.managerAccessName : ''}\n                            </div>\n                            ${dealItem.managerName ? dealItem.managerName : ''}\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"deal-card__status deal-status\">\n                <input type=\"hidden\" status-previous value=\"${dealItem.statusCode}\">\n                <div class=\"deal-status__text deal-select__${dealItem.statusCode}\" select-here data-select-type=\"status-deal\" data-status-code=\"${dealItem.status}\" data-code=\"${dealItem.statusCode}\" data-status-name=\"${statusName}\"></div>\n            </div>\n            <div class=\"deal-card__indicator deal-indicator\">\n              <div class=\"deal-indicator__left\">${statusHistory || ''}</div>\n              <div class=\"deal-indicator__right ${dealItem.statusCode}\"></div>\n            </div>\n            <div class=\"deal-card__price deal-price\">\n                <div class=\"deal-price__cost\">\n                    <div class=\"deal-price__name\">Стоимость</div>\n                    <div class=\"deal-price__value\">${dealItem.price} &#8381;</div>\n                </div>\n                <div class=\"deal-price__received\">\n                    <div class=\"deal-price__name\">Получено</div>\n                    <div class=\"deal-price__value--black\">${dealItem.paid} &#8381;</div>\n                </div>\n            </div> \n            <div class=\"deal-card__controls\">\n              ${dealCardButton}\n            </div>\n        </div>\n    `;\n  }\n\n  getDealCardButton(pack, dealItem) {\n    const idManager = pack.manager ? pack.manager.id : pack.filter.idManager;\n\n    const viewMode = pack.role === 'ROLE_EXAMINER' || (pack.role === 'ROLE_MANAGER' && idManager !== dealItem.idManager);\n\n    const viewBtn = '<div class=\"deal-card__management view\" js-view-course>Посмотреть сделку</div>';\n\n    const editBtn = this.getEditBtn();\n    const recoverBtn = '<div class=\"deal-card__recover deal-card__recover-icon\" js-reveal-deal-btn>Восстановить сделку</div>';\n\n    const notViewBtn = dealItem.isHidden ? recoverBtn : editBtn;\n\n    return viewMode ? viewBtn : notViewBtn;\n  }\n\n  getEditBtn() {\n    return `\n        <div class=\"deal-card__management\" js-course-card>Управление сделкой</div>\n        <div class=\"deal-card__delete--btn deal-card__delete-icon\" js-hide-deal-btn></div>`;\n  }\n\n  getStatusTask(pendingTask) {\n    const hasTasks = pendingTask && pendingTask.length;\n\n    let isNow;\n    let expiration;\n\n    if (hasTasks) {\n      isNow = pendingTask[0]?.reminderToday ? 'reminder__now' : '';\n      expiration = pendingTask[0]?.reminderExpiration ? 'reminder__off' : 'reminder__on';\n    }\n\n    return hasTasks ? (isNow || expiration) : '';\n  }\n\n  getTask(pendingTask, tasks) {\n    return `${pendingTask ? `\n      <div class=\"tooltip tooltip__deal-card\">\n        <table class=\"tooltip__table\">\n          <thead>\n            <tr class=\"tooltip__row--head\">\n              <td class=\"tooltip__date\">Дата</td>\n              <td class=\"tooltip__message\">Задача</td>\n            </tr>\n          </thead>\n          <tbody>\n            ${tasks.join('')}\n          </tbody>\n        </table>\n      </div>` : ''}`;\n  }\n\n  getStatusName(dealItem) {\n    const isComplete = dealItem.statusName === 'Успешно реализована' ? 'Реализована' : '';\n    const isUncomplete = dealItem.statusName === 'Закрыта не реализована' ? 'Не реализована' : '';\n    const installment = dealItem.statusName === 'Рассрочка' ? 'Долями' : '';\n\n    return isComplete || isUncomplete || installment || dealItem.statusName;\n  }\n\n  taskInTooltip(pendingsTasks) {\n    const sortedArray = utils.arraySorted.bind(utils);\n\n    return pendingsTasks.sort(sortedArray).map((item) => {\n      return `\n        <tr class=\"tooltip__row\">\n            <td class=\"tooltip__date\">${item.reminderDate}</td>\n            <td class=\"tooltip__message\">${item.reminderMessage}</td>\n        </tr>\n        `;\n    });\n  }\n\n  statusHistory(item) {\n    return `<div class=\"deal-indicator__history ${item.code}\"></div>`;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DealTemplates);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealCard/templates/templates.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealRow/dealRowEvents.js":
/*!************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealRow/dealRowEvents.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_copyClientLink_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/copyClientLink.js */ \"./dev/static/js/platform/menu/items/crm/dealRow/events/copyClientLink.js\");\n/* harmony import */ var _events_openCourse_openEditMenu_openCourse_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/openCourse/openEditMenu/openCourse.js */ \"./dev/static/js/platform/menu/items/crm/dealRow/events/openCourse/openEditMenu/openCourse.js\");\n/* harmony import */ var _modules_select_select_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../modules/select/select.js */ \"./dev/static/js/platform/modules/select/select.js\");\n/* harmony import */ var _events_hideDealFromTable_hideDeal_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./events/hideDealFromTable/hideDeal.js */ \"./dev/static/js/platform/menu/items/crm/dealRow/events/hideDealFromTable/hideDeal.js\");\n/* harmony import */ var _events_revealDealFromTable_revealDealFromTable_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./events/revealDealFromTable/revealDealFromTable.js */ \"./dev/static/js/platform/menu/items/crm/dealRow/events/revealDealFromTable/revealDealFromTable.js\");\n/* harmony import */ var _modules_tooltip_tooltip_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../modules/tooltip/tooltip.js */ \"./dev/static/js/platform/modules/tooltip/tooltip.js\");\n/* harmony import */ var _events_removeBill_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./events/removeBill.js */ \"./dev/static/js/platform/menu/items/crm/dealRow/events/removeBill.js\");\n/* harmony import */ var _events_editBill_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./events/editBill.js */ \"./dev/static/js/platform/menu/items/crm/dealRow/events/editBill.js\");\n/* harmony import */ var _receipt_receipt_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../receipt/receipt.js */ \"./dev/static/js/platform/menu/items/crm/receipt/receipt.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _bill_events_checkBillStatus_checkBillStatus_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../bill/events/checkBillStatus/checkBillStatus.js */ \"./dev/static/js/platform/menu/items/crm/bill/events/checkBillStatus/checkBillStatus.js\");\n/* harmony import */ var _clientCard_clientCard_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../clientCard/clientCard.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/clientCard.js\");\n/* harmony import */ var _contentManager_contentManager_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../contentManager/contentManager.js */ \"./dev/static/js/platform/contentManager/contentManager.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst copyClientLink = new _events_copyClientLink_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst openCourse = new _events_openCourse_openEditMenu_openCourse_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst select = new _modules_select_select_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst hideDealFromTable = new _events_hideDealFromTable_hideDeal_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst revealDealFromTable = new _events_revealDealFromTable_revealDealFromTable_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\nconst tooltip = new _modules_tooltip_tooltip_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\nconst removeBill = new _events_removeBill_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\nconst editBill = new _events_editBill_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]();\nconst receipt = new _receipt_receipt_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"]();\nconst checkBillStatus = new _bill_events_checkBillStatus_checkBillStatus_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"]();\n\nclass DealRowEvents {\n  init(pack) {\n    pack.rowEventsObs = new DealRowEvents();\n    pack.clientCardObs = new _clientCard_clientCard_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"]();\n    pack.rerenderContent = new _contentManager_contentManager_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"]();\n\n    const items = [\n      tooltip,\n      copyClientLink,\n      hideDealFromTable,\n      revealDealFromTable,\n      openCourse,\n      removeBill,\n      editBill,\n    ];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(pack);\n    });\n\n    const checkBtn = document.querySelectorAll('[js-check-add]');\n\n    if (checkBtn.length) {\n      const receiptMenuOpen = receipt.init.bind(receipt, pack);\n\n      checkBtn.forEach((item) => {\n        const btn = utils.setCloneElement(item);\n        btn.addEventListener('click', receiptMenuOpen);\n      });\n    }\n\n    const selects = document.querySelectorAll('[deal-select-type=\"status-select\"]');\n\n    if (selects.length) {\n      selects.forEach((item) => {\n        utils.removeChildren(item);\n      });\n\n      const getStatusSelectData = this.setStatusSelect(pack, selects);\n\n      getStatusSelectData.then(() => {\n        select.init(pack);\n      });\n    }\n\n    this.checkBillStatus(pack);\n  }\n\n  async setStatusSelect(props, selects) {\n    props.selectsArray = [];\n\n    selects.forEach(async (selectItem) => {\n      const value = selectItem.getAttribute('data-status-code');\n      const code = selectItem.getAttribute('data-code');\n\n      const isBroken = selectItem.getAttribute('data-status-name') === 'Рассрочка' ? 'Долями' : false;\n      const isSuccess = selectItem.getAttribute('data-status-name') === 'Успешно реализована' ? 'Реализована' : false;\n\n      const name = isBroken || isSuccess || selectItem.getAttribute('data-status-name');\n\n      const selectProps = {\n        required: false,\n        placeholder: null,\n        mode: 'hover-close',\n        type: 'select-status',\n        uniqClass: null,\n        item: selectItem,\n        defaultValue: value,\n        defaultCode: code,\n        defaultPlaceholder: name,\n        name: null,\n      };\n\n      await props.selectsArray.push(selectProps);\n    });\n  }\n\n  checkBillStatus(pack) {\n    const statusBillBtn = document.querySelectorAll('.bill-status');\n\n    if (statusBillBtn.length) {\n      const checkStatus = checkBillStatus.init.bind(checkBillStatus, pack);\n\n      statusBillBtn.forEach((item) => {\n        const status = utils.setCloneElement(item);\n\n        status.addEventListener('click', checkStatus);\n      });\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DealRowEvents);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealRow/dealRowEvents.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealRow/events/copyClientLink.js":
/*!********************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealRow/events/copyClientLink.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass CopyClientLink {\n  init(pack) {\n    const copyLinkButtons = document.querySelectorAll('.platform__copy--table');\n\n    if (copyLinkButtons) {\n      const copyLink = this.copyLink.bind(this, pack);\n\n      copyLinkButtons.forEach((item) => {\n        const copy = utils.setCloneElement(item);\n        copy.addEventListener('click', copyLink);\n      });\n    }\n  }\n\n  copyLink(pack, e) {\n    const t = e.target;\n\n    const tmp = utils.setTextArea();\n    const body = document.querySelector('body');\n\n    body.appendChild(tmp);\n\n    tmp.innerHTML = t.getAttribute('data-link');\n    document.querySelector('.tmp').select();\n\n    document.execCommand('copy');\n    tmp.remove();\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CopyClientLink);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealRow/events/copyClientLink.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealRow/events/editBill.js":
/*!**************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealRow/events/editBill.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass EditBill {\n  init(props) {\n    const editBills = document.querySelectorAll('[js-edit-bill]');\n\n    if (editBills.length) {\n      const editBill = this.editBill.bind(this, props);\n\n      editBills.forEach((item) => {\n        const edit = utils.setCloneElement(item);\n        edit.addEventListener('click', editBill);\n      });\n    }\n\n    const changePaymentMethodSelect = document.querySelectorAll('.bills__select--payment');\n\n    if (changePaymentMethodSelect.length) {\n      const changePaymentMethod = this.changePaymentMethod.bind(this);\n\n      changePaymentMethodSelect.forEach((item) => {\n        const select = utils.setCloneElement(item);\n        select.addEventListener('change', changePaymentMethod);\n      });\n    }\n  }\n\n  editBill(props, e) {\n    const t = e.target;\n    const row = utils.getParent(t, 'platform-table__row');\n\n    if (row) {\n      const paymentMethod = row.querySelector('[b-pm-wrapper]');\n\n      if (paymentMethod) {\n        paymentMethod.classList.remove('disabled');\n        paymentMethod.querySelector('[b-pm-selector]').removeAttribute('disabled');\n      }\n\n      const accNumber = row.querySelector('[bills-account-number]');\n\n      if (accNumber) {\n        accNumber.removeAttribute('disabled');\n      }\n\n      const summ = row.querySelector('[b-sum]');\n\n      if (summ) {\n        summ.removeAttribute('disabled');\n      }\n\n      const payDate = row.querySelector('[b-pay-date]');\n\n      if (payDate) {\n        payDate.removeAttribute('disabled');\n      }\n\n      const acceptEdit = row.querySelector('[js-edit-bill-accept]');\n      const accept = utils.setCloneElement(acceptEdit);\n\n      const updateBill = this.updateBillPopup.bind(this, props);\n\n      accept.addEventListener('click', updateBill);\n\n      const closeNav = this.closeNav.bind(this);\n      const closeBtn = row.querySelector('[js-edit-bill-cancel]');\n\n      const close = utils.setCloneElement(closeBtn);\n      close.addEventListener('click', closeNav);\n    }\n\n    const nav = utils.getParent(t, 'bills__nav');\n\n    if (nav) {\n      nav.style.display = 'none';\n    }\n\n    const navEditable = utils.getParent(t, 'bills__settings').querySelector('.bills__nav--edit');\n\n    if (navEditable) {\n      navEditable.style.display = 'flex';\n    }\n  }\n\n  updateBillPopup(props, e) {\n    const t = e.target;\n\n    const acceptRequest = this.acceptEdit.bind(this, props, t);\n\n    const popupProps = {\n      text: 'Вы действительно хотите обновить этот счет ?',\n      settings: null,\n      title: null,\n      ok: acceptRequest,\n      cancel: null,\n      target: t,\n    };\n\n    popup.init(popupProps);\n  }\n\n  acceptEdit(props, t) {\n    const billItem = utils.getParent(t, 'platform-table__row');\n\n    if (billItem) {\n      const paymentSelect = billItem.querySelector('[b-pm-selector]');\n\n      const paymentMethod = paymentSelect.value.trim();\n      const paymentMethodCode = utils.getSelected(paymentSelect).getAttribute('data-code').trim();\n      const paymentMethodId = utils.getSelected(paymentSelect).getAttribute('data-id').trim();\n      const accountNumber = billItem.querySelector('[b-account-number]').value.trim();\n      const sum = billItem.querySelector('[b-sum]').value.split('₽')[0].trim();\n      const payDate = billItem.querySelector('[b-pay-date]').value.trim();\n      const plannedPayDate = billItem.querySelector('[bill-planned-pay-date]')?.value.trim();\n\n      const data = {\n        id: billItem.getAttribute('data-bill'),\n        paymentMethod: paymentMethod || null,\n        paymentMethodCode: paymentMethodCode || null,\n        accountNumber: accountNumber || null,\n        paymentMethodId,\n        sum: sum || null,\n        payDate: payDate || null,\n        plannedPayDate: plannedPayDate || null,\n      };\n\n      const update = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.billAPI.updateBill(data);\n\n      update.then(() => {\n        const popupElem = document.querySelector('.platform-remove__wrapper');\n\n        if (popupElem) {\n          popup.removePopup();\n        }\n\n        this.setDisabledToItems(props, t);\n\n        setTimeout(() => {\n          /* eslint-disable-next-line */\n          location.reload();\n        }, 100);\n      });\n    }\n  }\n\n  setDisabledToItems(props, t) {\n    const billItem = utils.getParent(t, 'platform-table__row');\n\n    if (billItem) {\n      const paymentMethod = billItem.querySelector('[b-pm-wrapper]');\n\n      if (paymentMethod) {\n        paymentMethod.classList.add('disabled');\n        paymentMethod.querySelector('[b-pm-selector]').setAttribute('disabled', '');\n      }\n\n      const accNumber = billItem.querySelector('[bills-account-number]');\n\n      if (accNumber) {\n        accNumber.setAttribute('disabled', '');\n      }\n\n      const summ = billItem.querySelector('[b-sum]');\n\n      if (summ) {\n        summ.setAttribute('disabled', '');\n      }\n\n      const payDate = billItem.querySelector('[b-pay-date]');\n\n      if (payDate) {\n        payDate.setAttribute('disabled', '');\n      }\n    }\n\n    this.closeNav(t);\n  }\n\n  closeNav(e) {\n    const t = e.target ? e.target : e;\n\n    const navEditable = utils.getParent(t, 'bills__nav--edit');\n\n    if (navEditable) {\n      navEditable.style.display = 'none';\n    }\n\n    const nav = utils.getParent(t, 'bills__settings').querySelector('.opened');\n\n    if (nav) {\n      nav.style.display = 'flex';\n    }\n  }\n\n  changePaymentMethod(e) {\n    const t = e.target;\n\n    const code = utils.getSelected(t)?.getAttribute('data-code');\n\n    if (code) {\n      t.className = 'bills__select--payment bills__payment';\n      t.classList.add(`pmethod_${code}`);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EditBill);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealRow/events/editBill.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealRow/events/hideDealFromTable/events/afterHideDeal.js":
/*!********************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealRow/events/hideDealFromTable/events/afterHideDeal.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass AfterHideDeal {\n  init(props) {\n    const { target } = props;\n\n    if (props.role !== 'ROLE_MANAGER' || props.role !== 'ROLE_HEAD_MANAGER') {\n      const span = document.createElement('span');\n      span.classList.add('deal-card__recover--crm');\n      span.setAttribute('js-reveal-deal-btn', '');\n\n      target.parentNode.appendChild(span);\n\n      target.remove();\n\n      const user = props.user.instance.init.bind(props.user.instance);\n\n      user(props);\n    } else {\n      utils.getParent(target, 'platfrom-table__row').remove();\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AfterHideDeal);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealRow/events/hideDealFromTable/events/afterHideDeal.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealRow/events/hideDealFromTable/hideDeal.js":
/*!********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealRow/events/hideDealFromTable/hideDeal.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _events_afterHideDeal_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events/afterHideDeal.js */ \"./dev/static/js/platform/menu/items/crm/dealRow/events/hideDealFromTable/events/afterHideDeal.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nconst afterHideDeal = new _events_afterHideDeal_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass HideDealFromTable {\n  init(props) {\n    const hideBtn = document.querySelectorAll('.deal-card__hide');\n\n    if (hideBtn.length) {\n      const setPopup = this.setPopup.bind(this, props);\n\n      hideBtn.forEach((item) => {\n        const hide = utils.setCloneElement(item);\n        hide.addEventListener('click', setPopup);\n      });\n    }\n  }\n\n  setPopup(props, e) {\n    const t = e.target;\n\n    t.style.pointerEvents = 'none';\n\n    props.target = t;\n\n    const hideRequest = this.hideRequest.bind(this, props);\n\n    const popupProps = {\n      text: 'Вы действительно хотите удалить эту сделку?',\n      settings: null,\n      title: null,\n      ok: hideRequest,\n      cancel: null,\n      target: t,\n    };\n\n    popup.init(popupProps);\n  }\n\n  hideRequest(props) {\n    const { target } = props;\n\n    const id = utils.getParent(target, 'platform-table__row').getAttribute('data-deal');\n\n    const data = {\n      id,\n    };\n\n    const hideDeal = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.dealAPI.hideDeal(data);\n\n    hideDeal.then(() => {\n      const items = [afterHideDeal];\n\n      items.forEach((item) => {\n        const init = item.init.bind(item);\n        init(props);\n      });\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (HideDealFromTable);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealRow/events/hideDealFromTable/hideDeal.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealRow/events/openCourse/closeMenu/closeMenu.js":
/*!************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealRow/events/openCourse/closeMenu/closeMenu.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass CloseMenu {\n  init(props) {\n    const menu = document.querySelector('[js-menu-deal]');\n\n    const closeBtn = menu.querySelector('.platform__close--btn-modal');\n\n    if (closeBtn) {\n      const closeMenu = this.closeMenu.bind(this, props);\n\n      const close = utils.setCloneElement(closeBtn);\n      close.addEventListener('click', closeMenu);\n    }\n  }\n\n  closeMenu() {\n    const menu = document.querySelector('[js-menu-deal]');\n\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n\n    utils.closeModalAnimation(menu, wrapper, false, false, false);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CloseMenu);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealRow/events/openCourse/closeMenu/closeMenu.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealRow/events/openCourse/openEditMenu/events/openEditMenu.js":
/*!*************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealRow/events/openCourse/openEditMenu/events/openEditMenu.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _closeMenu_closeMenu_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../closeMenu/closeMenu.js */ \"./dev/static/js/platform/menu/items/crm/dealRow/events/openCourse/closeMenu/closeMenu.js\");\n/* harmony import */ var _tabs_observersTabs_dealTabObserver_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../tabs/observersTabs/dealTabObserver.js */ \"./dev/static/js/platform/menu/items/crm/tabs/observersTabs/dealTabObserver.js\");\n/* harmony import */ var _dealCard_deal_events_afterGetDeal_afterGetDeal_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../dealCard/deal/events/afterGetDeal/afterGetDeal.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/afterGetDeal.js\");\n/* harmony import */ var _tabs_tabs_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../tabs/tabs.js */ \"./dev/static/js/platform/menu/items/crm/tabs/tabs.js\");\n\n\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst closeMenu = new _closeMenu_closeMenu_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nconst afterGetDeal = new _dealCard_deal_events_afterGetDeal_afterGetDeal_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n\nclass OpenEditMenu {\n  init(coursePack) {\n    const openMenuBtns = document.querySelectorAll('.course');\n\n    if (openMenuBtns.length) {\n      const openMenu = this.openMenu.bind(this, coursePack);\n\n      openMenuBtns.forEach((item) => {\n        const openMenuBtn = utils.setCloneElement(item);\n        openMenuBtn.addEventListener('click', openMenu);\n      });\n    }\n\n    const openBills = document.querySelectorAll('[js-add-bill-btn]');\n\n    if (openBills.length) {\n      const openMenu = this.openMenu.bind(this, coursePack);\n\n      openBills.forEach((item) => {\n        const openMenuBtn = utils.setCloneElement(item);\n        openMenuBtn.addEventListener('click', openMenu);\n      });\n    }\n\n    const openTasks = document.querySelectorAll('[data-deal-reminder]');\n\n    if (openTasks.length) {\n      const openMenu = this.openMenu.bind(this, coursePack);\n\n      openTasks.forEach((item) => {\n        const openMenuBtn = utils.setCloneElement(item);\n        openMenuBtn.addEventListener('click', openMenu);\n      });\n    }\n  }\n\n  openMenu(coursePack, e) {\n    const { menu } = coursePack;\n    const t = e.target;\n\n    utils.openModalAnimation(menu, true);\n    const updateBtn = menu.querySelector('[edit-deal]');\n\n    if (updateBtn) {\n      updateBtn.setAttribute('disable', '');\n    }\n\n    const idDeal = utils.getParent(t, 'platform-table__row').getAttribute('data-deal');\n\n    menu.querySelector('[client-name]').innerText = 'Редактировать сделку';\n\n    const reminderMenu = utils.isReminderBtn(t);\n\n    if (reminderMenu) {\n      coursePack.defaultTab = 'Задачи';\n      coursePack.activeTab = 'Задачи';\n    } else {\n      coursePack.defaultTab = 'Счета и платежи';\n      coursePack.activeTab = 'Счета и платежи';\n    }\n\n    coursePack.tabsObs = new _tabs_tabs_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\n    coursePack.dealTabObs = new _tabs_observersTabs_dealTabObserver_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\n    const data = {\n      id: idDeal,\n    };\n\n    _api_api_js__WEBPACK_IMPORTED_MODULE_1__.dealAPI.getDeal(data).then((deal) => {\n      coursePack.deal = deal;\n      coursePack.idDeal = deal.id;\n      coursePack.idClient = deal.idClient;\n      coursePack.target = t;\n      coursePack.isChangeTab = false;\n\n      const items = [\n        afterGetDeal,\n        closeMenu,\n      ];\n\n      items.forEach((item) => {\n        const init = item.init.bind(item);\n        init(coursePack);\n      });\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OpenEditMenu);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealRow/events/openCourse/openEditMenu/events/openEditMenu.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealRow/events/openCourse/openEditMenu/openCourse.js":
/*!****************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealRow/events/openCourse/openEditMenu/openCourse.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_openEditMenu_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/openEditMenu.js */ \"./dev/static/js/platform/menu/items/crm/dealRow/events/openCourse/openEditMenu/events/openEditMenu.js\");\n\n\nconst openMenu = new _events_openEditMenu_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass OpenCourse {\n  init(data) {\n    let coursePack;\n\n    if (!data.pack) {\n      coursePack = {\n        pack: data,\n        menu: document.querySelector('[js-menu-deal]'),\n      };\n    } else {\n      coursePack = {\n        ...data,\n        menu: document.querySelector('[js-menu-deal]'),\n      };\n    }\n\n    const items = [openMenu];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(coursePack);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OpenCourse);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealRow/events/openCourse/openEditMenu/openCourse.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealRow/events/removeBill.js":
/*!****************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealRow/events/removeBill.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass RemoveBill {\n  init(props) {\n    const removeBills = document.querySelectorAll('[js-delete-bill]');\n\n    if (removeBills.length) {\n      const removeBill = this.removeBill.bind(this, props);\n\n      removeBills.forEach((item) => {\n        const remove = utils.setCloneElement(item);\n        remove.addEventListener('click', removeBill);\n      });\n    }\n  }\n\n  removeBill(props, e) {\n    props.target = e.target;\n\n    const acceptRequest = this.acceptRemove.bind(this, props);\n\n    const popupProps = {\n      text: 'Вы действительно хотите удалить этот счет?',\n      settings: null,\n      title: null,\n      ok: acceptRequest,\n      cancel: null,\n    };\n\n    popup.init(popupProps);\n  }\n\n  acceptRemove(props) {\n    const { target } = props;\n\n    const billItem = utils.getParent(target, 'platform-table__row');\n\n    const data = {\n      id: billItem.getAttribute('data-bill'),\n    };\n\n    const remove = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.billAPI.removeBill(data);\n\n    remove.then(() => {\n      billItem.remove();\n\n      const popupElem = document.querySelector('.platform-remove__wrapper');\n\n      if (popupElem) {\n        popup.removePopup();\n      }\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RemoveBill);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealRow/events/removeBill.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealRow/events/revealDealFromTable/events/afterRevealDeal.js":
/*!************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealRow/events/revealDealFromTable/events/afterRevealDeal.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass AfterRevealDeal {\n  init(props) {\n    const { target } = props;\n\n    const span = document.createElement('span');\n    span.classList.add('deal-card__hide');\n    span.setAttribute('js-hide-deal-btn', '');\n\n    target.parentNode.appendChild(span);\n\n    target.remove();\n\n    const user = props.user.instance.init.bind(props.user.instance);\n\n    user(props);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AfterRevealDeal);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealRow/events/revealDealFromTable/events/afterRevealDeal.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/dealRow/events/revealDealFromTable/revealDealFromTable.js":
/*!*********************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/dealRow/events/revealDealFromTable/revealDealFromTable.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _events_afterRevealDeal_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events/afterRevealDeal.js */ \"./dev/static/js/platform/menu/items/crm/dealRow/events/revealDealFromTable/events/afterRevealDeal.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst afterRevealDeal = new _events_afterRevealDeal_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass RevealDealFromTable {\n  init(props) {\n    const revealBtn = document.querySelectorAll('[js-reveal-deal-btn]');\n\n    if (revealBtn.length) {\n      const reveal = this.revealDeal.bind(this, props);\n\n      revealBtn.forEach((item) => {\n        const revealButton = utils.setCloneElement(item);\n\n        revealButton.addEventListener('click', reveal);\n      });\n    }\n  }\n\n  revealDeal(props, e) {\n    const t = e.target;\n\n    t.style.pointerEvents = 'none';\n\n    const row = utils.getParent(t, 'platform-table__row');\n    const idDeal = row.getAttribute('data-deal');\n\n    const data = {\n      id: idDeal,\n    };\n\n    props.target = t;\n\n    const revealDeal = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.dealAPI.revealDeal(data);\n\n    revealDeal.then(\n      () => {\n        const items = [afterRevealDeal];\n        props.target = t;\n\n        items.forEach((item) => {\n          const init = item.init.bind(item);\n          init(props);\n        });\n      },\n      () => {\n        t.style.pointerEvents = 'all';\n      },\n    );\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RevealDealFromTable);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/dealRow/events/revealDealFromTable/revealDealFromTable.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/receipt/events/addImage.js":
/*!**************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/receipt/events/addImage.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _bill_templates_billTemplates_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../bill/templates/billTemplates.js */ \"./dev/static/js/platform/menu/items/crm/bill/templates/billTemplates.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst billTemplates = new _bill_templates_billTemplates_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass AddImage {\n  init(props) {\n    const { menu, isView } = props;\n\n    const input = menu.querySelector('#pay');\n    props.addImage = new AddImage();\n\n    if (input && !isView) {\n      const upload = this.uploadImage.bind(this, props);\n\n      const file = utils.setCloneElement(input);\n      file.addEventListener('change', upload);\n    }\n\n    const clearInput = menu.querySelector('.preview_update');\n\n    if (clearInput && !isView) {\n      const clear = utils.setCloneElement(clearInput);\n\n      const setPopup = this.setPopup.bind(this, props);\n      clear.addEventListener('click', setPopup);\n    }\n  }\n\n  setPopup(props, e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const t = e.target;\n    props.event = e;\n\n    const removeImage = this.clearInput.bind(this, props);\n\n    const popupProps = {\n      text: 'Вы действительно хотите удилть это изображение чека?',\n      settings: null,\n      title: null,\n      ok: removeImage,\n      cancel: null,\n      target: t,\n    };\n\n    popup.init(popupProps);\n  }\n\n  uploadImage(props, e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const t = e.target;\n\n    const { menu } = props;\n\n    if (t.files.length) {\n      const clear = menu.querySelector('.platform-form__input-full');\n      clear.style.opacity = '1';\n\n      if (t.value) {\n        this.addPreloader(t);\n\n        const clearInput = menu.querySelector('.preview_update');\n\n        if (clearInput) {\n          const remove = utils.setCloneElement(clearInput);\n\n          props.event = e;\n\n          const removeImage = this.clearInput.bind(this, props);\n          remove.addEventListener('click', removeImage);\n        }\n      }\n    }\n\n    const payBillBtn = menu.querySelector('.pay__save');\n    payBillBtn.classList.remove('disable');\n  }\n\n  addPreloader(t) {\n    const tmpPath = URL.createObjectURL(t.files[0]);\n    const link = document.createElement('a');\n    link.setAttribute('data-fancybox', '');\n    link.setAttribute('href', tmpPath);\n    link.classList.add('bill-image__image');\n    link.innerHTML = billTemplates.getPreloaderPayImageTemplate(tmpPath);\n\n    const billImage = document.querySelector('.bill-image');\n    billImage.querySelector('label').remove();\n\n    billImage.appendChild(link);\n  }\n\n  clearInput(props, event) {\n    const { bill, event: e } = props;\n    const { billImage } = bill;\n\n    if (event) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    const t = e.target;\n\n    const { menu } = props;\n\n    const file = menu.querySelector('#pay');\n\n    if (file) {\n      file.value = '';\n\n      t.style.opacity = '0';\n\n      const link = utils.getParent(t, 'bill-image').querySelector('.bill-image__image');\n\n      if (link) {\n        link.remove();\n        props.getInputFile(props);\n      }\n    } else {\n      const link = utils.getParent(t, 'bill-image').querySelector('.bill-image__wrapper-link');\n\n      if (link) {\n        link.remove();\n        props.getInputFile(props);\n      }\n    }\n\n    if (billImage) {\n      const formData = new FormData();\n      formData.set('idBill', bill.id);\n\n      const removeImage = _api_api_js__WEBPACK_IMPORTED_MODULE_2__.checkAPI.removeImage(formData);\n\n      removeImage.then(() => {\n        bill.billImage = null;\n\n        const eventChange = new Event('change');\n        const input = menu.querySelector('[type=\"file\"]');\n        input.dispatchEvent(eventChange);\n      });\n    }\n\n    props.addImage.init(props);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddImage);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/receipt/events/addImage.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/receipt/events/closeBillMenu.js":
/*!*******************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/receipt/events/closeBillMenu.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass CloseBillMenu {\n  init() {\n    const menu = document.querySelector('[js-pay-menu]');\n\n    if (menu) {\n      const closeBtn = menu.querySelector('.platform__close--btn-modal');\n\n      const closeMenu = this.closeMenu.bind(this, menu);\n\n      if (closeBtn) {\n        const close = utils.setCloneElement(closeBtn);\n        close.addEventListener('click', closeMenu);\n      }\n\n      const closePayMenu = menu.querySelector('.pay__close');\n\n      if (closePayMenu) {\n        const close = utils.setCloneElement(closePayMenu);\n        close.addEventListener('click', closeMenu);\n      }\n    }\n  }\n\n  closeMenu(menu) {\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n\n    const isDealMenu = document.querySelector('[js-menu-deal]') ? document.querySelector('[js-menu-deal]').classList.contains('open') : false;\n\n    if (isDealMenu) {\n      utils.closeModalAnimation(menu, wrapper, false, true, false);\n    } else {\n      utils.closeModalAnimation(menu, wrapper, false, false, false);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CloseBillMenu);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/receipt/events/closeBillMenu.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/receipt/events/openBillMenu.js":
/*!******************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/receipt/events/openBillMenu.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _addImage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./addImage.js */ \"./dev/static/js/platform/menu/items/crm/receipt/events/addImage.js\");\n/* harmony import */ var _sendBill_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sendBill.js */ \"./dev/static/js/platform/menu/items/crm/receipt/events/sendBill.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst addImage = new _addImage_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst sendBill = new _sendBill_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass OpenBillMenu {\n  init(props, e) {\n    const { bills } = props;\n\n    const t = e.target;\n\n    if (t.hasAttribute('js-check-add')) {\n      props.openReceiptMenuBtn = t;\n    } else {\n      props.openReceiptMenuBtn = false;\n    }\n\n    const payPack = {\n      ...props,\n      menu: document.querySelector('[js-pay-menu]'),\n    };\n\n    utils.openModalAnimation(payPack.menu, true);\n\n    payPack.bill = this.getBill(bills, t, payPack);\n    payPack.payMenu = document.querySelector('[js-pay-menu]');\n    const saveBtn = document.querySelector('.pay__save');\n    saveBtn.classList.add('disable');\n\n    payPack.saveBtn = saveBtn;\n\n    const billImage = document.querySelector('.bill-image__image');\n\n    if (billImage) {\n      billImage.remove();\n    }\n\n    if (payPack.bill?.billImage) {\n      this.getImage(payPack);\n    } else {\n      this.getInputFile(payPack);\n    }\n\n    if (payPack.bill?.comment) {\n      document.querySelector('[pay-menu-textarea]').value = payPack.bill.comment;\n    } else {\n      document.querySelector('[pay-menu-textarea]').value = '';\n    }\n\n    payPack.getImage = this.getImage.bind(this);\n    payPack.getInputFile = this.getInputFile.bind(this);\n\n    const items = [addImage, sendBill];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(payPack);\n    });\n\n    const commentTextArea = payPack.menu.querySelector('[pay-menu-textarea]');\n\n    if (commentTextArea) {\n      const setActivePayBtn = this.setActivePayBtn.bind(this, payPack);\n\n      const cloneArea = utils.setCloneElement(commentTextArea);\n      cloneArea.addEventListener('input', setActivePayBtn);\n    }\n  }\n\n  setActivePayBtn(payPack) {\n    const { menu, isView } = payPack;\n\n    if (!isView) {\n      const payBillBtn = menu.querySelector('.pay__save');\n\n      if (payBillBtn.classList.contains('disable')) {\n        payBillBtn.classList.remove('disable');\n      }\n    }\n  }\n\n  setActiveButton(payPack) {\n    const { saveBtn } = payPack;\n\n    if (saveBtn.classList.contains('disable')) {\n      saveBtn.classList.remove('disable');\n    }\n  }\n\n  getBill(bills, t, payPack) {\n    const { payMenu, saveBtn } = payPack;\n    let bill;\n\n    if (bills) {\n      const billId = +utils.getParent(t, 'bill__item').getAttribute('data-bill');\n      bill = bills.find((el) => el.id === billId);\n    } else {\n      const row = utils.getParent(t, 'platform-table__row');\n\n      if (row) {\n        bill = {\n          id: row.getAttribute('data-bill'),\n          idDeal: row.getAttribute('data-deal'),\n          idClient: row.getAttribute('data-client'),\n          isHidden: row.getAttribute('data-hidden'),\n          comment: row.querySelector('[js-check-add]').getAttribute('data-comment'),\n          billImage: row.querySelector('[js-check-add]').getAttribute('data-billimage'),\n        };\n      } else {\n        payPack.bill = bill;\n\n        if (bill.billImage || bill.comment) {\n          this.getImage(payPack);\n        } else {\n          this.getInputFile(payPack);\n        }\n\n        if (payMenu.querySelector('.platform-form__input-full.active')) {\n          payMenu.querySelector('.platform-form__input-full.active').style.opacity = '0';\n          payMenu.querySelector('.platform-form__input-full.active').style.pointerEvents = 'none';\n        }\n\n        const textArea = payPack.menu.querySelector('[pay-menu-textarea]');\n        textArea.value = bill.comment ? bill.comment : '';\n\n        saveBtn.style.display = 'none';\n      }\n    }\n\n    return bill;\n  }\n\n  getImage(props) {\n    const { bill } = props;\n\n    const menu = document.querySelector('[js-pay-menu]');\n\n    const a = document.createElement('a');\n    a.setAttribute('data-fancybox', '');\n    a.setAttribute('href', `/${bill.billImage}`);\n    a.classList.add('bill-image__wrapper-link');\n\n    const image = document.createElement('img');\n    image.setAttribute('src', `/${bill.billImage}`);\n    image.classList.add('bill-image__image');\n    image.classList.add('mt_0');\n\n    a.appendChild(image);\n\n    const label = menu.querySelector('.bill-image__label');\n\n    const removeBtn = document.createElement('span');\n    removeBtn.classList.add('file-loader__delete');\n    removeBtn.classList.add('preview_update');\n    removeBtn.classList.add('active');\n    a.appendChild(removeBtn);\n\n    if (label) {\n      label.remove();\n    }\n\n    const fileInput = menu.querySelector('#pay');\n\n    if (fileInput) {\n      fileInput.remove();\n    }\n\n    const imageMenu = menu.querySelector('.bill-image__wrapper-link');\n\n    if (imageMenu) {\n      imageMenu.remove();\n    }\n\n    const imageWrapper = menu.querySelector('.bill-image');\n\n    if (imageWrapper) {\n      imageWrapper.appendChild(a);\n      $('[data-fancybox]').fancybox();\n    }\n  }\n\n  getInputFile() {\n    const menu = document.querySelector('[js-pay-menu]');\n\n    const input = document.createElement('input');\n    input.setAttribute('type', 'file');\n    input.classList.add('platform__checkbox');\n    input.setAttribute('id', 'pay');\n    input.setAttribute('accept', '.png,.svg,.jpg,.jpeg,.webp,.avif');\n    input.setAttribute('pay-menu-file', '');\n    input.setAttribute('name', 'file');\n\n    const label = document.createElement('label');\n    label.classList.add('bill-image__label');\n    label.setAttribute('for', 'pay');\n\n    const removeBtn = document.createElement('span');\n    removeBtn.classList.add('platform-form__input-full');\n    label.appendChild(removeBtn);\n\n    const image = menu.querySelector('.bill-image__wrapper-link');\n\n    if (image) {\n      image.remove();\n    }\n\n    const labelMenu = menu.querySelector('.bill-image__label');\n\n    if (labelMenu) {\n      labelMenu.remove();\n    }\n\n    const fileInput = menu.querySelector('#pay');\n\n    if (fileInput) {\n      fileInput.remove();\n    }\n\n    const wrapper = menu.querySelector('.bill-image');\n\n    if (wrapper) {\n      wrapper.appendChild(input);\n      wrapper.appendChild(label);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OpenBillMenu);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/receipt/events/openBillMenu.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/receipt/events/sendBill.js":
/*!**************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/receipt/events/sendBill.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n/* harmony import */ var _saveImage_saveImage_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../saveImage/saveImage.js */ \"./dev/static/js/platform/menu/items/crm/receipt/saveImage/saveImage.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst saveImage = new _saveImage_saveImage_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass SendBill {\n  init(props) {\n    const { menu } = props;\n\n    const sendBtn = menu.querySelector('.pay__save');\n\n    if (sendBtn) {\n      const sendBill = this.sendBill.bind(this, props);\n\n      const send = utils.setCloneElement(sendBtn);\n      send.addEventListener('click', sendBill);\n    }\n  }\n\n  sendBill(props, e) {\n    const t = e.target;\n    const { menu } = props;\n\n    const form = menu.querySelector('[pay-form]');\n\n    if (validation.validatePayBill(form)) {\n      t.classList.add('disable');\n\n      const saveCheck = saveImage.init.bind(saveImage);\n      props.target = t;\n\n      saveCheck(props);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SendBill);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/receipt/events/sendBill.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/receipt/receipt.js":
/*!******************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/receipt/receipt.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_openBillMenu_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/openBillMenu.js */ \"./dev/static/js/platform/menu/items/crm/receipt/events/openBillMenu.js\");\n/* harmony import */ var _events_closeBillMenu_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/closeBillMenu.js */ \"./dev/static/js/platform/menu/items/crm/receipt/events/closeBillMenu.js\");\n\n\n\nconst openBillMenu = new _events_openBillMenu_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst closeBillMenu = new _events_closeBillMenu_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass PayBill {\n  init(props, e) {\n    const paybillProps = {\n      ...props,\n      menu: document.querySelector('[js-menu-deal]'),\n    };\n\n    const items = [openBillMenu, closeBillMenu];\n\n    items.forEach(async (item) => {\n      const init = item.init.bind(item);\n      init(paybillProps, e);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PayBill);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/receipt/receipt.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/receipt/saveImage/events/afterSendImage.js":
/*!******************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/receipt/saveImage/events/afterSendImage.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _sendComment_sendComment_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../sendComment/sendComment.js */ \"./dev/static/js/platform/menu/items/crm/receipt/sendComment/sendComment.js\");\n\n\n\nconst sendComment = new _sendComment_sendComment_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass AfterSendImage {\n  init(props) {\n    const {\n      menu,\n      bill,\n      target,\n      openReceiptMenuBtn,\n    } = props;\n\n    const a = document.createElement('a');\n    a.setAttribute('data-fancybox', '');\n    a.setAttribute('href', `/${bill.billImage}`);\n    a.classList.add('bill-image__wrapper-link');\n\n    const image = document.createElement('img');\n    image.setAttribute('src', `/${bill.billImage}`);\n    image.classList.add('bill-image__image');\n\n    a.appendChild(image);\n\n    const label = menu.querySelector('.bill-image__label');\n    const imageWrapper = menu.querySelector('.bill-image');\n\n    imageWrapper.insertBefore(a, label);\n\n    const fileInput = menu.querySelector('#pay');\n\n    if (label) {\n      label.remove();\n    }\n\n    if (fileInput) {\n      fileInput.remove();\n    }\n\n    const oldImage = menu.querySelector('.bill-image__image');\n\n    if (oldImage) {\n      oldImage.remove();\n    }\n\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n\n    const comment = menu.querySelector('[pay-menu-textarea]').value;\n\n    if (!comment && comment === bill.comment) {\n      utils.closeModalAnimation(menu, wrapper, false, true);\n      target.classList.remove('disable');\n    } else {\n      sendComment.init(props);\n    }\n\n    if (openReceiptMenuBtn) {\n      setTimeout(() => {\n        /* eslint-disable-next-line */\n        location.reload();\n      }, 400);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AfterSendImage);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/receipt/saveImage/events/afterSendImage.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/receipt/saveImage/saveImage.js":
/*!******************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/receipt/saveImage/saveImage.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _events_afterSendImage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/afterSendImage.js */ \"./dev/static/js/platform/menu/items/crm/receipt/saveImage/events/afterSendImage.js\");\n/* harmony import */ var _sendComment_sendComment_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../sendComment/sendComment.js */ \"./dev/static/js/platform/menu/items/crm/receipt/sendComment/sendComment.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n\n\n\n\n\nconst afterSendImage = new _events_afterSendImage_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst sendComment = new _sendComment_sendComment_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass SaveImage {\n  init(props) {\n    const { menu } = props;\n\n    const fileInput = menu.querySelector('[pay-menu-file]');\n\n    if (fileInput?.files.length) {\n      this.requestSaveImage(props);\n    } else {\n      sendComment.init(props);\n    }\n  }\n\n  requestSaveImage(props) {\n    const { target } = props;\n    const data = this.getData(props);\n    const uploadImg = _api_api_js__WEBPACK_IMPORTED_MODULE_0__.billAPI.uploadCheck(data);\n\n    uploadImg.then((check) => {\n      target.classList.remove('disable');\n      props.bill = check;\n\n      const items = [afterSendImage];\n\n      items.forEach((item) => {\n        const init = item.init.bind(item);\n        init(props);\n      });\n    }, () => {\n      target.classList.remove('disable');\n\n      const popupProps = {\n        text: 'Ошибка! Изображение чека не добавилось, попробуйте заново',\n        settings: 'alert-close',\n      };\n\n      popup.init(popupProps);\n    });\n  }\n\n  getData(props) {\n    const { menu, bill } = props;\n\n    const fileInput = menu.querySelector('[pay-menu-file]');\n\n    const data = new FormData();\n    data.append('isHidden', bill.isHidden);\n    data.append('idDeal', bill.idDeal);\n    data.append('id', bill.id);\n    data.append('file', fileInput.files[0]);\n    data.append('sum', bill.sum);\n\n    return data;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SaveImage);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/receipt/saveImage/saveImage.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/receipt/sendComment/events/afterSaveComment.js":
/*!**********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/receipt/sendComment/events/afterSaveComment.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass AfterSaveComment {\n  init(props) {\n    const { menu, target, openReceiptMenuBtn } = props;\n\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n\n    utils.closeModalAnimation(menu, wrapper, false, true, false);\n\n    const billWrapper = document.querySelectorAll('[js-client-bills]');\n\n    billWrapper.forEach((item) => {\n      Array.from(item.children).forEach((elem) => {\n        elem.remove();\n      });\n    });\n\n    const updateMenuWrapper = document.querySelector('.update-menu');\n\n    if (updateMenuWrapper && updateMenuWrapper.classList.contains('active')) {\n      updateMenuWrapper.classList.remove('active');\n    }\n\n    const tabProps = {\n      ...props,\n      menu: document.querySelector('[js-menu-deal]'),\n    };\n\n    target.classList.remove('disable');\n\n    if (tabProps.tabBillObs) {\n      tabProps.tabBillObs.init(tabProps);\n    }\n\n    if (openReceiptMenuBtn) {\n      setTimeout(() => {\n        /* eslint-disable-next-line */\n        location.reload();\n      }, 400);\n    }\n\n    this.updateBill(props);\n  }\n\n  updateBill(props) {\n    const id = props.client?.id || props.deal.idClient;\n\n    _api_api_js__WEBPACK_IMPORTED_MODULE_0__.dealAPI.getDeals(id).then((deals) => {\n      const currentDeal = deals.find((el) => el.id === props.deal.id);\n\n      if (currentDeal) {\n        const card = document.querySelector(`.deal-card[data-deal=\"${currentDeal.id}\"]`);\n\n        if (card) {\n          const dealPaid = card.querySelector('.deal-price__value--black');\n          dealPaid.innerText = `${currentDeal.paid} ₽`;\n        }\n      }\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AfterSaveComment);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/receipt/sendComment/events/afterSaveComment.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/receipt/sendComment/sendComment.js":
/*!**********************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/receipt/sendComment/sendComment.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _events_afterSaveComment_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/afterSaveComment.js */ \"./dev/static/js/platform/menu/items/crm/receipt/sendComment/events/afterSaveComment.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n\n\n\n\n\nconst afterSaveComment = new _events_afterSaveComment_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass SendComment {\n  init(props) {\n    const { menu, bill } = props;\n\n    const comment = menu.querySelector('[pay-menu-textarea]').value;\n\n    if (comment && comment !== bill.comment) {\n      this.sendComment(props);\n    } else if (!comment) {\n      _api_api_js__WEBPACK_IMPORTED_MODULE_0__.checkAPI.unSelectSMS(bill.id).then(() => {\n        _api_api_js__WEBPACK_IMPORTED_MODULE_0__.checkAPI.getUnusedSms().then((checks) => {\n          const current = checks.find((el) => el.text === bill.comment);\n\n          this.deleteCheck(props, current);\n        });\n      });\n    } else if (comment && bill.comment === comment) {\n      this.afterSaveComment(props);\n    }\n  }\n\n  deleteCheck(props, current) {\n    if (current) {\n      _api_api_js__WEBPACK_IMPORTED_MODULE_0__.checkAPI.deleteSMS(current).then(() => {\n        this.afterSaveComment(props);\n      });\n    } else {\n      this.afterSaveComment(props);\n    }\n  }\n\n  afterSaveComment(props) {\n    const items = [afterSaveComment];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(props);\n    });\n  }\n\n  sendComment(props) {\n    const {\n      bill,\n      menu,\n      target,\n      pack,\n    } = props;\n    const { company } = pack;\n    const { id } = company;\n\n    const data = {\n      text: menu.querySelector('[pay-menu-textarea]').value.trim(),\n      date: utils.today(),\n      isUsed: true,\n      idCompany: id,\n      idBill: bill.id,\n    };\n\n    const saveCheck = _api_api_js__WEBPACK_IMPORTED_MODULE_0__.checkAPI.saveSMS(data);\n\n    saveCheck.then((comment) => {\n      const dataComment = {\n        id: comment.id,\n        isUsed: true,\n        date: comment.date,\n        text: comment.text,\n        idBill: bill.id,\n        manager: pack.manager,\n      };\n\n      const selectCheck = _api_api_js__WEBPACK_IMPORTED_MODULE_0__.checkAPI.selectSMS(dataComment);\n\n      selectCheck.then(() => {\n        target.classList.remove('disable');\n        const items = [afterSaveComment];\n\n        items.forEach((item) => {\n          const init = item.init.bind(item);\n          init(props);\n        });\n      }, () => {\n        const popupProps = {\n          text: 'Ошибка! Комментарий не добавлен. Попробуйте еще раз или сообщите в тех. поддержку',\n          settings: 'alert-close',\n        };\n\n        popup.init(popupProps);\n\n        target.classList.remove('disable');\n      });\n    }, () => {\n      const popupProps = {\n        text: 'Ошибка! Комментарий должен быть уникальным',\n        settings: 'alert-close',\n      };\n\n      popup.init(popupProps);\n      target.classList.remove('disable');\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SendComment);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/receipt/sendComment/sendComment.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/searchClient/searchClient.js":
/*!****************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/searchClient/searchClient.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass SearchClient {\n  init() {\n    const startSearchBtn = document.querySelector('[search-client-btn]');\n\n    if (startSearchBtn) {\n      const startSearch = this.startSearch.bind(this);\n\n      startSearchBtn.addEventListener('click', startSearch);\n    }\n  }\n\n  startSearch(e) {\n    const t = e.target;\n\n    const form = document.querySelector('.platform__search');\n\n    if (!t.classList.contains('active')) {\n      form.submit();\n    } else {\n      utils.showLoader();\n\n      const input = form.querySelector('input');\n\n      const query = form.querySelector('input').value;\n\n      input.value = '';\n\n      form.submit();\n      input.value = query;\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SearchClient);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/searchClient/searchClient.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/accessTab.js":
/*!***********************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/accessTab.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_accessEvents_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/accessEvents.js */ \"./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/accessEvents.js\");\n/* harmony import */ var _render_render_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./render/render.js */ \"./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/render/render.js\");\n\n\n\nconst accessEvents = new _events_accessEvents_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst renderAccess = new _render_render_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass AccessTab {\n  init(tabPack) {\n    const render = renderAccess.render(tabPack);\n\n    render.then(() => {\n      const items = [accessEvents];\n\n      items.forEach((item) => {\n        const init = item.init.bind(item);\n        init(tabPack);\n      });\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AccessTab);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/accessTab.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/accessEvents.js":
/*!*********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/accessEvents.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _stopLesson_stopLesson_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./stopLesson/stopLesson.js */ \"./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/stopLesson/stopLesson.js\");\n/* harmony import */ var _cangeAccess_changeAccess_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./cangeAccess/changeAccess.js */ \"./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/cangeAccess/changeAccess.js\");\n\n\n\nconst changeStopLesson = new _stopLesson_stopLesson_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst changeAccess = new _cangeAccess_changeAccess_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass AccessEvents {\n  init(tabPack) {\n    const items = [changeStopLesson, changeAccess];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(tabPack);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AccessEvents);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/accessEvents.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/cangeAccess/changeAccess.js":
/*!*********************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/cangeAccess/changeAccess.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _events_changeAccessProduct_changeAccessProduct_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/changeAccessProduct/changeAccessProduct.js */ \"./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/cangeAccess/events/changeAccessProduct/changeAccessProduct.js\");\n/* harmony import */ var _events_changeAccessBlock_changeAccessBlock_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events/changeAccessBlock/changeAccessBlock.js */ \"./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/cangeAccess/events/changeAccessBlock/changeAccessBlock.js\");\n/* harmony import */ var _events_changeAccessModules_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./events/changeAccessModules.js */ \"./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/cangeAccess/events/changeAccessModules.js\");\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst changeAccessProduct = new _events_changeAccessProduct_changeAccessProduct_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst changeAccessBlock = new _events_changeAccessBlock_changeAccessBlock_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst changeAccessModule = new _events_changeAccessModules_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass ChangeAccess {\n  init(tabPack) {\n    const accessProps = this.getProps(tabPack);\n\n    const { wrapper } = accessProps;\n\n    if (wrapper) {\n      const dispatchWrapper = this.dispatchWrapper.bind(this, accessProps);\n      wrapper.addEventListener('click', dispatchWrapper);\n    }\n  }\n\n  dispatchWrapper(props, e) {\n    const { deal } = props;\n    const t = e.target;\n\n    const changeProductAccess = t.hasAttribute('product-access') ? 'access-product' : '';\n    const changeBlockAccess = t.hasAttribute('access-block') ? 'access-block' : '';\n    const changeModuleAccess = t.classList.contains('module__item') ? 'access-module' : '';\n\n    const toggle = changeProductAccess || changeBlockAccess || changeModuleAccess;\n\n    switch (toggle) {\n      case 'access-module': {\n        changeAccessModule.init(false, deal, props, e);\n        break;\n      }\n      case 'access-block': {\n        changeAccessBlock.init(props, deal, props, e);\n        break;\n      }\n      case 'access-product': {\n        changeAccessProduct.init(props, e);\n        break;\n      }\n      default: {\n        break;\n      }\n    }\n  }\n\n  getProps(tabPack) {\n    const wrapper = document.querySelector('.access__wrapper');\n\n    const props = utils.getDeepCopy(tabPack);\n    props.wrapper = wrapper;\n\n    return props;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChangeAccess);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/cangeAccess/changeAccess.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/cangeAccess/events/changeAccessBlock/afterChangeAccessBlock.js":
/*!********************************************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/cangeAccess/events/changeAccessBlock/afterChangeAccessBlock.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _changeAccessModules_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../changeAccessModules.js */ \"./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/cangeAccess/events/changeAccessModules.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst changeAccessModule = new _changeAccessModules_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass AfterChangeAccessBlock {\n  async init(props) {\n    const { blockLabel } = props;\n    const modules = utils.getParent(blockLabel, 'access-block').querySelectorAll('.module__item');\n\n    if (modules.length) {\n      await this.changeAccessToModales(props, modules);\n    }\n  }\n\n  changeAccessToModales(props, modules) {\n    const { deal } = props;\n\n    return new Promise((res) => {\n      let i = 0;\n\n      const timer = setInterval(() => {\n        if (i >= modules.length) {\n          clearInterval(timer);\n          res();\n        } else {\n          const module = modules[i];\n\n          if (module) {\n            this.changeAccess(module, deal, props);\n          }\n\n          i++;\n        }\n      }, 10);\n    });\n  }\n\n  async changeAccess(module, deal, props) {\n    await changeAccessModule.init(module, deal, props);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AfterChangeAccessBlock);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/cangeAccess/events/changeAccessBlock/afterChangeAccessBlock.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/cangeAccess/events/changeAccessBlock/changeAccessBlock.js":
/*!***************************************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/cangeAccess/events/changeAccessBlock/changeAccessBlock.js ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _afterChangeAccessBlock_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./afterChangeAccessBlock.js */ \"./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/cangeAccess/events/changeAccessBlock/afterChangeAccessBlock.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst afterChangeAccessBlock = new _afterChangeAccessBlock_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass ChangeAccessBlock {\n  async init(block, deal, props, e) {\n    let blockElem;\n    let blockLabel;\n\n    if (e) {\n      const t = e.target;\n      block.target = utils.getParent(t, 'platform__toggle') || t;\n\n      blockElem = utils.getParent(t, 'block__name').querySelector('[product-block]');\n      blockLabel = utils.getParent(t, 'toggle__access-tab') || t;\n    } else {\n      blockElem = utils.getParent(block, 'block__name').querySelector('[product-block]');\n      blockLabel = block;\n    }\n\n    const active = blockLabel.classList.contains('active');\n    const idBlock = blockElem.getAttribute('data-block');\n\n    const data = {\n      courseBlock: { id: idBlock },\n      idDeal: deal.id || deal,\n      enabled: !active,\n    };\n\n    if (e) {\n      const t = e.target;\n\n      t.style.pointerEvents = 'none';\n    }\n\n    const loader = setTimeout(utils.showLoader, 400);\n\n    await _api_api_js__WEBPACK_IMPORTED_MODULE_1__.dealAPI.changeBlockEnabled(data);\n\n    clearTimeout(loader);\n    utils.hideLoader();\n\n    const changeAccessBlockProps = {\n      blockLabel,\n      deal,\n      target: props.target,\n    };\n\n    await this.afterChangeAccessBlock(changeAccessBlockProps, e);\n  }\n\n  async afterChangeAccessBlock(changeAccessBlockProps, e) {\n    if (e) {\n      const t = e.target;\n\n      t.style.pointerEvents = 'all';\n    }\n\n    this.toggleClassActive(changeAccessBlockProps);\n\n    await afterChangeAccessBlock.init(changeAccessBlockProps);\n  }\n\n  toggleClassActive(changeAccessBlockProps) {\n    const { blockLabel } = changeAccessBlockProps;\n\n    if (blockLabel.classList.contains('active')) {\n      blockLabel.classList.remove('active');\n    } else {\n      blockLabel.classList.add('active');\n    }\n\n    changeAccessBlockProps.activeBlock = blockLabel.classList.contains('active');\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChangeAccessBlock);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/cangeAccess/events/changeAccessBlock/changeAccessBlock.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/cangeAccess/events/changeAccessModules.js":
/*!***********************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/cangeAccess/events/changeAccessModules.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n\n\nclass ChangeAccessModule {\n  async init(module, deal, props, e) {\n    let moduleItem;\n    let changeAuto;\n\n    if (e) {\n      moduleItem = e.target;\n      changeAuto = false;\n    } else {\n      moduleItem = module;\n      changeAuto = true;\n    }\n\n    let toggle;\n\n    if (changeAuto) {\n      const { target } = props;\n\n      const isActiveProduct = target.classList.contains('active');\n      const isActiveModule = moduleItem.classList.contains('active');\n\n      toggle = !isActiveProduct === isActiveModule;\n\n      if (toggle) {\n        await this.sendRequestToChangeModule(deal, moduleItem);\n      }\n    } else {\n      await this.sendRequestToChangeModule(deal, moduleItem);\n    }\n  }\n\n  async sendRequestToChangeModule(deal, moduleItem) {\n    const data = {\n      idDeal: deal.id || deal,\n      idModule: +moduleItem.getAttribute('data-module'),\n      idClient: moduleItem.getAttribute('data-client'),\n      value: !moduleItem.classList.contains('active'),\n    };\n\n    await _api_api_js__WEBPACK_IMPORTED_MODULE_0__.dealAPI.changeAccessToModules(data);\n\n    if (moduleItem.classList.contains('active')) {\n      moduleItem.classList.remove('active');\n    } else {\n      moduleItem.classList.add('active');\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChangeAccessModule);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/cangeAccess/events/changeAccessModules.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/cangeAccess/events/changeAccessProduct/afterChangeProduct.js":
/*!******************************************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/cangeAccess/events/changeAccessProduct/afterChangeProduct.js ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _changeAccessBlock_changeAccessBlock_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../changeAccessBlock/changeAccessBlock.js */ \"./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/cangeAccess/events/changeAccessBlock/changeAccessBlock.js\");\n/* harmony import */ var _changeAccessBlock_afterChangeAccessBlock_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../changeAccessBlock/afterChangeAccessBlock.js */ \"./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/cangeAccess/events/changeAccessBlock/afterChangeAccessBlock.js\");\n\n\n\nconst changeAccessBlock = new _changeAccessBlock_changeAccessBlock_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst changeModules = new _changeAccessBlock_afterChangeAccessBlock_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass AfterChangeProduct {\n  init(tabPack) {\n    const { wrapper, deal, activeProduct } = tabPack;\n\n    const blocks = wrapper.querySelectorAll('[access-block]');\n\n    if (blocks.length) {\n      this.changeAccessBlocks(blocks, deal, activeProduct, tabPack);\n    } else {\n      const modules = wrapper.querySelectorAll('.module__item');\n\n      const change = changeModules.changeAccessToModales.bind(changeModules);\n\n      change(tabPack, modules);\n    }\n  }\n\n  async changeAccessBlocks(blocks, deal, activeProduct, props) {\n    for (let index = 0; index < blocks.length; index++) {\n      const block = blocks[index];\n      await this.changeAccess(activeProduct, block, deal, props);\n    }\n  }\n\n  async changeAccess(activeProduct, block, deal, props) {\n    if (activeProduct && !block.classList.contains('active')) {\n      await changeAccessBlock.init(block, deal, props);\n    } else if (!activeProduct && block.classList.contains('active')) {\n      await changeAccessBlock.init(block, deal, props);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AfterChangeProduct);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/cangeAccess/events/changeAccessProduct/afterChangeProduct.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/cangeAccess/events/changeAccessProduct/changeAccessProduct.js":
/*!*******************************************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/cangeAccess/events/changeAccessProduct/changeAccessProduct.js ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _afterChangeProduct_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./afterChangeProduct.js */ \"./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/cangeAccess/events/changeAccessProduct/afterChangeProduct.js\");\n\n\n\n\nconst afterChangeProduct = new _afterChangeProduct_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass ChangeAccessProduct {\n  init(tabPack, e) {\n    const t = e.target;\n    const { menu } = tabPack;\n    tabPack.target = utils.getParent(t, 'platform__toggle') || t;\n\n    const toggle = menu.querySelector('[access-product-tab]');\n\n    if (toggle) {\n      const change = this.changeAccess.bind(this, tabPack);\n      const toggleAccess = utils.setCloneElement(toggle);\n\n      toggleAccess.addEventListener('change', change);\n    }\n  }\n\n  changeAccess(tabPack, e) {\n    const { deal } = tabPack;\n    const t = e.target;\n\n    const data = {\n      id: deal.id || deal,\n      idClient: deal.idClient,\n      value: t.checked,\n    };\n\n    const label = utils.getParent(t, 'right__access').querySelector('label');\n\n    const classData = {\n      label,\n      data,\n      tabPack,\n    };\n\n    this.toggleClassActive(classData);\n\n    label.style.pointerEvents = 'none';\n\n    const changeProduct = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.dealAPI.changeAccessToDeal(data);\n\n    const loader = setTimeout(utils.showLoader, 400);\n\n    changeProduct.then(() => {\n      clearTimeout(loader);\n      utils.hideLoader();\n\n      label.style.pointerEvents = 'all';\n\n      const items = [afterChangeProduct];\n\n      items.forEach((item) => {\n        const init = item.init.bind(item);\n        init(tabPack);\n      });\n    }, () => {\n      label.style.pointerEvents = 'all';\n    });\n  }\n\n  toggleClassActive(classData) {\n    const { label, data, tabPack } = classData;\n\n    if (data.value) {\n      label.classList.add('active');\n      tabPack.activeProduct = true;\n    } else {\n      label.classList.remove('active');\n      tabPack.activeProduct = false;\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChangeAccessProduct);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/cangeAccess/events/changeAccessProduct/changeAccessProduct.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/stopLesson/stopLesson.js":
/*!******************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/stopLesson/stopLesson.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass ChangeStopLesson {\n  init(tabPack) {\n    const { menu } = tabPack;\n\n    const stopLesson = menu.querySelector('[stop-lesson-access]');\n\n    if (stopLesson) {\n      const stopLessonClone = utils.setCloneElement(stopLesson);\n\n      const stopLessonToggle = this.stopLessonToggle.bind(this, tabPack);\n\n      stopLessonClone.addEventListener('change', stopLessonToggle);\n    }\n  }\n\n  stopLessonToggle(tabPack, e) {\n    const { deal } = tabPack;\n\n    const t = e.target;\n\n    const data = {\n      id: deal.id,\n      allModulesHomeworkAllowed: t.checked,\n    };\n\n    _api_api_js__WEBPACK_IMPORTED_MODULE_1__.dealAPI.updateAllowed(data);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChangeStopLesson);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/events/stopLesson/stopLesson.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/render/render.js":
/*!***************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/render/render.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _templates_accessTemplates_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./templates/accessTemplates.js */ \"./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/render/templates/accessTemplates.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _tabWrapper_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../tabWrapper.js */ \"./dev/static/js/platform/menu/items/crm/tabs/content/tabWrapper.js\");\n\n\n\n\n\nconst accessTemplates = new _templates_accessTemplates_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass RenderAccess extends _tabWrapper_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"] {\n  async render(tabPack) {\n    const { menu, deal } = tabPack;\n\n    const accessWrapper = menu.querySelector('[js-client-access]');\n\n    const span = utils.setPreloaderToTab();\n    accessWrapper.appendChild(span);\n\n    if (accessWrapper && deal) {\n      utils.removeChildren(accessWrapper);\n\n      const { allModulesHomeworkAllowed } = deal;\n\n      tabPack.stopLesson = allModulesHomeworkAllowed;\n\n      const div = document.createElement('div');\n      div.classList.add('access__wrapper');\n\n      const modules = await _api_api_js__WEBPACK_IMPORTED_MODULE_0__.dealAPI.getModules(deal.id || deal);\n\n      if (modules.allowed) {\n        tabPack.access = true;\n      } else {\n        tabPack.access = false;\n      }\n\n      tabPack.modules = modules;\n\n      const stopLesson = await this.stopLesson(deal);\n\n      tabPack.deal.allModulesHomeworkAllowed = stopLesson;\n\n      div.innerHTML = accessTemplates.accessNav(tabPack);\n      accessWrapper.appendChild(div);\n\n      const accessList = menu.querySelector('[js-access-wrapper]');\n\n      if (accessList) {\n        const blocks = await _api_api_js__WEBPACK_IMPORTED_MODULE_0__.dealAPI.getBlocks(deal.id || deal);\n\n        tabPack.accessList = accessList;\n        tabPack.blocks = blocks;\n\n        if (blocks && blocks.length) {\n          this.setBlocks(tabPack);\n        } else {\n          this.setModules(tabPack);\n        }\n      }\n    } else {\n      utils.removeChildren(accessWrapper);\n      this.noProduct(accessWrapper);\n    }\n  }\n\n  async stopLesson(deal) {\n    const updatedDeal = await _api_api_js__WEBPACK_IMPORTED_MODULE_0__.dealAPI.getDeal({ id: deal.id });\n\n    const { allModulesHomeworkAllowed: stopeLesson } = updatedDeal;\n\n    return stopeLesson;\n  }\n\n  async setBlocks(tabPack) {\n    const {\n      blocks,\n      modules,\n      accessList,\n      deal,\n      menu,\n    } = tabPack;\n\n    const { id } = deal;\n\n    this.setTariffName(menu);\n\n    for (let index = 0; index < blocks.length; index++) {\n      const block = blocks[index];\n\n      const div = document.createElement('div');\n      div.classList.add('access-block');\n      div.innerHTML = accessTemplates.renderBlock(block, deal, index);\n\n      const modulesData = modules.modules;\n      const modulesDataId = block.courseBlock.moduleIds;\n\n      const modulesInBlock = modulesData.filter((el) => modulesDataId.includes(el.idModule));\n\n      modulesInBlock.forEach((item, count) => {\n        const module = document.createElement('div');\n        module.classList.add('module__item');\n        module.setAttribute('data-module', item.idModule);\n        module.setAttribute('data-deal', id);\n        module.setAttribute('product-module', '');\n        module.setAttribute('data-client', deal.idClient);\n        module.innerText = count + 1;\n\n        if (item.enabled) {\n          module.classList.add('active');\n        }\n\n        div.querySelector('.block__modules').appendChild(module);\n      });\n\n      await accessList.appendChild(div);\n    }\n  }\n\n  async setModules(tabPack) {\n    const {\n      deal,\n      modules,\n      accessList,\n      menu,\n    } = tabPack;\n\n    const { id } = deal;\n\n    const div = document.createElement('div');\n    div.classList.add('access-block');\n\n    const p = document.createElement('p');\n    p.classList.add('block__name');\n    p.classList.add('ml_0');\n\n    this.setTariffName(menu);\n\n    p.innerText = 'Модули курса';\n\n    div.appendChild(p);\n\n    const modulesWrapper = document.createElement('div');\n    modulesWrapper.classList.add('block__modules');\n\n    div.appendChild(modulesWrapper);\n\n    if (modules && modules.modules.length) {\n      modules.modules.forEach((item, index) => {\n        const module = document.createElement('div');\n        module.classList.add('module__item');\n        module.setAttribute('data-module', item.idModule);\n        module.setAttribute('data-deal', id);\n        module.setAttribute('data-client', deal.idClient);\n        module.setAttribute('product-module', '');\n        module.innerText = index + 1;\n\n        if (item.enabled) {\n          module.classList.add('active');\n        }\n\n        modulesWrapper.appendChild(module);\n      });\n\n      await accessList.appendChild(div);\n    }\n  }\n\n  setTariffName(menu) {\n    let name = menu.querySelector('[tariff-selected] .tariff__name');\n\n    const namePlace = menu.querySelector('.nav__left');\n\n    if (name) {\n      namePlace.innerText = name.innerText;\n    } else {\n      const productItem = menu.querySelector('[data-select-type=\"select-product\"]');\n      const selectedProduct = productItem.querySelector('[id-selected]').value;\n      const bodyChildren = Array.from(productItem.querySelector('[select-body]').children);\n\n      const selectedItem = bodyChildren.find((el) => el.getAttribute('value') === selectedProduct);\n      name = selectedItem.innerText.trim();\n      namePlace.innerText = name === 'Выберите продукт' ? 'Продукт не выбран' : name;\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RenderAccess);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/render/render.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/render/templates/accessTemplates.js":
/*!**********************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/render/templates/accessTemplates.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass AccessTabTemplates {\n  accessNav(tabPack) {\n    const { access, deal } = tabPack;\n    const { allModulesHomeworkAllowed: stopLesson } = deal;\n\n    return `\n      <div class=\"access__nav\">\n        <div class=\"nav__left\"></div>\n        <div class=\"nav__right\">\n          <div class=\"right__stop\">\n            <input ${stopLesson ? 'checked' : ''} type=\"checkbox\" stop-lesson-access class=\"platform__checkbox\" id=\"stopLesson\">\n            <label for=\"stopLesson\" class=\"platform-checkbox__label\">\n                <span class=\"platform__checkbox--fake access__checkbox--fake\"></span>\n                Отключить стоп-уроки\n            </label>\n          </div>\n          <div class=\"right__access\">\n            Доступ к продукту\n            <input type=\"checkbox\" ${access ? 'checked' : ''} access-product-tab class=\"platform__checkbox access__checkbox\"\n                id=\"productAccess\">\n            <label product-access for=\"productAccess\" class=\"platform__toggle access__toggle ${access ? 'active' : ''}\">\n                <span class=\"platform__thumb\"></span>\n            </label>\n          </div>\n        </div>\n      </div>\n      <div js-access-wrapper class=\"access__content\"></div>\n    `;\n  }\n\n  renderBlock(block, deal, index) {\n    const { enabled } = block;\n\n    return `\n        <p class=\"block__name ml_0\">\n          ${block.courseBlock.name}\n          <input type=\"checkbox\" ${enabled ? 'checked' : ''} data-deal=\"${deal.id}\" data-block=\"${block.courseBlock.id}\" product-block id=\"block_${index}\" class=\"platform__checkbox\">\n          <label access-block for=\"block_${index}\" class=\"platform__toggle toggle__access-tab ${enabled ? 'active' : ''}\">\n            <span class=\"platform__thumb thumb__access-tab\"></span>\n          </label>\n        </p>\n        <div class=\"block__modules\"></div>\n    `;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AccessTabTemplates);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/render/templates/accessTemplates.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/tabs/content/billTab.js":
/*!***********************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/tabs/content/billTab.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _billTab_events_billTabClientMenu_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./billTab/events/billTabClientMenu.js */ \"./dev/static/js/platform/menu/items/crm/tabs/content/billTab/events/billTabClientMenu.js\");\n/* harmony import */ var _billTab_events_billTabDealMenu_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./billTab/events/billTabDealMenu.js */ \"./dev/static/js/platform/menu/items/crm/tabs/content/billTab/events/billTabDealMenu.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\n\nconst tabClientMenu = new _billTab_events_billTabClientMenu_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst tabDealMenu = new _billTab_events_billTabDealMenu_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass BillTab {\n  init(props) {\n    const {\n      target,\n      billTabObserver,\n      deal,\n      idDeal,\n      menu,\n      defaultTab,\n      idClient,\n      pack,\n      client,\n      isView,\n      isCreate,\n    } = props;\n\n    const tabProps = {\n      target,\n      billTabObserver,\n      deal,\n      idDeal,\n      menu,\n      defaultTab,\n      idClient,\n      pack,\n      client,\n      isView,\n      isCreate,\n    };\n\n    if (props.notValidBills) {\n      tabProps.notValidBills = utils.getDeepCopy(props.notValidBills);\n    }\n\n    if (props.needRemoveBillId) {\n      tabProps.needRemoveBillId = props.needRemoveBillId;\n    }\n\n    const items = [];\n\n    const isMenuDeal = menu.hasAttribute('js-menu-deal');\n\n    if (isMenuDeal) {\n      items.length = 0;\n      items.push(tabDealMenu);\n    } else {\n      items.length = 0;\n      items.push(tabClientMenu);\n    }\n\n    tabProps.tabBillObs = new BillTab();\n\n    const start = this.start.bind(this);\n    tabProps.start = start;\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(tabProps);\n    });\n  }\n\n  start(tabProps) {\n    const { billTabObserver } = tabProps;\n\n    const items = [billTabObserver];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(tabProps);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BillTab);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/tabs/content/billTab.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/tabs/content/billTab/events/billTabClientMenu.js":
/*!************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/tabs/content/billTab/events/billTabClientMenu.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass BillTabClientMenu {\n  init(tabProps) {\n    const { defaultTab, idClient, client } = tabProps;\n\n    const props = {\n      ...tabProps,\n      menu: document.querySelector('[js-menu-client-card]'),\n    };\n\n    const { menu } = props;\n\n    if (defaultTab === 'Сделки') {\n      const getDeals = _api_api_js__WEBPACK_IMPORTED_MODULE_0__.dealAPI.getDeals(idClient || client.id);\n\n      const span = utils.setPreloaderToTab();\n      const taskWrapper = menu.querySelector('[js-client-bills]');\n      taskWrapper.appendChild(span);\n\n      getDeals.then((deals) => {\n        if (deals.length) {\n          const getBills = this.getBillsData(deals);\n\n          getBills.then((data) => {\n            utils.unBlockTabs(props);\n            props.bills = data;\n            tabProps.start(props);\n          }, () => {\n            utils.unBlockTabs(props);\n          });\n        } else {\n          utils.unBlockTabs(props);\n          props.bills = [];\n          tabProps.start(props);\n        }\n      }, () => {\n        utils.unBlockTabs(props);\n      });\n    }\n  }\n\n  async getBillsData(deals) {\n    const billsArray = [];\n\n    for (let index = 0; index < deals.length; index++) {\n      const deal = deals[index];\n\n      const data = {\n        id: deal.id,\n      };\n\n      const bills = await _api_api_js__WEBPACK_IMPORTED_MODULE_0__.billAPI.getBills(data);\n\n      const getBillsArray = await this.getBillItems(bills);\n\n      if (getBillsArray.length) {\n        getBillsArray.forEach((item) => {\n          billsArray.push(item);\n        });\n      }\n    }\n\n    return billsArray;\n  }\n\n  async getBillItems(billsData) {\n    const billsItems = [];\n\n    for (let count = 0; count < billsData.length; count++) {\n      const bill = billsData[count];\n\n      await billsItems.push(bill);\n    }\n\n    return await billsItems;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BillTabClientMenu);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/tabs/content/billTab/events/billTabClientMenu.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/tabs/content/billTab/events/billTabDealMenu.js":
/*!**********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/tabs/content/billTab/events/billTabDealMenu.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _tabWrapper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tabWrapper.js */ \"./dev/static/js/platform/menu/items/crm/tabs/content/tabWrapper.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass BillTabDealMenu extends _tabWrapper_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  init(tabProps) {\n    const { deal, idDeal } = tabProps;\n\n    const props = {\n      ...tabProps,\n      menu: document.querySelector('[js-menu-deal]'),\n      defaultTab: 'Счета и платежи',\n    };\n\n    const { menu } = props;\n\n    if (props.defaultTab === 'Счета и платежи') {\n      const data = {\n        id: deal?.id || idDeal || deal,\n      };\n\n      const span = utils.setPreloaderToTab();\n      const billWrapper = menu.querySelector('[js-client-bills]');\n      billWrapper.appendChild(span);\n\n      if (data.id) {\n        const getData = this.getData(data, props);\n\n        getData.then((billData) => {\n          const [bills, templates] = billData;\n\n          props.bills = bills;\n          props.templates = templates;\n          tabProps.start(props);\n        });\n      } else {\n        this.noProduct(billWrapper);\n      }\n    }\n  }\n\n  async getData(data, props) {\n    const bills = await _api_api_js__WEBPACK_IMPORTED_MODULE_1__.billAPI.getBills(data);\n\n    const access = ['ROLE_MANAGER', 'ROLE_HEAD_MANAGER'];\n\n    let templates;\n\n    if (access.includes(props.pack.role)) {\n      templates = await _api_api_js__WEBPACK_IMPORTED_MODULE_1__.billAPI.getBillTemplates();\n    }\n\n    const arr = [];\n\n    arr.push(bills);\n\n    if (templates) {\n      arr.push(templates);\n    }\n\n    return arr;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BillTabDealMenu);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/tabs/content/billTab/events/billTabDealMenu.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/tabs/content/dealTab.js":
/*!***********************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/tabs/content/dealTab.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass DealTab {\n  init(tabPacks) {\n    const { idClient, client } = tabPacks;\n\n    const menu = document.querySelector('[js-menu-client-card]');\n\n    const span = utils.setPreloaderToTab();\n    const dealWrapper = menu.querySelector('[js-client-deals]');\n    dealWrapper.appendChild(span);\n\n    const getDeals = _api_api_js__WEBPACK_IMPORTED_MODULE_0__.dealAPI.getDeals(idClient || client.id);\n\n    getDeals.then((deals) => {\n      tabPacks.deals = this.sortingDeals(deals);\n\n      const dealTabObserver = tabPacks.dealTabObs;\n\n      const items = [dealTabObserver];\n\n      items.forEach((item) => {\n        const init = item.init.bind(item);\n        init(tabPacks);\n      });\n    });\n  }\n\n  sortingDeals(deals) {\n    return deals.sort((a, b) => b.id - a.id);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DealTab);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/tabs/content/dealTab.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/tabs/content/tabWrapper.js":
/*!**************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/tabs/content/tabWrapper.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass TabWrapper {\n  noProduct(wrapper) {\n    utils.removeChildren(wrapper);\n    const spanEmpty = document.createElement('span');\n    spanEmpty.classList.add('platform__empty');\n    spanEmpty.innerText = 'Нет продукта';\n\n    wrapper.appendChild(spanEmpty);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TabWrapper);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/tabs/content/tabWrapper.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/tabs/content/taskTab.js":
/*!***********************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/tabs/content/taskTab.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _taskTab_events_taskTabFromClientMenu_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./taskTab/events/taskTabFromClientMenu.js */ \"./dev/static/js/platform/menu/items/crm/tabs/content/taskTab/events/taskTabFromClientMenu.js\");\n/* harmony import */ var _taskTab_events_taskTabFromDealMenu_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./taskTab/events/taskTabFromDealMenu.js */ \"./dev/static/js/platform/menu/items/crm/tabs/content/taskTab/events/taskTabFromDealMenu.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\n\nconst taskTabFromClientMenu = new _taskTab_events_taskTabFromClientMenu_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst taskTabFromDealMenu = new _taskTab_events_taskTabFromDealMenu_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass TaskTab {\n  init(tabPack) {\n    const menu = utils.getActiveMenu();\n\n    tabPack.menu = menu;\n\n    const items = [];\n\n    if (menu.hasAttribute('js-menu-client-card')) {\n      items.length = 0;\n      items.push(taskTabFromClientMenu);\n    } else {\n      items.length = 0;\n      items.push(taskTabFromDealMenu);\n    }\n\n    tabPack.tabTaskObs = new TaskTab();\n    const start = this.start.bind(this);\n    tabPack.start = start;\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(tabPack);\n    });\n  }\n\n  start(tabPack) {\n    const { taskTabObserver } = tabPack;\n    const items = [taskTabObserver];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(tabPack);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TaskTab);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/tabs/content/taskTab.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/tabs/content/taskTab/events/taskTabFromClientMenu.js":
/*!****************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/tabs/content/taskTab/events/taskTabFromClientMenu.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass TaskTabFromClientMenu {\n  init(tabPack) {\n    const {\n      idClient,\n      menu,\n      client,\n    } = tabPack;\n\n    const getDeals = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.dealAPI.getDeals(idClient || client.id);\n\n    const taskItems = [];\n\n    const span = utils.setPreloaderToTab();\n    const taskWrapper = menu.querySelector('[js-client-tasks]');\n    taskWrapper.appendChild(span);\n\n    getDeals.then((deals) => {\n      deals.forEach((item) => {\n        if (item.reminders.length) {\n          item.reminders.forEach((elem) => {\n            taskItems.push(elem);\n          });\n        }\n      });\n\n      tabPack.tasks = [...taskItems];\n\n      tabPack.start(tabPack);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TaskTabFromClientMenu);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/tabs/content/taskTab/events/taskTabFromClientMenu.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/tabs/content/taskTab/events/taskTabFromDealMenu.js":
/*!**************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/tabs/content/taskTab/events/taskTabFromDealMenu.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _tabWrapper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tabWrapper.js */ \"./dev/static/js/platform/menu/items/crm/tabs/content/tabWrapper.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass TaskTabFromDealMenu extends _tabWrapper_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  init(tabPack) {\n    const { deal, menu, isChangeTab } = tabPack;\n\n    const span = utils.setPreloaderToTab();\n    const taskWrapper = menu.querySelector('[js-client-tasks]');\n    taskWrapper.appendChild(span);\n\n    if (deal && isChangeTab) {\n      const getTasks = this.getTasks(deal);\n\n      getTasks.then((tasks) => {\n        tabPack.tasks = tasks;\n        tabPack.isDealMenu = true;\n\n        tabPack.start(tabPack);\n      });\n    } else if (!deal && isChangeTab) {\n      this.noProduct(taskWrapper);\n    } else if (!isChangeTab && deal) {\n      tabPack.tasks = deal.reminders;\n      tabPack.isDealMenu = true;\n\n      tabPack.start(tabPack);\n    }\n  }\n\n  async getTasks(deal) {\n    const dealData = await _api_api_js__WEBPACK_IMPORTED_MODULE_1__.dealAPI.getDeal({ id: deal.id || deal });\n\n    return dealData.reminders;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TaskTabFromDealMenu);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/tabs/content/taskTab/events/taskTabFromDealMenu.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/tabs/events/tabChoice.js":
/*!************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/tabs/events/tabChoice.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass TabChoice {\n  init(tabsData) {\n    const { menu } = tabsData;\n\n    const tabsBtn = menu.querySelectorAll('.client-tab__item');\n\n    const tabPack = {\n      ...tabsData,\n    };\n\n    const changeTab = this.changeTab.bind(this, tabPack);\n\n    tabsBtn.forEach((item) => {\n      const tab = utils.setCloneElement(item);\n      tab.addEventListener('click', changeTab);\n    });\n  }\n\n  changeTab(tabsData, e) {\n    const { isView } = tabsData;\n    const t = e.target;\n    tabsData.target = t;\n    tabsData.isChangeTab = true;\n\n    const updateBillMenu = document.querySelector('.platform-update__bill');\n\n    if (updateBillMenu && updateBillMenu.classList.contains('active')) {\n      updateBillMenu.classList.remove('active');\n    }\n\n    this.changeActiveTab(tabsData);\n\n    const activeTab = tabsData.getActiveTab(tabsData);\n    tabsData.activeTab = activeTab;\n\n    tabsData.changeActiveContent(tabsData);\n\n    const tabs = tabsData.getTabs();\n\n    const instance = tabs.filter((el) => el.tab === activeTab)[0];\n\n    if (isView && instance.tab === 'Доступ к продукту') {\n      return false;\n    }\n\n    const initTab = instance.instance.init.bind(instance.instance);\n\n    initTab(tabsData);\n  }\n\n  changeActiveTab(tabsData) {\n    const { tabs, target } = tabsData;\n\n    Array.from(tabs.children).forEach((item) => {\n      item.classList.remove('active');\n    });\n\n    target.classList.add('active');\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TabChoice);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/tabs/events/tabChoice.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/tabs/events/tabDefault.js":
/*!*************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/tabs/events/tabDefault.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _observersTabs_dealTabObserver_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../observersTabs/dealTabObserver.js */ \"./dev/static/js/platform/menu/items/crm/tabs/observersTabs/dealTabObserver.js\");\n/* harmony import */ var _observersTabs_billTabObserver_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../observersTabs/billTabObserver.js */ \"./dev/static/js/platform/menu/items/crm/tabs/observersTabs/billTabObserver.js\");\n/* harmony import */ var _observersTabs_taskTabObserver_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../observersTabs/taskTabObserver.js */ \"./dev/static/js/platform/menu/items/crm/tabs/observersTabs/taskTabObserver.js\");\n/* harmony import */ var _content_dealTab_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../content/dealTab.js */ \"./dev/static/js/platform/menu/items/crm/tabs/content/dealTab.js\");\n\n\n\n\n\nconst billTabObserver = new _observersTabs_billTabObserver_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst taskTabObserver = new _observersTabs_taskTabObserver_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst dealTabObserver = new _observersTabs_dealTabObserver_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass TabDefault {\n  init(tabsData) {\n    if (tabsData.activeTab) {\n      tabsData.activeTab = tabsData.defaultTab;\n      tabsData.changeActiveContent(tabsData);\n    }\n\n    if (tabsData.isCreate) {\n      tabsData.activeTab = 'Счета и платежи';\n    }\n\n    const items = tabsData.getTabs();\n\n    const instance = items.find((el) => el.tab === tabsData.activeTab)?.instance;\n\n    tabsData.dealTabObs = dealTabObserver;\n    tabsData.dealObs = new _content_dealTab_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n    tabsData.billTabObserver = billTabObserver;\n    tabsData.taskTabObserver = taskTabObserver;\n\n    instance.init(tabsData);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TabDefault);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/tabs/events/tabDefault.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/tabs/observersTabs/billTabObserver.js":
/*!*************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/tabs/observersTabs/billTabObserver.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _bill_bill_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../bill/bill.js */ \"./dev/static/js/platform/menu/items/crm/bill/bill.js\");\n\n\nconst bill = new _bill_bill_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass BillTabObserver {\n  init(props) {\n    const items = [bill];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(props);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BillTabObserver);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/tabs/observersTabs/billTabObserver.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/tabs/observersTabs/dealTabObserver.js":
/*!*************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/tabs/observersTabs/dealTabObserver.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _dealCard_dealCard_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../dealCard/dealCard.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/dealCard.js\");\n\n\nconst dealCard = new _dealCard_dealCard_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass DealTabObserver {\n  init(tabPacks) {\n    const items = [dealCard];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(tabPacks);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DealTabObserver);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/tabs/observersTabs/dealTabObserver.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/tabs/observersTabs/taskTabObserver.js":
/*!*************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/tabs/observersTabs/taskTabObserver.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _task_task_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../task/task.js */ \"./dev/static/js/platform/menu/items/crm/task/task.js\");\n\n\nconst task = new _task_task_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass TaskTabObserver {\n  init(taskPack) {\n    const items = [task];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(taskPack);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TaskTabObserver);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/tabs/observersTabs/taskTabObserver.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/tabs/tabs.js":
/*!************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/tabs/tabs.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _content_dealTab_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./content/dealTab.js */ \"./dev/static/js/platform/menu/items/crm/tabs/content/dealTab.js\");\n/* harmony import */ var _content_billTab_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./content/billTab.js */ \"./dev/static/js/platform/menu/items/crm/tabs/content/billTab.js\");\n/* harmony import */ var _content_taskTab_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./content/taskTab.js */ \"./dev/static/js/platform/menu/items/crm/tabs/content/taskTab.js\");\n/* harmony import */ var _content_accessTab_accessTab_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./content/accessTab/accessTab.js */ \"./dev/static/js/platform/menu/items/crm/tabs/content/accessTab/accessTab.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _events_tabChoice_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./events/tabChoice.js */ \"./dev/static/js/platform/menu/items/crm/tabs/events/tabChoice.js\");\n/* harmony import */ var _events_tabDefault_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./events/tabDefault.js */ \"./dev/static/js/platform/menu/items/crm/tabs/events/tabDefault.js\");\n\n\n\n\n\n\n\n\n\nconst tabDefault = new _events_tabDefault_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\nconst tabChoice = new _events_tabChoice_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n\nconst dealTab = new _content_dealTab_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst billTab = new _content_billTab_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst taskTab = new _content_taskTab_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst accessTab = new _content_accessTab_accessTab_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass Tabs {\n  init(props) {\n    const { menu } = props;\n\n    const tabsData = this.#getProps(props);\n\n    this.#showTabs(menu);\n\n    this.#setTabs(tabsData);\n  }\n\n  #showTabs(menu) {\n    const tabs = menu.querySelector('.client-card__tabs');\n\n    if (tabs) {\n      tabs.style.opacity = 1;\n      tabs.style.pointerEvents = 'all';\n    }\n  }\n\n  #getProps(props) {\n    const {\n      idClient,\n      defaultTab,\n      deal,\n      idDeal,\n      activeTab,\n      menu,\n      deals,\n      isView,\n      pack,\n      client,\n      user,\n      isCreate,\n      isChangeTab,\n      rowEventsObs,\n      clientCardObs,\n      rerenderContent,\n    } = props;\n\n    return {\n      defaultTab,\n      idClient,\n      pack,\n      deal,\n      activeTab,\n      idDeal,\n      menu,\n      user: user || null,\n      deals,\n      isView,\n      client,\n      isCreate,\n      isChangeTab,\n      rowEventsObs,\n      clientCardObs,\n      rerenderContent,\n    };\n  }\n\n  #setTabs(tabsData) {\n    const { isView, activeTab } = tabsData;\n\n    const accessTabItem = document.querySelector('[data-content=\"Доступ к продукту\"]');\n\n    if (isView) {\n      accessTabItem.style.display = 'none';\n    } else {\n      accessTabItem.style.display = 'list-item';\n    }\n\n    this.#propsAdded(tabsData, activeTab);\n    this.#setDefaultTab(tabsData);\n\n    const items = [\n      tabDefault,\n      tabChoice,\n    ];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(tabsData);\n    });\n  }\n\n  #propsAdded(tabsData, activeTab) {\n    let { menu } = tabsData;\n\n    menu = menu || utils.getActiveMenu(tabsData);\n\n    tabsData.menu = menu;\n\n    const tabs = menu.querySelector('.client-card__tabs');\n\n    if (tabs) {\n      tabs.style.display = 'flex';\n      tabsData.tabs = tabs;\n    }\n\n    const enableTab = activeTab || this.getActiveTab(tabsData);\n    tabsData.activeTab = enableTab;\n\n    this.changeActiveContent(tabsData);\n\n    tabsData.tabsObs = new Tabs();\n\n    const getTabs = this.getTabs.bind(this);\n    tabsData.getTabs = getTabs;\n\n    const getActiveTab = this.getActiveTab.bind(this);\n    tabsData.getActiveTab = getActiveTab;\n\n    const changeActiveContent = this.changeActiveContent.bind(this);\n    tabsData.changeActiveContent = changeActiveContent;\n  }\n\n  #setDefaultTab(tabsData) {\n    const { tabs, defaultTab } = tabsData;\n\n    if (tabs) {\n      Array.from(tabs.children).forEach((item) => {\n        item.classList.remove('active');\n\n        if (item.getAttribute('data-content') === defaultTab) {\n          item.classList.add('active');\n        }\n      });\n    }\n  }\n\n  getActiveTab(tabsData) {\n    const { tabs } = tabsData;\n\n    const active = Array.from(tabs.children).filter((el) => el.classList.contains('active'))[0];\n\n    if (active) {\n      return active.getAttribute('data-content');\n    }\n  }\n\n  getTabs() {\n    return [\n      {\n        instance: dealTab,\n        tab: 'Сделки',\n      },\n      {\n        instance: billTab,\n        tab: 'Счета и платежи',\n      },\n      {\n        instance: taskTab,\n        tab: 'Задачи',\n      },\n      {\n        instance: accessTab,\n        tab: 'Доступ к продукту',\n      },\n    ];\n  }\n\n  changeActiveContent(tabsData) {\n    const { menu, activeTab } = tabsData;\n\n    const contents = menu.querySelectorAll('.client-card__content');\n\n    contents.forEach((item) => {\n      utils.removeChildren(item);\n      item.style.display = 'none';\n\n      if (item.getAttribute('data-content') === activeTab) {\n        item.style.display = 'flex';\n      }\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Tabs);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/tabs/tabs.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/task/events/addTask/addTask.js":
/*!******************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/task/events/addTask/addTask.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n/* harmony import */ var _modules_tooltip_tooltip_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../modules/tooltip/tooltip.js */ \"./dev/static/js/platform/modules/tooltip/tooltip.js\");\n/* harmony import */ var _taskObserver_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../taskObserver.js */ \"./dev/static/js/platform/menu/items/crm/task/events/taskObserver.js\");\n/* harmony import */ var _modules_datepicker_datepicker_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../modules/datepicker/datepicker.js */ \"./dev/static/js/platform/modules/datepicker/datepicker.js\");\n/* harmony import */ var _events_afterSaveTask_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./events/afterSaveTask.js */ \"./dev/static/js/platform/menu/items/crm/task/events/addTask/events/afterSaveTask.js\");\n\n\n\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst tooltip = new _modules_tooltip_tooltip_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst afterSaveTask = new _events_afterSaveTask_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\nconst datepicker = new _modules_datepicker_datepicker_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\n\nclass AddTask extends _taskObserver_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"] {\n  constructor() {\n    super();\n  }\n\n  init(props) {\n    const { menu } = props;\n\n    if (menu) {\n      const addButton = menu.querySelector('[task-new-btn]');\n\n      if (addButton) {\n        const addTask = this.addTask.bind(this, props);\n        const add = utils.setCloneElement(addButton);\n\n        add.addEventListener('click', addTask);\n      }\n\n      const date = menu.querySelector('.menu-tasks__datepicker');\n\n      if (date) {\n        const dateInput = utils.setCloneElement(date);\n        const changeDate = this.changeDate.bind(this, props);\n\n        this.arr = [];\n\n        dateInput.addEventListener('input', changeDate);\n\n        this.setDatepicker(props);\n      }\n    }\n  }\n\n  setDatepicker(props) {\n    const { menu } = props;\n\n    const dateRequest = menu.querySelector('[date-request]').value;\n    datepicker.init(props);\n\n    menu.querySelector('[date-request]').value = dateRequest;\n  }\n\n  changeDate(props, e) {\n    const t = e.target;\n\n    const tooltipListener = tooltip.tooltipListener.bind(this);\n    tooltipListener('tooltip__date-task');\n\n    if (!validation.validateDate(t.value)) {\n      const startTimeoutHint = this.hintTimeOut(t);\n      this.arr.push(startTimeoutHint);\n    }\n  }\n\n  hintTimeOut(t) {\n    const setHint = tooltip.tooltipInit.bind(this, t, 'tooltip__date-task');\n    return setTimeout(setHint, 900);\n  }\n\n  addTask(props, e) {\n    const { menu, deal } = props;\n    const t = e.target;\n\n    const form = menu.querySelector('.menu-tasks__form');\n    const date = form.querySelector('.menu-tasks__datepicker').value.trim();\n\n    if (validation.validateTask(form) && validation.validateDate(date)) {\n      t.style.pointerEvents = 'none';\n\n      const data = {\n        idDeal: deal.id || deal,\n        reminderDate: date,\n        reminderMessage: form.querySelector('[js-task-message]').value.trim(),\n      };\n\n      const saveTask = _api_api_js__WEBPACK_IMPORTED_MODULE_0__.taskAPI.saveTask(data);\n\n      saveTask.then(\n        (saved) => {\n          props.target = t;\n          const updateInTable = this.updateInTable.bind(this);\n          props.updateInTable = updateInTable;\n\n          const items = [afterSaveTask];\n\n          if (typeof deal === 'number') {\n            const id = deal;\n\n            props.deal = {\n              id,\n              reminders: [],\n            };\n\n            this.addReminder(props, saved);\n          } else {\n            this.addReminder(props, saved);\n          }\n\n          items.forEach((item) => {\n            const init = item.init.bind(item);\n            init(props);\n          });\n        },\n        () => {\n          t.style.pointerEvents = 'all';\n        },\n      );\n    }\n  }\n\n  addReminder(props, saved) {\n    const currentDeal = props.pack.items.find((el) => el.id === props.deal.id);\n\n    if (currentDeal) {\n      currentDeal.reminders.push(saved);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddTask);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/task/events/addTask/addTask.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/task/events/addTask/events/afterSaveTask.js":
/*!*******************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/task/events/addTask/events/afterSaveTask.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nconst DEALS = 'deals';\nconst TRANSACTIONS = 'transactions';\nconst HEAD_MANAGER_TRANSACTIONS = 'head-manager-transactions';\n\nclass AfterSaveTask {\n  init(props) {\n    const { target } = props;\n    const updateInDealCard = props.tabTaskObs;\n    const updateInClientCard = props.dealObs;\n\n    const items = [updateInDealCard, updateInClientCard];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(props);\n    });\n\n    const access = [DEALS, TRANSACTIONS, HEAD_MANAGER_TRANSACTIONS];\n\n    if (access.includes(utils.getPage())) {\n      props.updateInTable(props);\n    }\n\n    target.style.pointerEvents = 'none';\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AfterSaveTask);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/task/events/addTask/events/afterSaveTask.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/task/events/doneTask/doneTask.js":
/*!********************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/task/events/doneTask/doneTask.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _taskObserver_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../taskObserver.js */ \"./dev/static/js/platform/menu/items/crm/task/events/taskObserver.js\");\n/* harmony import */ var _events_afterCompleteTask_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./events/afterCompleteTask.js */ \"./dev/static/js/platform/menu/items/crm/task/events/doneTask/events/afterCompleteTask.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n\n\n\n\n\n\nconst afterCompleteTask = new _events_afterCompleteTask_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n\nclass DoneTask extends _taskObserver_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  constructor() {\n    super();\n  }\n\n  init(props) {\n    const { menu } = props;\n\n    if (menu) {\n      const completeBtn = menu.querySelectorAll('.task__complete');\n\n      if (completeBtn.length) {\n        const completeTask = this.completeTask.bind(this, props);\n\n        completeBtn.forEach((item) => {\n          const complete = utils.setCloneElement(item);\n          complete.addEventListener('click', completeTask);\n        });\n      }\n    }\n  }\n\n  completeTask(props, e) {\n    const t = e.target;\n    props.target = t;\n\n    const acceptRequest = this.accept.bind(this, props);\n\n    const popupProps = {\n      text: 'Вы действительно хотите завершить эту задачу?',\n      settings: null,\n      title: null,\n      ok: acceptRequest,\n      cancel: null,\n      target: t,\n    };\n\n    popup.init(popupProps);\n  }\n\n  accept(props) {\n    const { target } = props;\n\n    const task = utils.getParent(target, 'task__item');\n\n    const data = {\n      id: +task.getAttribute('data-id'),\n      isDone: true,\n    };\n\n    props.completedTask = data.id;\n\n    target.style.pointerEvents = 'none';\n\n    _api_api_js__WEBPACK_IMPORTED_MODULE_0__.taskAPI.completeTask(data).then(() => {\n      target.style.pointerEvents = 'all';\n      const tabsObserver = props.tabTaskObs;\n      const updateInTable = this.updateInTable.bind(this);\n      props.updateInTable = updateInTable;\n\n      const items = [afterCompleteTask, tabsObserver];\n\n      items.forEach((item) => {\n        const init = item.init.bind(item);\n        init(props);\n      });\n    }, () => {\n      target.style.pointerEvents = 'all';\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DoneTask);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/task/events/doneTask/doneTask.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/task/events/doneTask/events/afterCompleteTask.js":
/*!************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/task/events/doneTask/events/afterCompleteTask.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass AfterCompleteTask {\n  init(props) {\n    const currentDeal = props.pack.items.find((el) => el.id === props.deal.id);\n\n    if (currentDeal) {\n      currentDeal.reminders = currentDeal.reminders.map((el) => {\n        if (el.id === props.completedTask) {\n          el.done = true;\n        }\n\n        return el;\n      });\n    }\n\n    const updateInDealCard = props.dealObs.init.bind(props.dealObs);\n    updateInDealCard(props);\n\n    const access = ['deals', 'transactions', 'head-manager-transaction'];\n\n    if (access.includes(utils.getPage())) {\n      props.updateInTable(props);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AfterCompleteTask);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/task/events/doneTask/events/afterCompleteTask.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/task/events/removeTask/removeTask.js":
/*!************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/task/events/removeTask/removeTask.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _taskObserver_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../taskObserver.js */ \"./dev/static/js/platform/menu/items/crm/task/events/taskObserver.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nconst DEALS = 'deals';\nconst TRANSACTIONS = 'transactions';\nconst HEAD_MANAGER_TRANSACTIONS = 'head-manager-transactions';\n\nclass RemoveTask extends _taskObserver_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  constructor() {\n    super();\n  }\n\n  init(props) {\n    const { menu } = props;\n\n    if (menu) {\n      const removeBtns = menu.querySelectorAll('.task__remove');\n\n      if (removeBtns.length) {\n        const removeTask = this.removeTask.bind(this, props);\n\n        removeBtns.forEach((item) => {\n          const remove = utils.setCloneElement(item);\n\n          remove.addEventListener('click', removeTask);\n        });\n      }\n    }\n  }\n\n  removeTask(props, e) {\n    const t = e.target;\n    props.target = t;\n\n    const acceptRequest = this.acceptRemove.bind(this, props);\n\n    const popupProps = {\n      text: 'Вы действительно хотите удалить эту задачу ?',\n      settings: null,\n      title: null,\n      ok: acceptRequest,\n      cancel: null,\n      target: t,\n    };\n\n    popup.init(popupProps);\n  }\n\n  acceptRemove(props) {\n    const { target } = props;\n\n    const taskId = +utils.getParent(target, 'task__item').getAttribute('data-id');\n\n    target.style.pointerEvents = 'none';\n\n    _api_api_js__WEBPACK_IMPORTED_MODULE_1__.taskAPI.deleteTask(taskId).then(() => {\n      target.style.pointerEvents = 'all';\n\n      const currentItem = props.pack.items.find((el) => el.id === props.deal.id);\n\n      if (currentItem) {\n        currentItem.reminders = currentItem.reminders.filter((el) => el.id !== taskId);\n      }\n\n      const updateInDealCard = props.dealObs.init.bind(props.dealObs);\n      updateInDealCard(props);\n\n      const access = [DEALS, TRANSACTIONS, HEAD_MANAGER_TRANSACTIONS];\n\n      if (access.includes(utils.getPage())) {\n        this.updateInTable(props);\n      }\n\n      props.tabTaskObs.init(props);\n    }, () => {\n      target.style.pointerEvents = 'all';\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RemoveTask);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/task/events/removeTask/removeTask.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/task/events/taskObserver.js":
/*!***************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/task/events/taskObserver.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _dealCard_templates_templates_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../dealCard/templates/templates.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/templates/templates.js\");\n\n\nconst dealTemplates = new _dealCard_templates_templates_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass TaskObserver {\n  updateInTable(props) {\n    const {\n      deal,\n      pack,\n      rowEventsObs,\n      clientCardObs,\n      rerenderContent,\n    } = props;\n\n    const renderData = {\n      deal,\n      pack,\n    };\n\n    const tr = document.createElement('tr');\n    tr.classList.add('platform-table__row');\n    tr.setAttribute('data-deal', deal.id);\n    tr.setAttribute('data-client', deal.idClient);\n    tr.innerHTML = dealTemplates.dealRow(renderData);\n\n    if (rowEventsObs && clientCardObs && rerenderContent) {\n      rerenderContent.init(props).then(() => {\n        rowEventsObs.init(props);\n        clientCardObs.init(props);\n      });\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TaskObserver);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/task/events/taskObserver.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/task/task.js":
/*!************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/task/task.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _taskEvents_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./taskEvents.js */ \"./dev/static/js/platform/menu/items/crm/task/taskEvents.js\");\n/* harmony import */ var _templates_taskTemplates_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./templates/taskTemplates.js */ \"./dev/static/js/platform/menu/items/crm/task/templates/taskTemplates.js\");\n\n\n\n\nconst taskTemplates = new _templates_taskTemplates_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst taskEvents = new _taskEvents_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass Task {\n  init(taskPack) {\n    const props = this.getProps(taskPack);\n    const render = this.render(taskPack);\n\n    render.then(() => {\n      const items = [taskEvents];\n\n      items.forEach((item) => {\n        const init = item.init.bind(item);\n        init(props);\n      });\n    });\n  }\n\n  getProps(taskPack) {\n    const { isDealMenu, deal } = taskPack;\n\n    let menu;\n\n    if (isDealMenu) {\n      menu = document.querySelector('[js-menu-deal]');\n    } else {\n      menu = document.querySelector('[js-menu-client-card]');\n    }\n\n    taskPack.menu = menu;\n\n    if (deal) {\n      taskPack.tasks = taskPack.pack.items.find((el) => el.id === deal.id).reminders;\n    }\n\n    return utils.getDeepCopy(taskPack);\n  }\n\n  async render(props) {\n    const {\n      menu,\n      tasks,\n      idClient,\n      isDealMenu,\n      isView,\n    } = props;\n\n    const tasksWrapper = menu.querySelector('[js-client-tasks]');\n\n    utils.removeChildren(tasksWrapper);\n\n    if (tasks?.length) {\n      const taskSorted = utils.sortingArrayTasks(tasks);\n\n      taskSorted.forEach(async (item) => {\n        const div = document.createElement('div');\n        div.classList.add('task__item');\n        div.setAttribute('data-deal', item.idDeal);\n        div.setAttribute('data-client', idClient);\n        div.setAttribute('data-id', item.id);\n        div.innerHTML = taskTemplates.renderTask(item, isView);\n\n        await tasksWrapper.appendChild(div);\n      });\n    } else if ((!tasks?.length && !isDealMenu) || (!tasks?.length && isView)) {\n      const span = document.createElement('span');\n      span.classList.add('platform__empty');\n      span.innerText = 'Нет задач...';\n      tasksWrapper.appendChild(span);\n    }\n\n    if (isDealMenu && !isView) {\n      const div = document.createElement('div');\n      div.classList.add('menu__tasks');\n\n      if (tasks.length) {\n        div.classList.add('full');\n      }\n\n      div.innerHTML = taskTemplates.taskNav(props);\n\n      await tasksWrapper.appendChild(div);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Task);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/task/task.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/task/taskEvents.js":
/*!******************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/task/taskEvents.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_addTask_addTask_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/addTask/addTask.js */ \"./dev/static/js/platform/menu/items/crm/task/events/addTask/addTask.js\");\n/* harmony import */ var _events_doneTask_doneTask_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/doneTask/doneTask.js */ \"./dev/static/js/platform/menu/items/crm/task/events/doneTask/doneTask.js\");\n/* harmony import */ var _events_removeTask_removeTask_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events/removeTask/removeTask.js */ \"./dev/static/js/platform/menu/items/crm/task/events/removeTask/removeTask.js\");\n\n\n\n\nconst addTask = new _events_addTask_addTask_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst doneTask = new _events_doneTask_doneTask_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst removeTask = new _events_removeTask_removeTask_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass TaskEvents {\n  init(props) {\n    const items = [addTask, doneTask, removeTask];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(props);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TaskEvents);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/task/taskEvents.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/crm/task/templates/taskTemplates.js":
/*!*******************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/crm/task/templates/taskTemplates.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass TaskTemplates {\n    renderTask(task, isView) {\n        const isDealCard = document.querySelector('[js-menu-deal]').classList.contains('open');\n\n        // eslint-disable-next-line\n        const taskStatus = task.done ? 'done' : task.reminderToday ? 'today' : task.reminderExpiration ? 'off' : 'on';\n\n        return `\n        <div class=\"task__left\">\n        <div class=\"task__status ${taskStatus}\"></div>\n        <div class=\"task__create-info\">\n            <p class=\"info__title\">Создана</p>\n            <div class=\"info__when\">\n                <span class=\"info__when--day\">${utils.getDateFormatDDMMYYYY(task.reminderDate)}</span>\n                <span class=\"info__when--time\"></span>\n            </div>\n        </div>\n        </div>\n        <div class=\"task__action\">\n            <p class=\"action__title\">Действие</p>\n            <p class=\"action__name\">${task.reminderMessage}</p>\n        </div>\n        ${isDealCard\n            ? ''\n            : `<div class=\"task__deal\">\n                <p class=\"deal__title\">Сделка</p>\n                <p class=\"deal__name\">${task.course ? task.course : 'Продукт не выбран'}</p>\n              </div>`\n            }\n            ${\n                // eslint-disable-next-line\n                isDealCard && !isView ?\n                !task.done\n                ? `\n                    <div class=\"task__nav\">\n                        <div class=\"task__complete\">Завершить</div>\n                        <div class=\"task__remove\"></div>\n                    </div>\n                `\n                : `\n            <div class=\"task__nav\">\n                <div class=\"task__remove\"></div>\n            </div>\n            `\n            : ''}\n    `;\n    }\n\n    taskNav() {\n        return `\n            <div class=\"menu-tasks__add\">\n                <form class=\"menu-tasks__form\">\n                    <div class=\"menu-tasks__calendar\">\n                        <p class=\"menu-tasks__title\">Новая задача</p>\n                        <input autocomplete=\"off\" js-task-date type=\"text\" required name=\"taskDate\"\n                              placeholder=\"Выберите дату\"\n                              class=\"datepicker-here-start menu-tasks__datepicker menu-input__wrapper_cal\">\n                    </div>\n                    <div class=\"menu-tasks__control\">\n                        <input autocomplete=\"off\" type=\"text\" js-task-message required name=\"taskMessage\"\n                              class=\"menu-tasks__text\" placeholder=\"Введите текст\">\n                        <button type=\"button\" task-new-btn class=\"menu-tasks__btn\">Добавить задачу</button>\n                    </div>\n                </form>\n            </div>\n        `;\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TaskTemplates);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/crm/task/templates/taskTemplates.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/marketing/events/addLink/addLink.js":
/*!*******************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/marketing/events/addLink/addLink.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_saveLink_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/saveLink.js */ \"./dev/static/js/platform/menu/items/marketing/events/addLink/events/saveLink.js\");\n/* harmony import */ var _events_closeTunnelMenu_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/closeTunnelMenu.js */ \"./dev/static/js/platform/menu/items/marketing/events/addLink/events/closeTunnelMenu.js\");\n\n\n\nconst saveLink = new _events_saveLink_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst closeTunnelMenu = new _events_closeTunnelMenu_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass AddLink {\n  init(props) {\n    const items = [saveLink, closeTunnelMenu];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(props);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddLink);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/marketing/events/addLink/addLink.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/marketing/events/addLink/events/closeTunnelMenu.js":
/*!**********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/marketing/events/addLink/events/closeTunnelMenu.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass CloseTunnelMenu {\n  init(props) {\n    const addLinkProps = {\n      ...props,\n      menu: document.querySelector('[js-menu-add-outside]'),\n    };\n\n    const { menu } = addLinkProps;\n\n    if (menu) {\n      const closeBtn = menu.querySelector('[js-menu-add-outside-close-btn]');\n\n      if (closeBtn) {\n        const close = utils.setCloneElement(closeBtn);\n\n        const closeMenu = this.closeMenu.bind(this, addLinkProps);\n        close.addEventListener('click', closeMenu);\n      }\n    }\n  }\n\n  closeMenu(props) {\n    const { menu } = props;\n\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n\n    utils.closeModalAnimation(menu, wrapper, false, false);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CloseTunnelMenu);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/marketing/events/addLink/events/closeTunnelMenu.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/marketing/events/addLink/events/saveLink.js":
/*!***************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/marketing/events/addLink/events/saveLink.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _modules_select_select_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../modules/select/select.js */ \"./dev/static/js/platform/modules/select/select.js\");\n/* harmony import */ var _crm_dealCard_deal_events_afterGetDeal_interfaces_interfaceDealType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../crm/dealCard/deal/events/afterGetDeal/interfaces/interfaceDealType.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/interfaces/interfaceDealType.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\n\nconst select = new _modules_select_select_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst interfaceDealType = new _crm_dealCard_deal_events_afterGetDeal_interfaces_interfaceDealType_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass SaveLink {\n  init(props) {\n    const addLinkProps = {\n      ...props,\n      menu: document.querySelector('[js-menu-add-outside]'),\n    };\n\n    const { menu } = addLinkProps;\n\n    if (menu) {\n      utils.openModalAnimation(menu, true);\n\n      const getSelectProps = this.getSelectProps(menu);\n\n      getSelectProps.then((selectsArray) => {\n        addLinkProps.selectsArray = selectsArray;\n\n        const setSelect = select.init(addLinkProps);\n\n        setSelect.then(() => {\n          interfaceDealType.change(addLinkProps);\n        });\n      });\n    }\n  }\n\n  async getSelectProps(menu) {\n    const selectsArray = [];\n\n    const selects = menu.querySelectorAll('[select-here]');\n\n    if (selects.length) {\n      selects.forEach(async (item) => {\n        utils.removeChildren(item, 0);\n\n        const type = item.getAttribute('data-select-type');\n\n        const selectProps = {\n          mode: 'custom',\n          type,\n          required: true,\n          placeholder: null,\n          item,\n        };\n\n        switch (type) {\n          case 'select-deal-type': {\n            selectProps.placeholder = 'Выберите тип продажи';\n            selectProps.name = 'dealType';\n            break;\n          }\n          case 'select-funnel': {\n            selectProps.placeholder = 'Выберите воронку';\n            selectProps.name = 'funnel';\n            break;\n          }\n          default: {\n            break;\n          }\n        }\n\n        await selectsArray.push(selectProps);\n      });\n    }\n\n    return selectsArray;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SaveLink);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/marketing/events/addLink/events/saveLink.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/marketing/marketing.js":
/*!******************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/marketing/marketing.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_addLink_addLink_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/addLink/addLink.js */ \"./dev/static/js/platform/menu/items/marketing/events/addLink/addLink.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/utils/utils.js\");\n\n\n\nconst addLink = new _events_addLink_addLink_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass Marketing {\n  init(props) {\n    const addLinkBtn = document.querySelector('[js-add-outside-link]');\n\n    if (addLinkBtn) {\n      const cloneAddBtn = utils.setCloneElement(addLinkBtn);\n      const add = addLink.init.bind(addLink, props);\n\n      cloneAddBtn.addEventListener('click', add);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Marketing);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/marketing/marketing.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/monitor/events/changeBackground.js":
/*!******************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/monitor/events/changeBackground.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass MonitorBackground {\n  init(props) {\n    /* Настраиваем бэкграунд монитора */\n    const monitorSettingsBtn = document.querySelector('[js-update-background]');\n\n    const monitorSettingsMenu = document.querySelector('[js-menu-update-background]');\n\n    if (monitorSettingsMenu) {\n      if (monitorSettingsBtn) {\n        const changeBackground = this.changeBackground.bind(this, monitorSettingsMenu, props);\n        monitorSettingsBtn.addEventListener('click', changeBackground);\n      }\n\n      /* Закрываем меню обновления фона монитора */\n      const closeBtn = monitorSettingsMenu.querySelector('[js-menu-update-background-close-btn]');\n\n      const closeUpdateBg = this.closeMonitorBackgroundUpdate.bind(this, monitorSettingsMenu);\n      closeBtn.addEventListener('click', closeUpdateBg);\n\n      /* Сохраняем новый фон */\n      const saveBtn = monitorSettingsMenu.querySelector('[js-save-background]');\n\n      const saveBackground = this.saveBackground.bind(this, monitorSettingsMenu, props);\n      const save = utils.setCloneElement(saveBtn);\n      save.addEventListener('click', saveBackground);\n    }\n  }\n\n  closeMonitorBackgroundUpdate(menu, button) {\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n\n    utils.closeModalAnimation(menu, wrapper, false, false, false, button);\n  }\n\n  saveBackground(menu, props, e) {\n    const t = e.target;\n\n    const data = {\n      idCompany: props.pack.filter.idCompany,\n      color: menu.querySelector('[name=\"color\"]').value,\n    };\n\n    const changeBackground = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.monitorAPI.changeBackground(data);\n    utils.showLoader();\n\n    t.style.pointerEvents = 'none';\n\n    changeBackground.then(\n      () => {\n        const monitor = document.querySelector('body');\n\n        monitor.style.backgroundColor = `${data.color}`;\n\n        this.closeMonitorBackgroundUpdate(menu, t);\n        document.body.style.overflow = 'auto';\n        utils.hideLoader();\n        t.style.pointerEvents = 'all';\n      },\n      () => {\n        utils.hideLoader();\n        t.style.pointerEvents = 'all';\n        document.body.style.overflow = 'auto';\n      },\n    );\n  }\n\n  changeBackground(menu, props) {\n    const { pack } = props;\n    const { filter } = pack;\n    const { idCompany } = filter;\n\n    const data = {\n      id: idCompany,\n    };\n\n    const openMenu = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.monitorAPI.getCompanyBg(data);\n\n    openMenu.then((colorInfo) => {\n      utils.hideLoader();\n\n      const background = menu.querySelector('[background-color]');\n      background.value = colorInfo.color;\n\n      utils.openModalAnimation(menu, true);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MonitorBackground);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/monitor/events/changeBackground.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/monitor/events/hoverTooltip.js":
/*!**************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/monitor/events/hoverTooltip.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass HoverTooltipActionBanner {\n  init() {\n    const tooltips = document.querySelectorAll('[tooltip-action]');\n\n    if (tooltips.length) {\n      const showTooltip = this.showTooltip.bind(this);\n      const hideTooltip = this.hideTooltip.bind(this);\n\n      tooltips.forEach((item) => {\n        item.addEventListener('mouseover', showTooltip);\n        item.addEventListener('mouseleave', hideTooltip);\n      });\n    }\n  }\n\n  showTooltip(e) {\n    const t = e.target;\n\n    const tooltipItem = t.hasAttribute('tooltip-action') ? t : utils.getParent(t, 'tile__tooltip');\n\n    if (tooltipItem) {\n      const tooltipMessage = tooltipItem.querySelector('.action-banner__tooltip');\n\n      if (tooltipMessage) {\n        tooltipMessage.style.position = 'fixed';\n        tooltipMessage.style.top = `${tooltipItem.getBoundingClientRect().top - tooltipMessage.offsetHeight - 10}px`;\n        tooltipMessage.style.left = `${tooltipItem.getBoundingClientRect().right}px`;\n        tooltipMessage.style.opacity = '1';\n        tooltipMessage.style.transform = 'translateX(-100%)';\n      }\n    }\n  }\n\n  hideTooltip(e) {\n    const t = e.target;\n\n    const tooltipItem = t.hasAttribute('tooltip-action') ? t : utils.getParent(t, 'tile__tooltip');\n\n    if (tooltipItem) {\n      const tooltipMessage = tooltipItem.querySelector('.action-banner__tooltip');\n\n      if (tooltipMessage) {\n        tooltipMessage.style.opacity = '0';\n      }\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (HoverTooltipActionBanner);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/monitor/events/hoverTooltip.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/monitor/events/monitorEvents.js":
/*!***************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/monitor/events/monitorEvents.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _changeBackground_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./changeBackground.js */ \"./dev/static/js/platform/menu/items/monitor/events/changeBackground.js\");\n/* harmony import */ var _tabs_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tabs.js */ \"./dev/static/js/platform/menu/items/monitor/events/tabs.js\");\n/* harmony import */ var _resizeImg_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./resizeImg.js */ \"./dev/static/js/platform/menu/items/monitor/events/resizeImg.js\");\n/* harmony import */ var _hoverTooltip_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./hoverTooltip.js */ \"./dev/static/js/platform/menu/items/monitor/events/hoverTooltip.js\");\n\n\n\n\n\nconst monitorBg = new _changeBackground_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst monitorTabs = new _tabs_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst resizeImg = new _resizeImg_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst hoverTooltipActionBanner = new _hoverTooltip_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass MonitorEvents {\n  init(props) {\n    const items = [monitorBg, monitorTabs, resizeImg, hoverTooltipActionBanner];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(props);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MonitorEvents);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/monitor/events/monitorEvents.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/monitor/events/resizeImg.js":
/*!***********************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/monitor/events/resizeImg.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass ResizeImg {\n  init(props) {\n    this.checkSizeImg(props);\n  }\n\n  checkSizeImg() {\n    const monitor = ['monitor', 'monitor-control', 'manager-monitor', 'examiner-control'];\n\n    const page = utils.getPage();\n\n    if (monitor.includes(page)) {\n      const preview = document.querySelectorAll('.avatar img');\n      const photos = document.querySelectorAll('.c-tooltip__avatar img');\n      const logoutAvatar = document.querySelector('.platform-logout__image img');\n\n      if (preview.length) {\n        utils.adaptivePhotos(preview);\n      }\n\n      if (photos.length) {\n        utils.adaptivePhotos(photos);\n      }\n\n      if (logoutAvatar) {\n        utils.adaptivePhotos(logoutAvatar);\n      }\n    } else {\n      return false;\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ResizeImg);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/monitor/events/resizeImg.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/monitor/events/tabs.js":
/*!******************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/monitor/events/tabs.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass Tabs {\n  init() {\n    this.changeFilterTab();\n  }\n\n  changeFilterTab() {\n    /* Жмем на табы */\n    const tabs = document.querySelectorAll('[filter-parameter]');\n\n    const form = document.querySelector('.content-main__panel-side');\n    const filterFormSubmit = this.filterFormSubmit.bind(this, form);\n\n    tabs.forEach((item) => {\n      item.addEventListener('change', filterFormSubmit);\n    });\n  }\n\n  filterFormSubmit(form) {\n    form.submit();\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Tabs);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/monitor/events/tabs.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/monitor/monitor.js":
/*!**************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/monitor/monitor.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_monitorEvents_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/monitorEvents.js */ \"./dev/static/js/platform/menu/items/monitor/events/monitorEvents.js\");\n\n\nconst monitorEvents = new _events_monitorEvents_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass Monitor {\n  init(props) {\n    const items = [monitorEvents];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(props);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Monitor);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/monitor/monitor.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/about-company/aboutCompany.js":
/*!**************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/about-company/aboutCompany.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_section_addSection_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/section/addSection.js */ \"./dev/static/js/platform/menu/items/onlineOffice/about-company/events/section/addSection.js\");\n/* harmony import */ var _events_sectionEvents_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/sectionEvents.js */ \"./dev/static/js/platform/menu/items/onlineOffice/about-company/events/sectionEvents.js\");\n\n\n\nconst addSection = new _events_section_addSection_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst sectionEvents = new _events_sectionEvents_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass AboutCompany {\n  init(props) {\n    const items = [addSection, sectionEvents];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(props);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AboutCompany);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/about-company/aboutCompany.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/about-company/events/article/addArticle.js":
/*!***************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/about-company/events/article/addArticle.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _templates_sectionTemplates_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../templates/sectionTemplates.js */ \"./dev/static/js/platform/menu/items/onlineOffice/about-company/templates/sectionTemplates.js\");\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst sectionTemplates = new _templates_sectionTemplates_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass AddArticle {\n  init(props) {\n    const params = {\n      ...props,\n      menu: document.querySelector('[js-menu-create-article]'),\n    };\n\n    const { menu } = params;\n\n    utils.openModalAnimation(menu, true);\n    this.clearMenu(menu);\n\n    const id = menu.querySelector('[js-article-form-id-theme]');\n    id.value = props.idSection;\n\n    const closeBtn = menu.querySelector('[js-menu-create-article-close-btn]');\n\n    if (closeBtn) {\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n      const closeMenu = utils.closeModalAnimation.bind(utils, menu, wrapper, false, false);\n      closeBtn.addEventListener('click', closeMenu);\n    }\n\n    const addBtn = menu.querySelector('[js-save-article]');\n\n    if (addBtn) {\n      const addNewArticle = this.addNewArticle.bind(this, params);\n\n      addBtn.addEventListener('click', addNewArticle);\n      const toError = validation.toValidationError.bind(validation);\n      addBtn.addEventListener('dblclick', toError);\n    }\n  }\n\n  clearMenu(menu) {\n    const name = menu.querySelector('[js-article-form-name]');\n    name.value = '';\n\n    const link = menu.querySelector('[js-article-form-link]');\n    link.value = '';\n\n    const file = menu.querySelector('#file');\n    file.value = '';\n\n    const label = menu.querySelector('.menu-input__title.js-fileName');\n    label.innerText = 'Загрузите обложку 280x180';\n  }\n\n  addNewArticle(props, e) {\n    const { menu } = props;\n\n    const t = e.target;\n\n    const form = menu.querySelector('[js-article-form]');\n\n    if (validation.validateAboutArticle(form)) {\n      t.style.pointerEvents = 'none';\n\n      const formData = new FormData(form);\n\n      const addArticle = _api_api_js__WEBPACK_IMPORTED_MODULE_2__.aboutCompanyAPI.addArticle(formData);\n\n      const loader = setTimeout(() => {\n        utils.showLoader();\n      });\n\n      addArticle.then((article) => {\n        t.style.pointerEvents = 'all';\n\n        props.article = article;\n\n        clearTimeout(loader);\n        utils.hideLoader();\n\n        this.afterSaveArticle(props);\n      }, t.style.pointerEvents = 'all');\n    }\n  }\n\n  afterSaveArticle(props) {\n    const { article } = props;\n\n    const div = document.createElement('div');\n    div.classList.add('article');\n    div.setAttribute('data-article', article.id);\n    div.innerHTML = sectionTemplates.articleTempalte(article);\n\n    props.theme.appendChild(div);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddArticle);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/about-company/events/article/addArticle.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/about-company/events/article/editArticle.js":
/*!****************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/about-company/events/article/editArticle.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n/* harmony import */ var _removeArticle_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./removeArticle.js */ \"./dev/static/js/platform/menu/items/onlineOffice/about-company/events/article/removeArticle.js\");\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst removeArticle = new _removeArticle_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass EditArticle {\n  init(props) {\n    const { target } = props;\n\n    const params = this.getParams(props);\n    const { idArticle } = params;\n\n    target.style.pointerEvents = 'none';\n\n    const loader = setTimeout(() => {\n      utils.showLoader();\n    }, 400);\n\n    const getArticleData = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.aboutCompanyAPI.getArticle(idArticle);\n\n    getArticleData.then((article) => {\n      target.style.pointerEvents = 'all';\n\n      clearTimeout(loader);\n      utils.hideLoader();\n\n      params.article = article;\n\n      this.afterGetArticle(params);\n    }, () => target.style.pointerEvents = 'all');\n  }\n\n  getParams(props) {\n    const { target } = props;\n    const articleItem = utils.getParent(target, 'article');\n    const idArticle = +articleItem.getAttribute('data-article');\n\n    return {\n      ...props,\n      menu: document.querySelector('[js-menu-update-article]'),\n      articleItem,\n      idArticle,\n    };\n  }\n\n  afterGetArticle(props) {\n    const { menu } = props;\n\n    utils.openModalAnimation(menu, true);\n\n    this.setDataArticle(props);\n    this.setUpdateArticleEvents(props);\n\n    const closeBtn = menu.querySelector('[js-menu-update-article-close-btn]');\n\n    if (closeBtn) {\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n      const closeMenu = utils.closeModalAnimation.bind(utils, menu, wrapper, false, false);\n      const close = utils.setCloneElement(closeBtn);\n      close.addEventListener('click', closeMenu);\n    }\n\n    const removeBtn = menu.querySelector('[js-delete-article]');\n\n    if (removeBtn) {\n      const removeArticleElement = removeArticle.init.bind(removeArticle, props);\n      const remove = utils.setCloneElement(removeBtn);\n      remove.addEventListener('click', removeArticleElement);\n    }\n  }\n\n  setDataArticle(props) {\n    const { menu } = props;\n    const { article } = props;\n\n    const id = menu.querySelector('[js-update-article-form-id]');\n    const prevImage = menu.querySelector('[js-update-article-form-img]');\n    const name = menu.querySelector('[js-update-article-form-name]');\n    const link = menu.querySelector('[js-update-article-form-link]');\n\n    id.value = article.id;\n    prevImage.value = article.prevImage;\n    name.value = article.name;\n    link.value = article.link;\n  }\n\n  setUpdateArticleEvents(props) {\n    const { menu } = props;\n\n    const updateBtn = menu.querySelector('[js-update-save-article]');\n\n    if (updateBtn) {\n      const update = utils.setCloneElement(updateBtn);\n      const updateArticle = this.updateArticle.bind(this, props);\n      update.addEventListener('click', updateArticle);\n    }\n  }\n\n  updateArticle(props, e) {\n    const t = e.target;\n    const { menu } = props;\n\n    const form = menu.querySelector('[js-update-article-form]');\n\n    if (validation.validateAboutArticle(form)) {\n      t.style.pointerEvents = 'none';\n\n      const formData = new FormData(form);\n\n      const updateArticle = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.aboutCompanyAPI.updateArticle(formData);\n\n      const loader = setTimeout(() => {\n        utils.showLoader();\n      }, 400);\n\n      updateArticle.then((article) => {\n        t.style.pointerEvents = 'all';\n        clearTimeout(loader);\n        utils.hideLoader();\n\n        props.article = article;\n\n        this.afterUpdateArticle(props);\n      }, () => t.style.pointerEvents = 'all');\n    }\n  }\n\n  afterUpdateArticle(props) {\n    const { articleItem, article } = props;\n\n    const name = articleItem.querySelector('.article__title');\n    name.value = article.name;\n\n    const img = articleItem.querySelector('.article__img');\n    img.setAttribute('src', `/${article.previewImg}`);\n\n    const link = articleItem.querySelector('.article__link');\n    link.value = article.link;\n    link.setAttribute('href', `${article.link}`);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EditArticle);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/about-company/events/article/editArticle.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/about-company/events/article/removeArticle.js":
/*!******************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/about-company/events/article/removeArticle.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass RemoveArticle {\n  init(props, e) {\n    props.target = e.target;\n\n    const removeElement = this.removeElement.bind(this, props);\n\n    const popupProps = {\n      text: 'Вы действительно хотите удалить этот файл?',\n      settings: null,\n      title: null,\n      ok: removeElement,\n      cancel: null,\n      target: e.target,\n    };\n\n    popup.init(popupProps);\n  }\n\n  removeElement(props) {\n    const {\n      idArticle,\n      menu,\n      target,\n      theme,\n    } = props;\n    const remove = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.aboutCompanyAPI.deleteArticle(idArticle);\n\n    const loader = setTimeout(() => {\n      utils.showLoader();\n    }, 400);\n\n    target.style.pointerEvents = 'none';\n\n    remove.then(() => {\n      clearTimeout(loader);\n      utils.hideLoader();\n\n      target.style.pointerEvents = 'all';\n\n      const articles = Array.from(theme.querySelectorAll('.article'));\n      const article = articles.find((el) => +el.getAttribute('data-article') === idArticle);\n\n      article.remove();\n\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n      utils.closeModalAnimation(menu, wrapper, false, false);\n    }, () => target.style.pointerEvents = 'all');\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RemoveArticle);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/about-company/events/article/removeArticle.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/about-company/events/section/addSection.js":
/*!***************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/about-company/events/section/addSection.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n/* harmony import */ var _templates_sectionTemplates_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../templates/sectionTemplates.js */ \"./dev/static/js/platform/menu/items/onlineOffice/about-company/templates/sectionTemplates.js\");\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst sectionTemplates = new _templates_sectionTemplates_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass AddSection {\n  init(props) {\n    const addSection = document.querySelector('[js-create-theme]');\n\n    const menu = document.querySelector('[js-menu-create-theme]');\n\n    const params = {\n      ...props,\n      menu,\n    };\n\n    if (addSection) {\n      const openMenu = this.openMenu.bind(this, params);\n      addSection.addEventListener('click', openMenu);\n    }\n\n    const closeSectionAdd = document.querySelector('[js-menu-create-theme-close-btn]');\n\n    if (closeSectionAdd) {\n      const close = utils.setCloneElement(closeSectionAdd);\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n\n      const closeMenu = utils.closeModalAnimation.bind(utils, menu, wrapper, false, false);\n      close.addEventListener('click', closeMenu);\n    }\n  }\n\n  openMenu(props) {\n    const { menu } = props;\n\n    const name = menu.querySelector('[js-theme-form-name]');\n\n    name.value = '';\n\n    utils.openModalAnimation(menu, true);\n\n    const saveBtn = menu.querySelector('[js-save-theme]');\n\n    if (saveBtn) {\n      const save = utils.setCloneElement(saveBtn);\n\n      const saveSection = this.saveSection.bind(this, menu, name);\n\n      save.addEventListener('click', saveSection);\n    }\n  }\n\n  saveSection(menu, name, e) {\n    const t = e.target;\n\n    if (validation.validateSection(name)) {\n      t.style.pointerEvents = 'none';\n\n      const data = {\n        name: name.value.trim(),\n      };\n\n      const save = _api_api_js__WEBPACK_IMPORTED_MODULE_0__.aboutCompanyAPI.saveSection(data);\n\n      save.then((section) => {\n        const params = {\n          section,\n          t,\n          menu,\n        };\n\n        this.afterSaveSection(params);\n      }, () => t.style.pointerEvents = 'all');\n    }\n  }\n\n  afterSaveSection(props) {\n    const { section, t, menu } = props;\n\n    t.style.pointerEvents = 'all';\n\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n    utils.closeModalAnimation(menu, wrapper, false, false);\n\n    const div = document.createElement('div');\n    div.classList.add('theme');\n    div.setAttribute('data-theme', section.id);\n    div.innerHTML = sectionTemplates.sectionTemplate(section);\n\n    const contentWrapper = document.querySelector('.content-main.theme-container');\n    contentWrapper.appendChild(div);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddSection);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/about-company/events/section/addSection.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/about-company/events/section/removeSection.js":
/*!******************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/about-company/events/section/removeSection.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass RemoveSection {\n  init(props) {\n    const { menu } = props;\n\n    const deleteBtn = menu.querySelector('[js-delete-theme]');\n\n    if (deleteBtn) {\n      const remove = utils.setCloneElement(deleteBtn);\n\n      const setRemoveSectionPopup = this.setRemoveSectionPopup.bind(this, props);\n\n      remove.addEventListener('click', setRemoveSectionPopup);\n    }\n  }\n\n  setRemoveSectionPopup(props, e) {\n    const t = e.target;\n\n    const removeSection = this.removeSection.bind(this, props);\n\n    const popupProps = {\n      text: 'Вы действительно хотите удалить этот радел?',\n      settings: null,\n      title: null,\n      ok: removeSection,\n      cancel: null,\n      target: t,\n    };\n\n    popup.init(popupProps);\n  }\n\n  removeSection(props) {\n    const { idSection, menu } = props;\n\n    const remove = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.aboutCompanyAPI.removeSection(idSection);\n\n    remove.then(() => {\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n      utils.closeModalAnimation(menu, wrapper, false, false);\n\n      const sections = Array.from(document.querySelectorAll('.theme'));\n\n      const removed = sections.find((el) => el.getAttribute('data-theme') === idSection);\n      removed.remove();\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RemoveSection);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/about-company/events/section/removeSection.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/about-company/events/section/updateSection.js":
/*!******************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/about-company/events/section/updateSection.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _removeSection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./removeSection.js */ \"./dev/static/js/platform/menu/items/onlineOffice/about-company/events/section/removeSection.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n\n\n\n\n\nconst removeSection = new _removeSection_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass UpdateSection {\n  init(props) {\n    const { idSection } = props;\n\n    const menu = document.querySelector('[js-menu-update-theme]');\n    const getSectionData = _api_api_js__WEBPACK_IMPORTED_MODULE_0__.aboutCompanyAPI.getSection(idSection);\n\n    const loader = setTimeout(() => {\n      utils.showLoader();\n    }, 400);\n\n    const closeBtn = menu.querySelector('[js-menu-update-theme-close-btn]');\n\n    if (closeBtn) {\n      const close = utils.setCloneElement(closeBtn);\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n      const closeMenu = utils.closeModalAnimation.bind(utils, menu, wrapper, false, false);\n      close.addEventListener('click', closeMenu);\n    }\n\n    getSectionData.then((section) => {\n      clearTimeout(loader);\n      utils.hideLoader();\n\n      const params = {\n        ...props,\n        section,\n        menu,\n      };\n\n      this.afterGetData(params);\n    });\n  }\n\n  afterGetData(props) {\n    const { menu, section } = props;\n\n    utils.openModalAnimation(menu, true);\n    this.setSectionData(section, menu);\n    this.setUpdateEvents(props);\n\n    const items = [removeSection];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(props);\n    });\n  }\n\n  setSectionData(section, menu) {\n    const { name, type } = section;\n\n    const typeInput = menu.querySelector('[js-update-theme-form-type]');\n    typeInput.value = type;\n\n    const nameInput = menu.querySelector('[js-update-theme-form-name]');\n\n    nameInput.value = name;\n  }\n\n  setUpdateEvents(props) {\n    const { menu } = props;\n    const updateBtn = menu.querySelector('[js-save-update-theme]');\n\n    if (updateBtn) {\n      const updateSection = this.updateSection.bind(this, props);\n\n      const update = utils.setCloneElement(updateBtn);\n      update.addEventListener('click', updateSection);\n    }\n  }\n\n  updateSection(props, e) {\n    const { menu, idSection } = props;\n    const t = e.target;\n    const name = menu.querySelector('[js-update-theme-form-name]');\n\n    if (validation.validateSection(name)) {\n      t.style.pointerEvents = 'none';\n\n      const type = menu.querySelector('[js-update-theme-form-type]').value;\n\n      const data = {\n        id: idSection,\n        name: name.value.trim(),\n        type,\n      };\n\n      const update = _api_api_js__WEBPACK_IMPORTED_MODULE_0__.aboutCompanyAPI.updateSection(data);\n\n      const loader = setTimeout(() => {\n        utils.showLoader();\n      }, 400);\n\n      update.then((dataSection) => {\n        clearTimeout(loader);\n        utils.hideLoader();\n\n        t.style.pointerEvents = 'all';\n\n        this.afterUpdate(dataSection, menu);\n      }, () => t.style.pointerEvents = 'all');\n    }\n  }\n\n  afterUpdate(section, menu) {\n    const sections = Array.from(document.querySelectorAll('.theme'));\n\n    const updated = sections.find((el) => +el.getAttribute('data-theme') === section.id);\n\n    const name = updated.querySelector('[theme-name]');\n    name.innerText = section.name;\n\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n    utils.closeModalAnimation(menu, wrapper, false, false);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UpdateSection);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/about-company/events/section/updateSection.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/about-company/events/sectionEvents.js":
/*!**********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/about-company/events/sectionEvents.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _article_addArticle_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./article/addArticle.js */ \"./dev/static/js/platform/menu/items/onlineOffice/about-company/events/article/addArticle.js\");\n/* harmony import */ var _section_updateSection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./section/updateSection.js */ \"./dev/static/js/platform/menu/items/onlineOffice/about-company/events/section/updateSection.js\");\n/* harmony import */ var _article_editArticle_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./article/editArticle.js */ \"./dev/static/js/platform/menu/items/onlineOffice/about-company/events/article/editArticle.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\n\n\nconst addArticle = new _article_addArticle_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst updateSection = new _section_updateSection_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst editArticle = new _article_editArticle_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass EditSection {\n  init(props) {\n    const container = document.querySelector('.content-main.theme-container');\n\n    const dispatchContainer = this.dispatchContainer.bind(this, props);\n    container.addEventListener('click', dispatchContainer);\n  }\n\n  dispatchContainer(props, e) {\n    const t = e.target;\n\n    props.target = t;\n\n    const isEditBtn = t.hasAttribute('js-update-theme');\n    const isArticleAdd = t.hasAttribute('js-create-article');\n    const isEditArticle = t.hasAttribute('js-update-article');\n\n    const element = isEditBtn || isArticleAdd || isEditArticle;\n\n    const theme = utils.getParent(t, 'theme');\n\n    if (theme) {\n      const idSection = theme.getAttribute('data-theme');\n      props.idSection = idSection;\n      props.theme = theme;\n    }\n\n    if (element) {\n      switch (element) {\n        case isEditBtn: {\n          updateSection.init.bind(updateSection)(props);\n          break;\n        }\n        case isArticleAdd: {\n          addArticle.init.bind(addArticle)(props);\n          break;\n        }\n        case isEditArticle: {\n          editArticle.init.bind(editArticle)(props);\n          break;\n        }\n        default: {\n          break;\n        }\n      }\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EditSection);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/about-company/events/sectionEvents.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/about-company/templates/sectionTemplates.js":
/*!****************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/about-company/templates/sectionTemplates.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass SectionTemplates {\n  sectionTemplate(section) {\n    return `\n        <div class=\"theme-wrapper\">\n          <div class=\"theme__title-wrapper\">\n            <div theme-name class=\"theme-title theme-title_delim theme-title__faq\">${section.name}</div>\n            <div js-update-theme class=\"theme-setting mt_0\"></div>\n            <div js-create-article class=\"add-button add-button_right\">Добавить файл</div>\n          </div>\n          <div class=\"theme__articles\"></div>\n        </div>\n    `;\n  }\n\n  articleTempalte(article) {\n    return `\n        <div class=\"article-wrapper\">\n          <div class=\"article__title\">${article.name}</div>\n          <div class=\"article-preview\">\n            <div class=\"article__preview\">\n              <div class=\"article__preview-hover\"></div>\n              <img src=\"/${article.previewImg}}\" alt=\"\" class=\"article__img\">\n              <div class=\"article__link-wrapper\">\n                <a href=\"${article.link}\" target=\"_blank\" class=\"article__link\">Открыть</a>\n                <div js-update-article class=\"article__btn-link\">Редактировать</div>\n              </div>\n            </div>\n          </div>\n        </div>\n    `;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SectionTemplates);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/about-company/templates/sectionTemplates.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/events/events.js":
/*!*************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/events/events.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_addEvents_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/addEvents.js */ \"./dev/static/js/platform/menu/items/onlineOffice/events/events/addEvents.js\");\n/* harmony import */ var _events_updateEvents_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/updateEvents.js */ \"./dev/static/js/platform/menu/items/onlineOffice/events/events/updateEvents.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _events_viewEvents_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./events/viewEvents.js */ \"./dev/static/js/platform/menu/items/onlineOffice/events/events/viewEvents.js\");\n\n\n\n\n\nconst addEvents = new _events_addEvents_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst updateEvents = new _events_updateEvents_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst viewEvents = new _events_viewEvents_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass Events {\n    init(props) {\n        const container = document.querySelector('.content-main.article-container');\n\n        const dispatchContainer = this.dispatchContainer.bind(this, props);\n\n        container.addEventListener('click', dispatchContainer);\n    }\n\n    dispatchContainer(props, e) {\n        const t = e.target;\n        props.target = t;\n\n        const create = t.hasAttribute('js-create-article') ? 'create' : '';\n        const update = t.hasAttribute('js-update-article') ? 'update' : '';\n        const view = t.hasAttribute('js-open-article') ? 'view' : '';\n\n        const button = create || update || view;\n\n        props.idReglament = +utils.getParent(t, 'theme')?.getAttribute('data-article');\n\n        switch (button) {\n            case 'create': {\n                addEvents.init.bind(addEvents)(props);\n                break;\n            }\n            case 'update': {\n                updateEvents.init.bind(updateEvents)(props);\n                break;\n            }\n            case 'view': {\n                viewEvents.init.bind(viewEvents)(props, e);\n                break;\n            }\n            default: {\n                break;\n            }\n        }\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Events);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/events/events.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/events/events/addEvents.js":
/*!***********************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/events/events/addEvents.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass AddEvents {\n  init(props) {\n    const menu = document.querySelector('[js-menu-create-article]');\n\n    this.clearMenu(menu);\n    utils.openModalAnimation(menu, true);\n\n    const saveBtn = menu.querySelector('[js-save-article]');\n\n    if (saveBtn) {\n      const save = utils.setCloneElement(saveBtn);\n\n      const params = {\n        ...props,\n        menu,\n      };\n\n      const saveReglament = this.saveReglament.bind(this, params);\n      save.addEventListener('click', saveReglament);\n\n      const toError = validation.toValidationError.bind(validation);\n      save.addEventListener('dblclick', toError);\n    }\n\n    const closeBtn = document.querySelector('[js-menu-create-article-close-btn]');\n\n    if (closeBtn) {\n      const close = utils.setCloneElement(closeBtn);\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n      const closeMenu = utils.closeModalAnimation.bind(utils, menu, wrapper, false, false);\n      close.addEventListener('click', closeMenu);\n    }\n  }\n\n  clearMenu(menu) {\n    const name = menu.querySelector('[js-article-form-name]');\n    const type = menu.querySelector('[js-article-form-type]');\n    const link = menu.querySelector('[js-article-form-link]');\n    const file = menu.querySelector('#file');\n    const editor = menu.querySelector('.ql-editor');\n\n    if (editor) {\n      editor.innerText = '';\n    }\n\n    const items = [name, type, link, file];\n\n    items.forEach((item) => {\n      if (item) {\n        item.value = '';\n      }\n    });\n  }\n\n  saveReglament(props, e) {\n    const { menu } = props;\n    const t = e.target;\n\n    const form = menu.querySelector('[js-article-form]');\n\n    if (validation.validateReglament(form)) {\n      t.style.pointerEvents = 'none';\n\n      const formData = new FormData(form);\n\n      const saveReglament = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.reglamentAPI.saveReglament(formData);\n\n      const loader = setTimeout(() => {\n        utils.showLoader();\n      }, 400);\n\n      saveReglament.then(() => {\n        t.style.pointerEvents = 'all';\n        clearTimeout(loader);\n        utils.hideLoader();\n\n        /* Code after save */\n      }, () => t.style.pointerEvents = 'all');\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddEvents);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/events/events/addEvents.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/events/events/deleteEvents.js":
/*!**************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/events/events/deleteEvents.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass DeleteEvents {\n  init(props) {\n    const { target } = props;\n\n    const removeReglament = this.removeReglament.bind(this, props);\n\n    const popupProps = {\n      text: 'Вы действительно хотите удалить это мероприятие?',\n      settings: null,\n      title: null,\n      ok: removeReglament,\n      cancel: null,\n      target,\n    };\n\n    popup.init(popupProps);\n  }\n\n  removeReglament(props) {\n    const { idReglament, menu } = props;\n    const remove = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.reglamentAPI.deleteReglament(idReglament);\n\n    const loader = setTimeout(utils.showLoader, 400);\n\n    remove.then(() => {\n      clearInterval(loader);\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n      utils.closeModalAnimation(menu, wrapper, false, false);\n\n      const reglament = document.querySelector(`.theme[data-article=\"${idReglament}\"]`);\n\n      if (reglament) {\n        reglament.remove();\n      }\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DeleteEvents);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/events/events/deleteEvents.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/events/events/updateEvents.js":
/*!**************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/events/events/updateEvents.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n/* harmony import */ var _deleteEvents_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./deleteEvents.js */ \"./dev/static/js/platform/menu/items/onlineOffice/events/events/deleteEvents.js\");\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst deleteEvents = new _deleteEvents_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass UpdateEvents {\n  init(props) {\n    const params = {\n      ...props,\n      menu: document.querySelector('[js-menu-update-article]'),\n    };\n\n    const { menu, idReglament } = params;\n\n    const getReglamentData = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.reglamentAPI.getReglament(idReglament);\n\n    const loader = setTimeout(() => {\n      utils.showLoader();\n    }, 400);\n\n    getReglamentData.then((reglament) => {\n      clearTimeout(loader);\n      utils.hideLoader();\n\n      utils.openModalAnimation(menu, true);\n\n      params.reglament = reglament;\n\n      this.setReglamentData(params);\n\n      const updateBtn = menu.querySelector('[js-update-save-article]');\n\n      if (updateBtn) {\n        const update = utils.setCloneElement(updateBtn);\n\n        const updateReglament = this.updateReglament.bind(this, params);\n        update.addEventListener('click', updateReglament);\n\n        const toError = validation.toValidationError.bind(validation);\n        update.addEventListener('dblclick', toError);\n      }\n\n      const closeBtn = document.querySelector('[js-menu-update-article-close-btn]');\n\n      if (closeBtn) {\n        const close = utils.setCloneElement(closeBtn);\n        const wrapper = menu.querySelector('.platform-modal__wrapper');\n        const closeMenu = utils.closeModalAnimation.bind(utils, menu, wrapper, false, false);\n        close.addEventListener('click', closeMenu);\n      }\n\n      const removeBtn = menu.querySelector('[js-delete-article]');\n\n      if (removeBtn) {\n        const remove = utils.setCloneElement(removeBtn);\n\n        const removeReglament = deleteEvents.init.bind(deleteEvents, params);\n        remove.addEventListener('click', removeReglament);\n      }\n    });\n  }\n\n  setReglamentData(props) {\n    const { reglament, menu } = props;\n\n    const name = menu.querySelector('[js-update-article-form-name]');\n    name.value = reglament.name;\n\n    const type = menu.querySelector('[js-update-article-form-type]');\n\n    if (type) {\n      type.value = reglament.type;\n    }\n\n    const kind = menu.querySelector(`[name=\"kind\"][value=\"${reglament.kind}\"]`);\n    kind.checked = true;\n\n    const editor = menu.querySelector('.ql-editor');\n\n    if (editor) {\n      editor.innerHTML = reglament.text;\n    }\n\n    const link = menu.querySelector('[js-update-article-form-link]');\n\n    if (link) {\n      link.value = reglament.value || '';\n    }\n  }\n\n  updateReglament(props, e) {\n    const t = e.target;\n\n    const form = document.querySelector('[js-update-article-form]');\n\n    const { idReglament } = props;\n\n    if (validation.validateReglament(form)) {\n      t.style.pointerEvents = 'none';\n\n      const formData = new FormData(form);\n      formData.set('id', idReglament);\n\n      const loader = setTimeout(() => {\n        utils.showLoader();\n      });\n\n      const update = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.reglamentAPI.updateReglament(formData);\n\n      update.then((reglament) => {\n        t.style.pointerEvents = 'all';\n\n        clearTimeout(loader);\n        utils.hideLoader();\n\n        props.reglament = reglament;\n\n        const afterUpdateReglament = this.afterUpdateReglament.bind(this);\n        afterUpdateReglament(props);\n      }, () => t.style.pointerEvents = 'all');\n    }\n  }\n\n  afterUpdateReglament(props) {\n    const { menu, idReglaments, reglament } = props;\n    const { previewImg } = reglament;\n\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n\n    utils.closeModalAnimation(menu, wrapper, false, false);\n\n    const reglaments = Array.from(document.querySelectorAll('.theme'));\n    const reglamentItem = reglaments.find((el) => +el.getAttribute('data-article') === idReglaments);\n\n    const img = reglamentItem.querySelector('.article__img');\n    img.setAttribute('src', previewImg);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UpdateEvents);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/events/events/updateEvents.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/events/events/viewEvents.js":
/*!************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/events/events/viewEvents.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass ViewEvents {\n  init(props, e) {\n    const t = e.target;\n\n    const params = {\n      ...props,\n      menu: document.querySelector('[js-menu-open-article]'),\n    };\n\n    const { idArticle } = params;\n\n    const getReglamentData = _api_api_js__WEBPACK_IMPORTED_MODULE_0__.reglamentAPI.getArticle(idArticle);\n\n    const loader = setTimeout(() => {\n      utils.showLoader();\n    }, 400);\n\n    t.style.pointerEvents = 'none';\n\n    getReglamentData.then((reglament) => {\n      t.style.pointerEvents = 'all';\n      clearTimeout(loader);\n      utils.hideLoader();\n\n      params.reglament = reglament;\n\n      this.afterGetReglament(params);\n\n      const closeBtn = document.querySelector('[js-menu-open-article-close-btn]');\n\n      if (closeBtn) {\n        const { menu } = params;\n\n        const close = utils.setCloneElement(closeBtn);\n        const wrapper = menu.querySelector('.platform-modal__wrapper');\n        const closeMenu = utils.closeModalAnimation.bind(utils, menu, wrapper, false, false);\n        close.addEventListener('click', closeMenu);\n      }\n    }, () => t.style.pointerEvents = 'all');\n  }\n\n  afterGetReglament(props) {\n    const { menu, reglament } = props;\n\n    const title = menu.querySelector('[js-open-title]');\n    title.innerText = reglament.name;\n\n    const text = menu.querySelector('[js-open-text]');\n    text.innerText = reglament.text;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ViewEvents);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/events/events/viewEvents.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/events/article/addArticle.js":
/*!****************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/events/article/addArticle.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _templates_knowledgeTemplates_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../templates/knowledgeTemplates.js */ \"./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/templates/knowledgeTemplates.js\");\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst sectionTemplates = new _templates_knowledgeTemplates_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass AddArticle {\n  init(props) {\n    const params = {\n      ...props,\n      menu: document.querySelector('[js-menu-create-article]'),\n    };\n\n    const { menu } = params;\n\n    utils.openModalAnimation(menu, true);\n    this.clearMenu(menu);\n\n    const id = menu.querySelector('[js-article-form-id-theme]');\n    id.value = props.idSection;\n\n    const closeBtn = menu.querySelector('[js-menu-create-article-close-btn]');\n\n    if (closeBtn) {\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n      const closeMenu = utils.closeModalAnimation.bind(utils, menu, wrapper, false, false);\n      closeBtn.addEventListener('click', closeMenu);\n    }\n\n    const addBtn = menu.querySelector('[js-save-article]');\n\n    if (addBtn) {\n      const addNewArticle = this.addNewArticle.bind(this, params);\n\n      addBtn.addEventListener('click', addNewArticle);\n      const toError = validation.toValidationError.bind(validation);\n      addBtn.addEventListener('dblclick', toError);\n    }\n  }\n\n  clearMenu(menu) {\n    const name = menu.querySelector('[js-article-form-name]');\n    name.value = '';\n\n    const link = menu.querySelector('[js-article-form-link]');\n    link.value = '';\n\n    const file = menu.querySelector('#file');\n    file.value = '';\n\n    const label = menu.querySelector('.menu-input__title.js-fileName');\n    label.innerText = 'Загрузите обложку 280x180';\n  }\n\n  addNewArticle(props, e) {\n    const { menu } = props;\n\n    const t = e.target;\n\n    const form = menu.querySelector('[js-article-form]');\n\n    if (validation.validateAboutArticle(form)) {\n      t.style.pointerEvents = 'none';\n\n      const formData = new FormData(form);\n\n      const addArticle = _api_api_js__WEBPACK_IMPORTED_MODULE_2__.aboutCompanyAPI.addArticle(formData);\n\n      const loader = setTimeout(() => {\n        utils.showLoader();\n      });\n\n      addArticle.then((article) => {\n        t.style.pointerEvents = 'all';\n\n        props.article = article;\n\n        clearTimeout(loader);\n        utils.hideLoader();\n\n        this.afterSaveArticle(props);\n      }, t.style.pointerEvents = 'all');\n    }\n  }\n\n  afterSaveArticle(props) {\n    const { article } = props;\n\n    const div = document.createElement('div');\n    div.classList.add('article');\n    div.setAttribute('data-article', article.id);\n    div.innerHTML = sectionTemplates.articleTempalte(article);\n\n    props.theme.appendChild(div);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddArticle);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/events/article/addArticle.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/events/article/editArticle.js":
/*!*****************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/events/article/editArticle.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n/* harmony import */ var _removeArticle_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./removeArticle.js */ \"./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/events/article/removeArticle.js\");\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst removeArticle = new _removeArticle_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass EditArticle {\n  init(props) {\n    const { target } = props;\n\n    const params = this.getParams(props);\n    const { idArticle } = params;\n\n    target.style.pointerEvents = 'none';\n\n    const loader = setTimeout(() => {\n      utils.showLoader();\n    }, 400);\n\n    const getArticleData = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.knowledgeBaseAPI.getArticle(idArticle);\n\n    getArticleData.then((article) => {\n      target.style.pointerEvents = 'all';\n\n      clearTimeout(loader);\n      utils.hideLoader();\n\n      params.article = article;\n\n      this.afterGetArticle(params);\n    }, () => target.style.pointerEvents = 'all');\n  }\n\n  getParams(props) {\n    const { target } = props;\n    const articleItem = utils.getParent(target, 'article');\n    const idArticle = +articleItem.getAttribute('data-article');\n\n    return {\n      ...props,\n      menu: document.querySelector('[js-menu-update-article]'),\n      articleItem,\n      idArticle,\n    };\n  }\n\n  afterGetArticle(props) {\n    const { menu } = props;\n\n    utils.openModalAnimation(menu, true);\n\n    this.setDataArticle(props);\n    this.setUpdateArticleEvents(props);\n\n    const closeBtn = menu.querySelector('[js-menu-update-article-close-btn]');\n\n    if (closeBtn) {\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n      const closeMenu = utils.closeModalAnimation.bind(utils, menu, wrapper, false, false);\n      const close = utils.setCloneElement(closeBtn);\n      close.addEventListener('click', closeMenu);\n    }\n\n    const removeBtn = menu.querySelector('[js-delete-article]');\n\n    if (removeBtn) {\n      const removeArticleElement = removeArticle.init.bind(removeArticle, props);\n      const remove = utils.setCloneElement(removeBtn);\n      remove.addEventListener('click', removeArticleElement);\n    }\n  }\n\n  setDataArticle(props) {\n    const { menu } = props;\n    const { article } = props;\n\n    const id = menu.querySelector('[js-update-article-form-id]');\n    const prevImage = menu.querySelector('[js-update-article-form-img]');\n    const name = menu.querySelector('[js-update-article-form-name]');\n    const link = menu.querySelector('[js-update-article-form-link]');\n\n    id.value = article.id;\n    prevImage.value = article.prevImage;\n    name.value = article.name;\n    link.value = article.link;\n  }\n\n  setUpdateArticleEvents(props) {\n    const { menu } = props;\n\n    const updateBtn = menu.querySelector('[js-update-save-article]');\n\n    if (updateBtn) {\n      const update = utils.setCloneElement(updateBtn);\n      const updateArticle = this.updateArticle.bind(this, props);\n      update.addEventListener('click', updateArticle);\n    }\n  }\n\n  updateArticle(props, e) {\n    const t = e.target;\n    const { menu } = props;\n\n    const form = menu.querySelector('[js-update-article-form]');\n\n    if (validation.validateAboutArticle(form)) {\n      t.style.pointerEvents = 'none';\n\n      const formData = new FormData(form);\n\n      const updateArticle = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.knowledgeBaseAPI.updateArticle(formData);\n\n      const loader = setTimeout(() => {\n        utils.showLoader();\n      }, 400);\n\n      updateArticle.then((article) => {\n        t.style.pointerEvents = 'all';\n        clearTimeout(loader);\n        utils.hideLoader();\n\n        props.article = article;\n\n        this.afterUpdateArticle(props);\n      }, () => t.style.pointerEvents = 'all');\n    }\n  }\n\n  afterUpdateArticle(props) {\n    const { articleItem, article } = props;\n\n    const name = articleItem.querySelector('.article__title');\n    name.value = article.name;\n\n    const img = articleItem.querySelector('.article__img');\n    img.setAttribute('src', `/${article.previewImg}`);\n\n    const link = articleItem.querySelector('.article__link');\n    link.value = article.link;\n    link.setAttribute('href', `${article.link}`);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EditArticle);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/events/article/editArticle.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/events/article/removeArticle.js":
/*!*******************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/events/article/removeArticle.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nclass RemoveArticle {\n  init(props, e) {\n    props.target = e.target;\n\n    const removeElement = this.removeElement.bind(this, props);\n\n    const popupProps = {\n      text: 'Вы действительно хотите удалить этот файл',\n      settings: null,\n      title: null,\n      ok: removeElement,\n      cancel: null,\n      target: props.target,\n    };\n\n    popup.init(popupProps);\n  }\n\n  removeElement(props) {\n    const {\n      idArticle,\n      menu,\n      target,\n      theme,\n    } = props;\n\n    const remove = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.knowledgeBaseAPI.deleteArticle(idArticle);\n\n    target.style.pointerEvents = 'none';\n\n    remove.then(() => {\n      target.style.pointerEvents = 'all';\n\n      const articles = Array.from(theme.querySelectorAll('.article'));\n      const article = articles.find((el) => +el.getAttribute('data-article') === idArticle);\n\n      article.remove();\n\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n      utils.closeModalAnimation(menu, wrapper, false, false);\n    }, () => target.style.pointerEvents = 'all');\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RemoveArticle);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/events/article/removeArticle.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/events/section/addSection.js":
/*!****************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/events/section/addSection.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n/* harmony import */ var _templates_knowledgeTemplates_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../templates/knowledgeTemplates.js */ \"./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/templates/knowledgeTemplates.js\");\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst sectionTemplates = new _templates_knowledgeTemplates_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass AddSection {\n  init(props) {\n    const addSection = document.querySelector('[js-create-theme]');\n\n    const menu = document.querySelector('[js-menu-create-theme]');\n\n    const params = {\n      ...props,\n      menu,\n    };\n\n    if (addSection) {\n      const openMenu = this.openMenu.bind(this, params);\n      addSection.addEventListener('click', openMenu);\n    }\n\n    const closeSectionAdd = document.querySelector('[js-menu-create-theme-close-btn]');\n\n    if (closeSectionAdd) {\n      const close = utils.setCloneElement(closeSectionAdd);\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n\n      const closeMenu = utils.closeModalAnimation.bind(utils, menu, wrapper, false, false);\n      close.addEventListener('click', closeMenu);\n    }\n  }\n\n  openMenu(props) {\n    const { menu } = props;\n\n    const name = menu.querySelector('[js-theme-form-name]');\n\n    name.value = '';\n\n    utils.openModalAnimation(menu, true);\n\n    const saveBtn = menu.querySelector('[js-save-theme]');\n\n    if (saveBtn) {\n      const save = utils.setCloneElement(saveBtn);\n\n      const saveSection = this.saveSection.bind(this, menu, name);\n\n      save.addEventListener('click', saveSection);\n    }\n  }\n\n  saveSection(menu, name, e) {\n    const t = e.target;\n\n    if (validation.validateSection(name)) {\n      t.style.pointerEvents = 'none';\n\n      const data = {\n        name: name.value.trim(),\n      };\n\n      const page = utils.getPage();\n\n      const isGeneral = page === 'bookmarks' ? _api_api_js__WEBPACK_IMPORTED_MODULE_0__.knowledgeBaseAPI.saveSection(data) : null;\n      const isAdvertiser = page === 'advertiser' ? _api_api_js__WEBPACK_IMPORTED_MODULE_0__.knowledgeBaseAPI.saveSectionAdvertiser(data) : null;\n      const isManagement = page === 'management' ? _api_api_js__WEBPACK_IMPORTED_MODULE_0__.knowledgeBaseAPI.saveSectionManagement(data) : null;\n      const isManager = page === 'manager' ? _api_api_js__WEBPACK_IMPORTED_MODULE_0__.knowledgeBaseAPI.saveSectionManager(data) : null;\n\n      const save = isGeneral || isAdvertiser || isManagement || isManager;\n\n      save.then((section) => {\n        const params = {\n          section,\n          t,\n          menu,\n        };\n\n        this.afterSaveSection(params);\n      }, () => t.style.pointerEvents = 'none');\n    }\n  }\n\n  afterSaveSection(props) {\n    const { section, t, menu } = props;\n\n    t.style.pointerEvents = 'all';\n\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n    utils.closeModalAnimation(menu, wrapper, false, false);\n\n    const div = document.createElement('div');\n    div.classList.add('theme');\n    div.setAttribute('data-theme', section.id);\n    div.innerHTML = sectionTemplates.sectionTemplate(section);\n\n    const content = document.querySelector('.content-main.theme-container');\n\n    content.appendChild(div);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddSection);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/events/section/addSection.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/events/section/removeSection.js":
/*!*******************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/events/section/removeSection.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nclass RemoveSection {\n  init(props) {\n    const { menu } = props;\n\n    const deleteBtn = menu.querySelector('[js-delete-theme]');\n\n    if (deleteBtn) {\n      const remove = utils.setCloneElement(deleteBtn);\n\n      const setRemoveSectionPopup = this.setRemoveSectionPopup.bind(this, props);\n\n      remove.addEventListener('click', setRemoveSectionPopup);\n    }\n  }\n\n  setRemoveSectionPopup(props, e) {\n    const t = e.target;\n\n    const removeSection = this.removeSection.bind(this, props);\n\n    const popupProps = {\n      text: 'Вы действительно хотите удалить этот радел?',\n      settings: null,\n      title: null,\n      ok: removeSection,\n      cancel: false,\n      target: t,\n    };\n\n    popup.init(popupProps);\n  }\n\n  removeSection(props) {\n    const { idSection, menu } = props;\n\n    const remove = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.knowledgeBaseAPI.removeSection(idSection);\n\n    remove.then(() => {\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n      utils.closeModalAnimation(menu, wrapper, false, false);\n\n      const sections = Array.from(document.querySelectorAll('.theme'));\n\n      const removed = sections.find((el) => el.getAttribute('data-theme') === idSection);\n      removed.remove();\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RemoveSection);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/events/section/removeSection.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/events/section/updateSection.js":
/*!*******************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/events/section/updateSection.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _removeSection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./removeSection.js */ \"./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/events/section/removeSection.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n\n\n\n\n\nconst removeSection = new _removeSection_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass UpdateSection {\n  init(props) {\n    const { idSection } = props;\n\n    const menu = document.querySelector('[js-menu-update-theme]');\n    const getSectionData = _api_api_js__WEBPACK_IMPORTED_MODULE_0__.knowledgeBaseAPI.getSection(idSection);\n\n    const loader = setTimeout(() => {\n      utils.showLoader();\n    }, 400);\n\n    const closeBtn = menu.querySelector('[js-menu-update-theme-close-btn]');\n\n    if (closeBtn) {\n      const close = utils.setCloneElement(closeBtn);\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n      const closeMenu = utils.closeModalAnimation.bind(utils, menu, wrapper, false, false);\n      close.addEventListener('click', closeMenu);\n    }\n\n    getSectionData.then((section) => {\n      clearTimeout(loader);\n      utils.hideLoader();\n\n      const params = {\n        ...props,\n        section,\n        menu,\n      };\n\n      this.afterGetData(params);\n    });\n  }\n\n  afterGetData(props) {\n    const { menu, section } = props;\n\n    utils.openModalAnimation(menu, true);\n    this.setSectionData(section, menu);\n    this.setUpdateEvents(props);\n\n    const items = [removeSection];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(props);\n    });\n  }\n\n  setSectionData(section, menu) {\n    const { name, type } = section;\n\n    const typeInput = menu.querySelector('[js-update-theme-form-type]');\n    typeInput.value = type;\n\n    const nameInput = menu.querySelector('[js-update-theme-form-name]');\n\n    nameInput.value = name;\n  }\n\n  setUpdateEvents(props) {\n    const { menu } = props;\n    const updateBtn = menu.querySelector('[js-save-update-theme]');\n\n    if (updateBtn) {\n      const updateSection = this.updateSection.bind(this, props);\n\n      const update = utils.setCloneElement(updateBtn);\n      update.addEventListener('click', updateSection);\n    }\n  }\n\n  updateSection(props, e) {\n    const { menu, idSection } = props;\n    const t = e.target;\n    const name = menu.querySelector('[js-update-theme-form-name]');\n\n    if (validation.validateSection(name)) {\n      t.style.pointerEvents = 'none';\n\n      const type = menu.querySelector('[js-update-theme-form-type]').value;\n\n      const data = {\n        id: idSection,\n        name: name.value.trim(),\n        type,\n      };\n\n      const update = _api_api_js__WEBPACK_IMPORTED_MODULE_0__.knowledgeBaseAPI.updateSection(data);\n\n      const loader = setTimeout(() => {\n        utils.showLoader();\n      }, 400);\n\n      update.then((dataSection) => {\n        clearTimeout(loader);\n        utils.hideLoader();\n\n        t.style.pointerEvents = 'all';\n\n        this.afterUpdate(dataSection, menu);\n      }, () => t.style.pointerEvents = 'all');\n    }\n  }\n\n  afterUpdate(section, menu) {\n    const sections = Array.from(document.querySelectorAll('.theme'));\n\n    const updated = sections.find((el) => +el.getAttribute('data-theme') === section.id);\n\n    const name = updated.querySelector('[theme-name]');\n    name.innerText = section.name;\n\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n    utils.closeModalAnimation(menu, wrapper, false, false);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UpdateSection);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/events/section/updateSection.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/events/sectionEvents.js":
/*!***********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/events/sectionEvents.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _article_addArticle_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./article/addArticle.js */ \"./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/events/article/addArticle.js\");\n/* harmony import */ var _section_updateSection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./section/updateSection.js */ \"./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/events/section/updateSection.js\");\n/* harmony import */ var _article_editArticle_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./article/editArticle.js */ \"./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/events/article/editArticle.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\n\n\nconst addArticle = new _article_addArticle_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst updateSection = new _section_updateSection_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst editArticle = new _article_editArticle_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass SectionEvents {\n  init(props) {\n    const container = document.querySelector('.content-main.theme-container');\n\n    const dispatchContainer = this.dispatchContainer.bind(this, props);\n    container.addEventListener('click', dispatchContainer);\n  }\n\n  dispatchContainer(props, e) {\n    const t = e.target;\n\n    props.target = t;\n\n    const isEditBtn = t.hasAttribute('js-update-theme');\n    const isArticleAdd = t.hasAttribute('js-create-article');\n    const isEditArticle = t.hasAttribute('js-update-article');\n\n    const element = isEditBtn || isArticleAdd || isEditArticle;\n\n    const theme = utils.getParent(t, 'theme');\n\n    if (theme) {\n      const idSection = theme.getAttribute('data-theme');\n      props.idSection = idSection;\n      props.theme = theme;\n    }\n\n    if (element) {\n      switch (element) {\n        case isEditBtn: {\n          updateSection.init.bind(updateSection)(props);\n          break;\n        }\n        case isArticleAdd: {\n          addArticle.init.bind(addArticle)(props);\n          break;\n        }\n        case isEditArticle: {\n          editArticle.init.bind(editArticle)(props);\n          break;\n        }\n        default: {\n          break;\n        }\n      }\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SectionEvents);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/events/sectionEvents.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/knowledgeBase.js":
/*!****************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/knowledgeBase.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_section_addSection_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/section/addSection.js */ \"./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/events/section/addSection.js\");\n/* harmony import */ var _events_sectionEvents_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/sectionEvents.js */ \"./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/events/sectionEvents.js\");\n\n\n\nconst addSection = new _events_section_addSection_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst sectionEvents = new _events_sectionEvents_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass KnowledgeBase {\n  init(props) {\n    const items = [addSection, sectionEvents];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(props);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (KnowledgeBase);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/knowledgeBase.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/templates/knowledgeTemplates.js":
/*!*******************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/templates/knowledgeTemplates.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass KnowledgeTemplates {\n  sectionTemplate(section) {\n    return `\n        <div class=\"theme-wrapper\">\n          <div class=\"theme__title-wrapper\">\n            <div theme-name class=\"theme-title theme-title_delim theme-title__faq\">${section.name}</div>\n            <div js-update-theme class=\"theme-setting mt_0\"></div>\n            <div js-create-article class=\"add-button add-button_right\">Добавить файл</div>\n          </div>\n          <div class=\"theme__articles\"></div>\n        </div>\n    `;\n  }\n\n  articleTempalte(article) {\n    return `\n        <div class=\"article-wrapper\">\n          <div class=\"article__title\">${article.name}</div>\n          <div class=\"article-preview\">\n            <div class=\"article__preview\">\n              <div class=\"article__preview-hover\"></div>\n              <img src=\"/${article.previewImg}}\" alt=\"\" class=\"article__img\">\n              <div class=\"article__link-wrapper\">\n                <a href=\"${article.link}\" target=\"_blank\" class=\"article__link\">Открыть</a>\n                <div js-update-article class=\"article__btn-link\">Редактировать</div>\n              </div>\n            </div>\n          </div>\n        </div>\n    `;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (KnowledgeTemplates);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/templates/knowledgeTemplates.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/onlineOffice.js":
/*!************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/onlineOffice.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _about_company_aboutCompany_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./about-company/aboutCompany.js */ \"./dev/static/js/platform/menu/items/onlineOffice/about-company/aboutCompany.js\");\n/* harmony import */ var _events_events_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/events.js */ \"./dev/static/js/platform/menu/items/onlineOffice/events/events.js\");\n/* harmony import */ var _knowledge_base_knowledgeBase_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./knowledge-base/knowledgeBase.js */ \"./dev/static/js/platform/menu/items/onlineOffice/knowledge-base/knowledgeBase.js\");\n/* harmony import */ var _production_production_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./production/production.js */ \"./dev/static/js/platform/menu/items/onlineOffice/production/production.js\");\n/* harmony import */ var _reglament_reglament_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./reglament/reglament.js */ \"./dev/static/js/platform/menu/items/onlineOffice/reglament/reglament.js\");\n/* harmony import */ var _training_center_trainingCenter_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./training-center/trainingCenter.js */ \"./dev/static/js/platform/menu/items/onlineOffice/training-center/trainingCenter.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\n\n\n\n\n\n\nconst aboutCompany = new _about_company_aboutCompany_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst events = new _events_events_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst knowledgeBase = new _knowledge_base_knowledgeBase_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst production = new _production_production_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst reglament = new _reglament_reglament_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\nconst trainingCenter = new _training_center_trainingCenter_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\n\nconst ABOUT_COMPANY = 'about-company';\nconst KNOWLEDGE_BASE = 'bookmarks';\nconst TRAINING_CENTER = 'training-center';\nconst REGULATIONS = 'regulations';\nconst MANAGMENT = 'management';\nconst ADVERTISER = 'advertiser';\nconst MANAGER = 'manager';\nconst EVENTS = 'events';\nconst PRODUCTION = 'production';\n\nclass OnlineOffice {\n  init(props) {\n    const page = utils.getPage();\n    const prePage = utils.getPage(1);\n\n    this.dispatchPageName(page, props);\n    this.dispatchSecondPageName(prePage, page, props);\n  }\n\n  dispatchPageName(page, props) {\n    switch (page) {\n      case ABOUT_COMPANY: {\n        aboutCompany.init.bind(aboutCompany)(props);\n        break;\n      }\n      case KNOWLEDGE_BASE: {\n        knowledgeBase.init.bind(knowledgeBase)(props);\n        break;\n      }\n      case TRAINING_CENTER: {\n        trainingCenter.init.bind(trainingCenter)(props);\n        break;\n      }\n      case REGULATIONS: {\n        reglament.init.bind(reglament)(props);\n        break;\n      }\n      case EVENTS: {\n        events.init.bind(events)(props);\n        break;\n      }\n      case PRODUCTION: {\n        production.init.bind(production)(props);\n        break;\n      }\n      default: {\n        break;\n      }\n    }\n  }\n\n  dispatchSecondPageName(prePage, page, props) {\n    switch (prePage) {\n      case REGULATIONS: {\n        switch (page) {\n          case MANAGER:\n          case ADVERTISER:\n          case MANAGMENT: {\n            reglament.init.bind(reglament)(props);\n            break;\n          }\n          default: {\n            break;\n          }\n        }\n        break;\n      }\n      case KNOWLEDGE_BASE: {\n        switch (page) {\n          case MANAGER:\n          case ADVERTISER:\n          case MANAGMENT: {\n            knowledgeBase.init.bind(knowledgeBase)(props);\n            break;\n          }\n          default: {\n            break;\n          }\n        }\n        break;\n      }\n      case TRAINING_CENTER: {\n        trainingCenter.init.bind(trainingCenter)(props);\n\n        switch (page) {\n          case MANAGER:\n          case ADVERTISER: {\n            trainingCenter.init.bind(trainingCenter)(props);\n            break;\n          }\n          default: {\n            break;\n          }\n        }\n        break;\n      }\n      default: {\n        break;\n      }\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OnlineOffice);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/onlineOffice.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/production/events/addProduction.js":
/*!*******************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/production/events/addProduction.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass AddProduction {\n  init(props) {\n    const menu = document.querySelector('[js-menu-create-article]');\n\n    this.clearMenu(menu);\n    utils.openModalAnimation(menu, true);\n\n    const saveBtn = menu.querySelector('[js-save-article]');\n\n    if (saveBtn) {\n      const save = utils.setCloneElement(saveBtn);\n\n      const params = {\n        ...props,\n        menu,\n      };\n\n      const saveReglament = this.saveReglament.bind(this, params);\n      save.addEventListener('click', saveReglament);\n\n      const toError = validation.toValidationError.bind(validation);\n      save.addEventListener('dblclick', toError);\n    }\n\n    const closeBtn = document.querySelector('[js-menu-create-article-close-btn]');\n\n    if (closeBtn) {\n      const close = utils.setCloneElement(closeBtn);\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n      const closeMenu = utils.closeModalAnimation.bind(utils, menu, wrapper, false, false);\n      close.addEventListener('click', closeMenu);\n    }\n  }\n\n  clearMenu(menu) {\n    const name = menu.querySelector('[js-article-form-name]');\n    const link = menu.querySelector('[js-article-form-link]');\n    const file = menu.querySelector('#file');\n    const editor = menu.querySelector('.ql-editor');\n\n    if (editor) {\n      editor.innerText = '';\n    }\n\n    const items = [name, link, file];\n\n    items.forEach((item) => {\n      item.value = '';\n    });\n  }\n\n  saveReglament(props, e) {\n    const { menu } = props;\n    const t = e.target;\n\n    const form = menu.querySelector('[js-article-form]');\n\n    if (validation.validateReglament(form)) {\n      t.style.pointerEvents = 'none';\n\n      const formData = new FormData(form);\n\n      const saveReglament = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.reglamentAPI.saveReglament(formData);\n\n      const loader = setTimeout(() => {\n        utils.showLoader();\n      }, 400);\n\n      saveReglament.then(() => {\n        t.style.pointerEvents = 'all';\n        clearTimeout(loader);\n        utils.hideLoader();\n\n        /* Code after save */\n      }, () => t.style.pointerEvents = 'all');\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddProduction);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/production/events/addProduction.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/production/events/deleteProduction.js":
/*!**********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/production/events/deleteProduction.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass DeleteProduction {\n  init(props) {\n    const { target } = props;\n\n    const removeReglament = this.removeReglament.bind(this, props);\n\n    const popupProps = {\n      text: 'Вы действительно хотите удалить этот раздел?',\n      settings: null,\n      title: null,\n      ok: removeReglament,\n      cancel: null,\n      target,\n    };\n\n    popup.init(popupProps);\n  }\n\n  removeReglament(props) {\n    const { idReglament, menu } = props;\n    const remove = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.reglamentAPI.deleteReglament(idReglament);\n\n    const loader = setTimeout(utils.showLoader, 400);\n\n    remove.then(() => {\n      clearInterval(loader);\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n      utils.closeModalAnimation(menu, wrapper, false, false);\n\n      utils.removePopup();\n\n      const reglament = document.querySelector(`.theme[data-article=\"${idReglament}\"]`);\n\n      if (reglament) {\n        reglament.remove();\n      }\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DeleteProduction);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/production/events/deleteProduction.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/production/events/updateProduction.js":
/*!**********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/production/events/updateProduction.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n/* harmony import */ var _deleteProduction_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./deleteProduction.js */ \"./dev/static/js/platform/menu/items/onlineOffice/production/events/deleteProduction.js\");\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst deleteProduction = new _deleteProduction_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass UpdateProduction {\n  init(props) {\n    const params = {\n      ...props,\n      menu: document.querySelector('[js-menu-update-article]'),\n    };\n\n    const { menu, idReglament } = params;\n\n    const getReglamentData = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.reglamentAPI.getReglament(idReglament);\n\n    const loader = setTimeout(() => {\n      utils.showLoader();\n    }, 400);\n\n    getReglamentData.then((reglament) => {\n      clearTimeout(loader);\n      utils.hideLoader();\n\n      utils.openModalAnimation(menu, true);\n\n      params.reglament = reglament;\n\n      this.setReglamentData(params);\n\n      const updateBtn = menu.querySelector('[js-update-save-article]');\n\n      if (updateBtn) {\n        const update = utils.setCloneElement(updateBtn);\n\n        const updateReglament = this.updateReglament.bind(this, params);\n        update.addEventListener('click', updateReglament);\n\n        const toError = validation.toValidationError.bind(validation);\n        update.addEventListener('dblclick', toError);\n      }\n\n      const closeBtn = document.querySelector('[js-menu-update-article-close-btn]');\n\n      if (closeBtn) {\n        const close = utils.setCloneElement(closeBtn);\n        const wrapper = menu.querySelector('.platform-modal__wrapper');\n        const closeMenu = utils.closeModalAnimation.bind(utils, menu, wrapper, false, false);\n        close.addEventListener('click', closeMenu);\n      }\n\n      const removeBtn = menu.querySelector('[js-delete-article]');\n\n      if (removeBtn) {\n        const remove = utils.setCloneElement(removeBtn);\n\n        const removeReglament = deleteProduction.init.bind(deleteProduction, params);\n        remove.addEventListener('click', removeReglament);\n      }\n    });\n  }\n\n  setReglamentData(props) {\n    const { reglament, menu } = props;\n\n    const name = menu.querySelector('[js-update-article-form-name]');\n    name.value = reglament.name;\n\n    const kind = menu.querySelector(`[name=\"kind\"][value=\"${reglament.kind}\"]`);\n    kind.checked = true;\n\n    const editor = menu.querySelector('.ql-editor');\n\n    if (editor) {\n      editor.innerHTML = reglament.text;\n    }\n\n    const link = menu.querySelector('[js-update-article-form-link]');\n\n    if (link) {\n      link.value = reglament.value || '';\n    }\n  }\n\n  updateReglament(props, e) {\n    const t = e.target;\n\n    const form = document.querySelector('[js-update-article-form]');\n\n    const { idReglament } = props;\n\n    if (validation.validateReglament(form)) {\n      t.style.pointerEvents = 'none';\n\n      const formData = new FormData(form);\n      formData.set('id', idReglament);\n\n      const loader = setTimeout(() => {\n        utils.showLoader();\n      });\n\n      const update = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.reglamentAPI.updateReglament(formData);\n\n      update.then((reglament) => {\n        t.style.pointerEvents = 'all';\n\n        clearTimeout(loader);\n        utils.hideLoader();\n\n        props.reglament = reglament;\n\n        const afterUpdateReglament = this.afterUpdateReglament.bind(this);\n        afterUpdateReglament(props);\n      }, () => t.style.pointerEvents = 'all');\n    }\n  }\n\n  afterUpdateReglament(props) {\n    const { menu, idReglaments, reglament } = props;\n    const { previewImg } = reglament;\n\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n\n    utils.closeModalAnimation(menu, wrapper, false, false);\n\n    const reglaments = Array.from(document.querySelectorAll('.theme'));\n    const reglamentItem = reglaments.find((el) => +el.getAttribute('data-article') === idReglaments);\n\n    const img = reglamentItem.querySelector('.article__img');\n    img.setAttribute('src', previewImg);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UpdateProduction);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/production/events/updateProduction.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/production/events/viewProduction.js":
/*!********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/production/events/viewProduction.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass ViewProduction {\n  init(props, e) {\n    const t = e.target;\n\n    const params = {\n      ...props,\n      menu: document.querySelector('[js-menu-open-article]'),\n    };\n\n    const { idArticle } = params;\n\n    const getReglamentData = _api_api_js__WEBPACK_IMPORTED_MODULE_0__.reglamentAPI.getArticle(idArticle);\n\n    const loader = setTimeout(() => {\n      utils.showLoader();\n    }, 400);\n\n    t.style.pointerEvents = 'none';\n\n    getReglamentData.then((reglament) => {\n      t.style.pointerEvents = 'all';\n      clearTimeout(loader);\n      utils.hideLoader();\n\n      params.reglament = reglament;\n\n      this.afterGetReglament(params);\n\n      const closeBtn = document.querySelector('[js-menu-open-article-close-btn]');\n\n      if (closeBtn) {\n        const { menu } = params;\n\n        const close = utils.setCloneElement(closeBtn);\n        const wrapper = menu.querySelector('.platform-modal__wrapper');\n        const closeMenu = utils.closeModalAnimation.bind(utils, menu, wrapper, false, false);\n        close.addEventListener('click', closeMenu);\n      }\n    }, () => t.style.pointerEvents = 'all');\n  }\n\n  afterGetReglament(props) {\n    const { menu, reglament } = props;\n\n    const title = menu.querySelector('[js-open-title]');\n    title.innerText = reglament.name;\n\n    const text = menu.querySelector('[js-open-text]');\n    text.innerText = reglament.text;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ViewProduction);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/production/events/viewProduction.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/production/production.js":
/*!*********************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/production/production.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_addProduction_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/addProduction.js */ \"./dev/static/js/platform/menu/items/onlineOffice/production/events/addProduction.js\");\n/* harmony import */ var _events_updateProduction_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/updateProduction.js */ \"./dev/static/js/platform/menu/items/onlineOffice/production/events/updateProduction.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _events_viewProduction_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./events/viewProduction.js */ \"./dev/static/js/platform/menu/items/onlineOffice/production/events/viewProduction.js\");\n\n\n\n\n\nconst addProduction = new _events_addProduction_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst updateProduction = new _events_updateProduction_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst viewProduction = new _events_viewProduction_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass Production {\n    init(props) {\n        const container = document.querySelector('.content-main.article-container.production');\n\n        const dispatchContainer = this.dispatchContainer.bind(this, props);\n\n        if (container) {\n            const clone = utils.setCloneElement(container);\n            clone.addEventListener('click', dispatchContainer);\n        }\n    }\n\n    dispatchContainer(props, e) {\n        const t = e.target;\n        props.target = t;\n\n        const create = t.hasAttribute('js-create-article') ? 'create' : '';\n        const update = t.hasAttribute('js-update-article') ? 'update' : '';\n        const view = t.hasAttribute('js-open-article') ? 'view' : '';\n\n        const button = create || update || view;\n\n        props.idReglament = +utils.getParent(t, 'theme')?.getAttribute('data-article');\n\n        switch (button) {\n            case 'create': {\n                addProduction.init.bind(addProduction)(props);\n                break;\n            }\n            case 'update': {\n                updateProduction.init.bind(updateProduction)(props);\n                break;\n            }\n            case 'view': {\n                viewProduction.init.bind(viewProduction)(props);\n                break;\n            }\n            default: {\n                break;\n            }\n        }\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Production);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/production/production.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/reglament/events/addReglaments.js":
/*!******************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/reglament/events/addReglaments.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass AddReglament {\n  init(props) {\n    const menu = document.querySelector('[js-menu-create-article]');\n\n    this.clearMenu(menu);\n    utils.openModalAnimation(menu, true);\n\n    const saveBtn = menu.querySelector('[js-save-article]');\n\n    if (saveBtn) {\n      const save = utils.setCloneElement(saveBtn);\n\n      const params = {\n        ...props,\n        menu,\n      };\n\n      const saveReglament = this.saveReglament.bind(this, params);\n      save.addEventListener('click', saveReglament);\n\n      const toError = validation.toValidationError.bind(validation);\n      save.addEventListener('dblclick', toError);\n    }\n\n    const closeBtn = document.querySelector('[js-menu-create-article-close-btn]');\n\n    if (closeBtn) {\n      const close = utils.setCloneElement(closeBtn);\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n      const closeMenu = utils.closeModalAnimation.bind(utils, menu, wrapper, false, false);\n      close.addEventListener('click', closeMenu);\n    }\n  }\n\n  clearMenu(menu) {\n    const name = menu.querySelector('[js-article-form-name]');\n    const type = menu.querySelector('[js-article-form-type]');\n    const link = menu.querySelector('[js-article-form-link]');\n    const file = menu.querySelector('#file');\n    const editor = menu.querySelector('.ql-editor');\n\n    if (editor) {\n      editor.innerText = '';\n    }\n\n    const items = [name, type, link, file];\n\n    items.forEach((item) => {\n      item.value = '';\n    });\n  }\n\n  saveReglament(props, e) {\n    const { menu } = props;\n    const t = e.target;\n\n    const form = menu.querySelector('[js-article-form]');\n\n    if (validation.validateReglament(form)) {\n      t.style.pointerEvents = 'none';\n\n      const formData = new FormData(form);\n\n      const saveReglament = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.reglamentAPI.saveReglament(formData);\n\n      const loader = setTimeout(() => {\n        utils.showLoader();\n      }, 400);\n\n      saveReglament.then(() => {\n        t.style.pointerEvents = 'all';\n        clearTimeout(loader);\n        utils.hideLoader();\n\n        /* Code after save */\n      }, () => t.style.pointerEvents = 'all');\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddReglament);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/reglament/events/addReglaments.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/reglament/events/deleteReglament.js":
/*!********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/reglament/events/deleteReglament.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass DeleteReglament {\n  init(props) {\n    const { target } = props;\n\n    const removeReglament = this.removeReglament.bind(this, props);\n\n    const popupProps = {\n      text: 'Вы действительно хотите удалить этот регламент?',\n      settings: null,\n      title: null,\n      ok: removeReglament,\n      cancel: null,\n      target,\n    };\n\n    popup.init(popupProps);\n  }\n\n  removeReglament(props) {\n    const { idReglament, menu } = props;\n    const remove = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.reglamentAPI.deleteReglament(idReglament);\n\n    const loader = setTimeout(utils.showLoader, 400);\n\n    remove.then(() => {\n      clearInterval(loader);\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n      utils.closeModalAnimation(menu, wrapper, false, false);\n\n      const reglament = document.querySelector(`.theme[data-article=\"${idReglament}\"]`);\n\n      if (reglament) {\n        reglament.remove();\n      }\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DeleteReglament);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/reglament/events/deleteReglament.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/reglament/events/updateReglament.js":
/*!********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/reglament/events/updateReglament.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n/* harmony import */ var _deleteReglament_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./deleteReglament.js */ \"./dev/static/js/platform/menu/items/onlineOffice/reglament/events/deleteReglament.js\");\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst deleteReglament = new _deleteReglament_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass UpdateReglament {\n  init(props) {\n    const params = {\n      ...props,\n      menu: document.querySelector('[js-menu-update-article]'),\n    };\n\n    const { menu, idReglament } = params;\n\n    const getReglamentData = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.reglamentAPI.getReglament(idReglament);\n\n    const loader = setTimeout(() => {\n      utils.showLoader();\n    }, 400);\n\n    getReglamentData.then((reglament) => {\n      clearTimeout(loader);\n      utils.hideLoader();\n\n      utils.openModalAnimation(menu, true);\n\n      params.reglament = reglament;\n\n      this.setReglamentData(params);\n\n      const updateBtn = menu.querySelector('[js-update-save-article]');\n\n      if (updateBtn) {\n        const update = utils.setCloneElement(updateBtn);\n\n        const updateReglament = this.updateReglament.bind(this, params);\n        update.addEventListener('click', updateReglament);\n\n        const toError = validation.toValidationError.bind(validation);\n        update.addEventListener('dblclick', toError);\n      }\n\n      const closeBtn = document.querySelector('[js-menu-update-article-close-btn]');\n\n      if (closeBtn) {\n        const close = utils.setCloneElement(closeBtn);\n        const wrapper = menu.querySelector('.platform-modal__wrapper');\n        const closeMenu = utils.closeModalAnimation.bind(utils, menu, wrapper, false, false);\n        close.addEventListener('click', closeMenu);\n      }\n\n      const removeBtn = menu.querySelector('[js-delete-article]');\n\n      if (removeBtn) {\n        const remove = utils.setCloneElement(removeBtn);\n\n        const removeReglament = deleteReglament.init.bind(deleteReglament, params);\n        remove.addEventListener('click', removeReglament);\n      }\n    });\n  }\n\n  setReglamentData(props) {\n    const { reglament, menu } = props;\n\n    const name = menu.querySelector('[js-update-article-form-name]');\n    name.value = reglament.name;\n\n    const type = menu.querySelector('[js-update-article-form-type]');\n    type.value = reglament.type;\n\n    const kind = menu.querySelector(`[name=\"kind\"][value=\"${reglament.kind}\"]`);\n    kind.checked = true;\n\n    const editor = menu.querySelector('.ql-editor');\n\n    if (editor) {\n      editor.innerHTML = reglament.text;\n    }\n\n    const link = menu.querySelector('[js-update-article-form-link]');\n\n    if (link) {\n      link.value = reglament.value;\n    }\n  }\n\n  updateReglament(props, e) {\n    const t = e.target;\n\n    const form = document.querySelector('[js-update-article-form]');\n\n    const { idReglament } = props;\n\n    if (validation.validateReglament(form)) {\n      t.style.pointerEvents = 'none';\n\n      const formData = new FormData(form);\n      formData.set('id', idReglament);\n\n      const loader = setTimeout(() => {\n        utils.showLoader();\n      });\n\n      const update = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.reglamentAPI.updateReglament(formData);\n\n      update.then((reglament) => {\n        t.style.pointerEvents = 'all';\n\n        clearTimeout(loader);\n        utils.hideLoader();\n\n        props.reglament = reglament;\n\n        const afterUpdateReglament = this.afterUpdateReglament.bind(this);\n        afterUpdateReglament(props);\n      }, () => t.style.pointerEvents = 'all');\n    }\n  }\n\n  afterUpdateReglament(props) {\n    const { menu, idReglaments, reglament } = props;\n    const { previewImg } = reglament;\n\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n\n    utils.closeModalAnimation(menu, wrapper, false, false);\n\n    const reglaments = Array.from(document.querySelectorAll('.theme'));\n    const reglamentItem = reglaments.find((el) => +el.getAttribute('data-article') === idReglaments);\n\n    const img = reglamentItem.querySelector('.article__img');\n    img.setAttribute('src', previewImg);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UpdateReglament);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/reglament/events/updateReglament.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/reglament/events/viewReglament.js":
/*!******************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/reglament/events/viewReglament.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass ViewReglament {\n  init(props, e) {\n    const t = e.target;\n\n    const params = {\n      ...props,\n      menu: document.querySelector('[js-menu-open-article]'),\n    };\n\n    const { idArticle } = params;\n\n    const getReglamentData = _api_api_js__WEBPACK_IMPORTED_MODULE_0__.reglamentAPI.getArticle(idArticle);\n\n    const loader = setTimeout(() => {\n      utils.showLoader();\n    }, 400);\n\n    t.style.pointerEvents = 'none';\n\n    getReglamentData.then((reglament) => {\n      t.style.pointerEvents = 'all';\n      clearTimeout(loader);\n      utils.hideLoader();\n\n      params.reglament = reglament;\n\n      this.afterGetReglament(params);\n\n      const closeBtn = document.querySelector('[js-menu-open-article-close-btn]');\n\n      if (closeBtn) {\n        const { menu } = params;\n\n        const close = utils.setCloneElement(closeBtn);\n        const wrapper = menu.querySelector('.platform-modal__wrapper');\n        const closeMenu = utils.closeModalAnimation.bind(utils, menu, wrapper, false, false);\n        close.addEventListener('click', closeMenu);\n      }\n    }, () => t.style.pointerEvents = 'all');\n  }\n\n  afterGetReglament(props) {\n    const { menu, reglament } = props;\n\n    const title = menu.querySelector('[js-open-title]');\n    title.innerText = reglament.name;\n\n    const text = menu.querySelector('[js-open-text]');\n    text.innerText = reglament.text;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ViewReglament);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/reglament/events/viewReglament.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/reglament/reglament.js":
/*!*******************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/reglament/reglament.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_addReglaments_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/addReglaments.js */ \"./dev/static/js/platform/menu/items/onlineOffice/reglament/events/addReglaments.js\");\n/* harmony import */ var _events_updateReglament_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/updateReglament.js */ \"./dev/static/js/platform/menu/items/onlineOffice/reglament/events/updateReglament.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _events_viewReglament_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./events/viewReglament.js */ \"./dev/static/js/platform/menu/items/onlineOffice/reglament/events/viewReglament.js\");\n\n\n\n\n\nconst addReglament = new _events_addReglaments_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst updateReglament = new _events_updateReglament_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst viewReglament = new _events_viewReglament_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass Reglament {\n    init(props) {\n        const container = document.querySelector('.content-main.article-container');\n\n        const dispatchContainer = this.dispatchContainer.bind(this, props);\n\n        container.addEventListener('click', dispatchContainer);\n    }\n\n    dispatchContainer(props, e) {\n        const t = e.target;\n        props.target = t;\n\n        const create = t.hasAttribute('js-create-article');\n        const update = t.hasAttribute('js-update-article');\n        const view = t.hasAttribute('js-open-article');\n\n        const button = create || update || view;\n\n        props.idReglament = +utils.getParent(t, 'theme')?.getAttribute('data-article');\n\n        switch (button) {\n            case create: {\n                addReglament.init.bind(addReglament)(props);\n                break;\n            }\n            case update: {\n                updateReglament.init.bind(updateReglament)(props);\n                break;\n            }\n            case view: {\n                viewReglament.init.bind(viewReglament)(props);\n                break;\n            }\n            default: {\n                break;\n            }\n        }\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Reglament);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/reglament/reglament.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/training-center/events/course/createCourse.js":
/*!******************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/training-center/events/course/createCourse.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass CreateCourse {\n  init(props) {\n    const params = {\n      ...props,\n      menu: document.querySelector('[js-menu-create-tutorial]'),\n    };\n\n    const { menu } = params;\n\n    utils.openModalAnimation(menu, true);\n\n    this.clearMenu(menu);\n\n    const closeBtn = menu.querySelector('[js-menu-create-tutorial-close-btn]');\n\n    if (closeBtn) {\n      const close = utils.setCloneElement(closeBtn);\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n      const closeMenu = utils.closeModalAnimation.bind(utils, menu, wrapper, false, false);\n      close.addEventListener('click', closeMenu);\n    }\n\n    const saveBtn = menu.querySelector('[js-save-tutorial]');\n\n    if (saveBtn) {\n      const save = utils.setCloneElement(saveBtn);\n      const saveTrainingCourse = this.saveTrainingCourse.bind(this, params);\n      save.addEventListener('click', saveTrainingCourse);\n\n      const toError = validation.toValidationError.bind(validation);\n\n      save.addEventListener('dblclick', toError);\n    }\n  }\n\n  clearMenu(menu) {\n    const type = menu.querySelector('[js-tutorial-form-type]');\n    type.value = 'admin';\n\n    const name = menu.querySelector('[js-tutorial-form-name]');\n    name.value = '';\n\n    const file = menu.querySelector('#file');\n    file.value = '';\n  }\n\n  saveTrainingCourse(props, e) {\n    const t = e.target;\n    const { menu } = props;\n\n    const form = menu.querySelector('[js-tutorial-form]');\n\n    if (validation.validateTrainingCourse(form)) {\n      t.style.pointerEvents = 'none';\n\n      const formData = new FormData(form);\n\n      const saveCourse = _api_api_js__WEBPACK_IMPORTED_MODULE_2__.trainigCenterAPI.saveCourse(formData);\n\n      const loader = setTimeout(() => {\n        utils.showLoader();\n      }, 400);\n\n      saveCourse.then((course) => {\n        t.style.pointerEvents = 'add';\n        clearTimeout(loader);\n        utils.hideLoader();\n\n        props.course = course;\n\n        this.afterSaveCourse(props);\n      }, () => t.style.pointerEvents = 'all');\n    }\n  }\n\n  afterSaveCourse(props) {\n    const { menu } = props;\n\n    utils.closeModalAnimation(menu, true);\n    /* code after save */\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CreateCourse);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/training-center/events/course/createCourse.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/training-center/events/course/removeCourse.js":
/*!******************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/training-center/events/course/removeCourse.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass RemoveCourse {\n  init(props, e) {\n    this.removeCourse(props, e);\n  }\n\n  removeCourse(props, e) {\n    const t = e.target;\n\n    t.style.pointerEvents = 'none';\n\n    const removeCourse = this.removeCourseItem.bind(this, props);\n\n    const popupProps = {\n      text: 'Вы дуйствительно хотите удалить этот курс?',\n      settings: null,\n      title: null,\n      ok: removeCourse,\n      cancel: null,\n      target: t,\n    };\n\n    popup.init(popupProps);\n  }\n\n  removeCourseItem(props) {\n    const { idSection, target, menu } = props;\n    const remove = _api_api_js__WEBPACK_IMPORTED_MODULE_0__.trainigCenterAPI.removeCourse(idSection);\n\n    remove.then(() => {\n      target.style.pointerEvents = 'all';\n\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n\n      utils.closeModalAnimation(menu, wrapper, false, false);\n\n      this.afterRemoveLoader(props);\n    });\n  }\n\n  afterRemoveLoader(props) {\n    const { idSection } = props;\n\n    const section = document.querySelector(`.theme[data-tutorial=\"${idSection}\"]`);\n\n    if (section) {\n      section.remove();\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RemoveCourse);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/training-center/events/course/removeCourse.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/training-center/events/course/updateCourse.js":
/*!******************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/training-center/events/course/updateCourse.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _removeCourse_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./removeCourse.js */ \"./dev/static/js/platform/menu/items/onlineOffice/training-center/events/course/removeCourse.js\");\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst removeCourse = new _removeCourse_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass UpdateCourse {\n  init(props) {\n    const params = {\n      ...props,\n      menu: document.querySelector('[js-menu-update-tutorial]'),\n    };\n\n    const { menu, idSection, target } = params;\n\n    const getCourseData = _api_api_js__WEBPACK_IMPORTED_MODULE_2__.trainigCenterAPI.getCourseData(idSection);\n\n    const loader = setTimeout(() => {\n      utils.showLoader();\n    }, 400);\n\n    target.style.pointerEvents = 'none';\n\n    getCourseData.then((course) => {\n      target.style.pointerEvents = 'all';\n      clearTimeout(loader);\n      utils.hideLoader();\n\n      params.course = course;\n\n      this.updateEvents(params);\n      this.setDataCourse(params);\n\n      utils.openModalAnimation(menu, true);\n    }, () => target.style.pointerEvents = 'all');\n  }\n\n  setDataCourse(params) {\n    const { menu, course } = params;\n\n    const id = menu.querySelector('[js-update-tutorial-form-id]');\n    id.value = course.id;\n\n    const img = menu.querySelector('[js-update-tutorial-form-img]');\n    img.value = course.previewImg;\n\n    const type = menu.querySelector('[js-update-tutorial-form-type]');\n    type.value = course.type;\n\n    const name = menu.querySelector('[js-update-tutorial-form-name]');\n    name.value = course.name;\n  }\n\n  updateEvents(params) {\n    const { menu } = params;\n\n    const closeBtn = menu.querySelector('[js-menu-update-tutorial-close-btn]');\n\n    if (closeBtn) {\n      const close = utils.setCloneElement(closeBtn);\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n      const closeMenu = utils.closeModalAnimation.bind(utils, menu, wrapper, false, false);\n      close.addEventListener('click', closeMenu);\n    }\n\n    const saveBtn = menu.querySelector('[js-update-save-tutorial]');\n\n    if (saveBtn) {\n      const updateCourse = this.updateCourse.bind(this, params);\n      const save = utils.setCloneElement(saveBtn);\n\n      save.addEventListener('click', updateCourse);\n    }\n\n    const removeBtn = menu.querySelector('[js-delete-tutorial]');\n\n    if (removeBtn) {\n      const remove = utils.setCloneElement(removeBtn);\n\n      const removeSection = removeCourse.init.bind(removeCourse, params);\n\n      remove.addEventListener('click', removeSection);\n    }\n  }\n\n  updateCourse(props, e) {\n    const t = e.target;\n    const { menu } = props;\n\n    const form = menu.querySelector('[js-update-tutorial-form]');\n\n    if (validation.validateTrainingCourse(form)) {\n      t.style.pointerEvents = 'none';\n      const formData = new FormData(form);\n\n      const update = _api_api_js__WEBPACK_IMPORTED_MODULE_2__.trainigCenterAPI.updateCourse(formData);\n\n      const loader = setTimeout(utils.showLoader, 400);\n\n      update.then((course) => {\n        t.style.pointerEvents = 'all';\n        clearTimeout(loader);\n\n        this.afterUpdateCourse(course, menu);\n      }, () => t.style.pointerEvents = 'all');\n    }\n  }\n\n  afterUpdateCourse(course, menu) {\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n    utils.closeModalAnimation(menu, wrapper, false, false);\n\n    const courseItem = document.querySelector(`.theme[data-article=\"${course.id}\"]`);\n\n    const img = courseItem.querySelector('[tutorial-preview]');\n    img.setAttribute('src', course.previewImg);\n\n    const name = courseItem.querySelector('[tutorial-name]');\n    name.innerText = course.name;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UpdateCourse);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/training-center/events/course/updateCourse.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/training-center/events/files.js":
/*!****************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/training-center/events/files.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _templates_trainingCenterTemplates_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../templates/trainingCenterTemplates.js */ \"./dev/static/js/platform/menu/items/onlineOffice/training-center/templates/trainingCenterTemplates.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\n\nconst trainigCenterTemplates = new _templates_trainingCenterTemplates_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass Files {\n  setFiles(props, filesData, menu, isNew, e) {\n    const t = e.target;\n    const { files } = t;\n\n    const documents = menu.querySelector('.input-element__documents .input-element__documents-new');\n\n    const setTemplate = async () => {\n      for (let i = 0; i < files.length; i++) {\n        const file = files[i];\n        filesData.append(file.name, file);\n\n        const fileProperty = {\n          name: file.name,\n          type: file.name.split('.')[file.name.split('.').length - 1],\n        };\n\n        const div = document.createElement('div');\n        div.classList.add('input-element__document-wrapper');\n        div.innerHTML = trainigCenterTemplates.fileTemplate(fileProperty, isNew ? 'new' : '');\n\n        await documents.appendChild(div);\n      }\n    };\n\n    setTemplate().then(() => {\n      const removeBtn = menu.querySelectorAll('[js-delete-doc]');\n\n      const removeFile = this.removeFile.bind(this, false, filesData);\n\n      if (removeBtn.length) {\n        removeBtn.forEach((item) => {\n          item.addEventListener('click', removeFile);\n        });\n      }\n    });\n  }\n\n  appendFiles(formData, files) {\n    /* eslint-disable-next-line */\n    for (const pair of files.entries()) {\n      formData.append('files', pair[1]);\n    }\n  }\n\n  removeFile(lesson, fildesData, e) {\n    const t = e.target;\n\n    if (utils.getParent(t, 'input-element__documents-old')) {\n      const id = t.getAttribute('data-file');\n\n      const file = lesson.documents.find((el) => el.path === id);\n\n      const formData = new FormData();\n      formData.set('idLesson', lesson.id);\n      formData.set('file', `${file.name}.${file.type}`);\n\n      _api_api_js__WEBPACK_IMPORTED_MODULE_1__.trainigCenterAPI.removeDocument(formData);\n\n      utils.getParent(t, 'input-element__document-wrapper').remove();\n    } else {\n      fildesData.delete(t.getAttribute('data-file'));\n      utils.getParent(t, 'input-element__document-wrapper').remove();\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Files);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/training-center/events/files.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/training-center/events/lesson/createLesson.js":
/*!******************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/training-center/events/lesson/createLesson.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _templates_trainingCenterTemplates_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../templates/trainingCenterTemplates.js */ \"./dev/static/js/platform/menu/items/onlineOffice/training-center/templates/trainingCenterTemplates.js\");\n/* harmony import */ var _files_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../files.js */ \"./dev/static/js/platform/menu/items/onlineOffice/training-center/events/files.js\");\n\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst trainigCenterTemplates = new _templates_trainingCenterTemplates_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst filesAdd = new _files_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n\nclass CreateLesson {\n  init(props) {\n    const params = {\n      ...props,\n      menu: document.querySelector('[js-menu-create-lesson]'),\n    };\n\n    const filesData = new FormData();\n\n    const { menu } = params;\n\n    this.clearMenu(menu);\n\n    utils.openModalAnimation(menu, true);\n\n    const closeBtn = document.querySelector('[js-menu-create-lesson-close-btn]');\n\n    if (closeBtn) {\n      const close = utils.setCloneElement(closeBtn);\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n\n      const closeMenu = utils.closeModalAnimation.bind(utils, menu, wrapper, false, false);\n\n      close.addEventListener('click', closeMenu);\n    }\n\n    const saveBtn = document.querySelector('[js-save-lesson]');\n\n    if (saveBtn) {\n      const saveLesson = this.saveLesson.bind(this, params, filesData);\n      const save = utils.setCloneElement(saveBtn);\n\n      save.addEventListener('click', saveLesson);\n\n      const toError = validation.toValidationError.bind(validation);\n      save.addEventListener('click', toError);\n    }\n\n    const files = menu.querySelector('#files');\n\n    if (files) {\n      const fileInput = utils.setCloneElement(files);\n\n      const setFiles = filesAdd.setFiles.bind(filesAdd, params, filesData, menu, true);\n      fileInput.addEventListener('change', setFiles);\n    }\n  }\n\n  clearMenu(menu) {\n    const name = menu.querySelector('[js-lesson-form-name]');\n    name.value = '';\n\n    const desc = menu.querySelector('[js-lesson-form-desc]');\n    desc.value = '';\n\n    const video = menu.querySelector('[js-lesson-form-video-link]');\n    video.value = '';\n\n    const input = menu.querySelector('.input-upload-file');\n    input.value = '';\n\n    const documents = menu.querySelector('.input-element__documents .input-element__documents-new');\n\n    utils.removeChildren(documents);\n  }\n\n  saveLesson(props, filesData, e) {\n    const { idSection } = props;\n    const t = e.target;\n    const form = document.querySelector('[js-lesson-form]');\n\n    if (validation.validateLessonTrainingCentr(form)) {\n      t.style.pointerEvents = 'none';\n\n      const formData = new FormData(form);\n      filesAdd.appendFiles(formData, filesData);\n      formData.set('idTutorial', idSection);\n\n      const save = _api_api_js__WEBPACK_IMPORTED_MODULE_2__.trainigCenterAPI.saveLesson(formData);\n\n      const loader = setTimeout(utils.showLoader, 400);\n\n      save.then((lesson) => {\n        clearTimeout(loader);\n\n        props.lesson = lesson;\n\n        this.afterSaveLesson(props);\n      });\n    }\n  }\n\n  afterSaveLesson(props) {\n    const { menu, idSection, lesson } = props;\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n\n    utils.closeModalAnimation(menu, wrapper, false, false);\n\n    const div = document.createElement('div');\n    div.classList.add('lesson');\n    div.setAttribute('data-lesson', lesson.id);\n    div.innerHTML = trainigCenterTemplates.lessonTemplate(lesson);\n\n    // data-tutorial\n\n    const content = document.querySelector(`.theme[data-tutorial=\"${idSection}\"]`).querySelector('.theme__lessons');\n    content.appendChild(div);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CreateLesson);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/training-center/events/lesson/createLesson.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/training-center/events/lesson/removeLesson.js":
/*!******************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/training-center/events/lesson/removeLesson.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass RemoveLesson {\n  init(props) {\n    const { menu } = props;\n\n    const removeLessonBtn = menu.querySelector('[js-delete-lesson]');\n\n    if (removeLessonBtn) {\n      const update = utils.setCloneElement(removeLessonBtn);\n\n      const remove = this.removeLesson.bind(this, props);\n\n      update.addEventListener('click', remove);\n    }\n  }\n\n  removeLesson(props, e) {\n    const t = e.target;\n    const { lesson, menu, idSection } = props;\n\n    const remove = this.remove.bind(this, lesson, menu, idSection);\n\n    const popupProps = {\n      text: 'Вы действительно хотите удалить этот урок?',\n      settings: null,\n      title: null,\n      ok: remove,\n      cancel: null,\n      target: t,\n    };\n\n    popup.init(popupProps);\n  }\n\n  remove(lesson, menu, idSection) {\n    const deleteLesson = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.trainigCenterAPI.remvoveLesson(lesson.id);\n\n    deleteLesson.then(() => {\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n\n      utils.closeModalAnimation(menu, wrapper, false, false);\n\n      const lessonRemoved = document.querySelector(`.theme[data-tutorial=\"${idSection}\"] .lesson[data-lesson=\"${lesson.id}\"]`);\n\n      lessonRemoved.remove();\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RemoveLesson);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/training-center/events/lesson/removeLesson.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/training-center/events/lesson/updateLesson.js":
/*!******************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/training-center/events/lesson/updateLesson.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _templates_trainingCenterTemplates_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../templates/trainingCenterTemplates.js */ \"./dev/static/js/platform/menu/items/onlineOffice/training-center/templates/trainingCenterTemplates.js\");\n/* harmony import */ var _files_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../files.js */ \"./dev/static/js/platform/menu/items/onlineOffice/training-center/events/files.js\");\n/* harmony import */ var _removeLesson_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./removeLesson.js */ \"./dev/static/js/platform/menu/items/onlineOffice/training-center/events/lesson/removeLesson.js\");\n\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst trainigCenterTemplates = new _templates_trainingCenterTemplates_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst filesAdd = new _files_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst removeLesson = new _removeLesson_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n\nclass UpdateLesson {\n  init(props) {\n    const params = {\n      ...props,\n      menu: document.querySelector('[js-menu-update-lesson]'),\n    };\n\n    const filesData = new FormData();\n\n    const { menu } = params;\n\n    this.getData(params, filesData);\n\n    utils.openModalAnimation(menu, true);\n\n    const closeBtn = document.querySelector('[js-menu-update-lesson-close-btn]');\n\n    if (closeBtn) {\n      const close = utils.setCloneElement(closeBtn);\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n      const closeMenu = utils.closeModalAnimation.bind(utils, menu, wrapper, false, false);\n      close.addEventListener('click', closeMenu);\n    }\n\n    const files = menu.querySelector('#filesUpdate');\n\n    if (files) {\n      const fileInput = utils.setCloneElement(files);\n\n      const setFiles = filesAdd.setFiles.bind(filesAdd, params, filesData, menu, false);\n      fileInput.addEventListener('change', setFiles);\n    }\n  }\n\n  getData(props, filesData) {\n    const { idLesson, menu } = props;\n    const getData = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.trainigCenterAPI.getLesson(idLesson);\n\n    const loader = setTimeout(utils.showLoader, 400);\n\n    getData.then((lesson) => {\n      clearTimeout(loader);\n\n      props.lesson = lesson;\n      this.setData(lesson, menu);\n\n      const removeFileBtn = menu.querySelectorAll('[js-delete-doc]');\n\n      if (removeFileBtn.length) {\n        const removeFile = filesAdd.removeFile.bind(filesAdd, props.lesson, filesData);\n\n        removeFileBtn.forEach((item) => {\n          const removeBtn = utils.setCloneElement(item);\n          removeBtn.addEventListener('click', removeFile);\n        });\n      }\n\n      const updateLesson = menu.querySelector('[js-update-save-lesson]');\n\n      if (updateLesson) {\n        const update = utils.setCloneElement(updateLesson);\n\n        const updLesson = this.updLesson.bind(this, props, filesData);\n\n        update.addEventListener('click', updLesson);\n      }\n\n      removeLesson.init(props);\n    });\n  }\n\n  setData(lesson, menu) {\n    const name = menu.querySelector('[js-update-lesson-form-name]');\n    name.value = lesson.name;\n\n    const id = menu.querySelector('[js-update-lesson-form-id]');\n    id.value = lesson.id;\n\n    const idTutorial = menu.querySelector('[js-update-lesson-form-idTutorial]');\n    idTutorial.value = lesson.idTutorial;\n\n    const description = menu.querySelector('[js-update-lesson-form-desc]');\n    description.value = lesson.description;\n\n    const video = menu.querySelector('[js-update-lesson-form-video-link]');\n    video.value = lesson.videoLink;\n\n    const { documents } = lesson;\n\n    if (documents.length) {\n      const wrapper = document.querySelector('[js-update-lesson-form-documents]');\n\n      utils.removeChildren(wrapper);\n\n      documents.forEach((item) => {\n        const div = document.createElement('div');\n        div.classList.add('input-element__document-wrapper');\n        div.innerHTML = trainigCenterTemplates.fileTemplate(item);\n\n        wrapper.appendChild(div);\n      });\n    }\n  }\n\n  updLesson(props, filesData) {\n    const { menu } = props;\n    const form = menu.querySelector('[js-update-lesson-form]');\n\n    const formData = new FormData(form);\n    filesAdd.appendFiles(formData, filesData);\n\n    const update = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.trainigCenterAPI.updateLesson(formData);\n\n    update.then((lesson) => {\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n      utils.closeModalAnimation(menu, wrapper, false, false);\n\n      const lessonCurrent = document.querySelector(`[data-lesson=\"${lesson.id}\"]`);\n\n      lessonCurrent.querySelector('.lesson-header__title').innerText = lesson.name;\n      lessonCurrent.querySelector('.lesson-description').innerText = lesson.description;\n\n      const documents = lessonCurrent.querySelector('.lesson__documents');\n\n      utils.removeChildren(documents);\n\n      if (lesson.documents.length) {\n        lesson.documents.forEach((item) => {\n          const div = document.createElement('a');\n          div.classList.add('lesson-document');\n          div.setAttribute('href', item.path);\n          div.innerHTML = trainigCenterTemplates.lessonDocument(item);\n\n          documents.appendChild(div);\n        });\n      }\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UpdateLesson);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/training-center/events/lesson/updateLesson.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/training-center/templates/trainingCenterTemplates.js":
/*!*************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/training-center/templates/trainingCenterTemplates.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass TrainigCenterTemplates {\n  lessonTemplate(lesson) {\n    const counter = document.querySelectorAll('.lesson').length;\n\n    return `\n      <div js-update-lesson class=\"theme-setting theme-setting_top theme-setting_absolute theme-setting_big\"></div>\n      <div class=\"lesson__header\">\n        <div class=\"lesson-header__number\">\n          <span lesson-counter=\"\">${counter + 1}</span>\n          <span>урок</span>\n        </div>\n        <div class=\"lesson-header__title\">${lesson.name}</div>\n      </div>\n      <div class=\"lesson__content\">\n        <div class=\"lesson__content-wrapper\">\n          <div class=\"lesson-content__side\">\n            <a href=\"${lesson.videoLink}\" class=\"lesson-video js-fancybox\">\n              <img src=\"/\" class=\"lesson-video__preview\">\n            </a>\n          </div>\n          <div class=\"lesson-content__main\">\n            <div class=\"lesson-description\">${lesson.description}</div>\n            <div class=\"lesson__documents\">\n            ${lesson.documents.length ? lesson.documents.map((item) => {\n      return `\n              <div class=\"lesson__documents\">\n                <a href=\"${item.path}\" class=\"lesson-document\">\n                  <div class=\"lesson-document__type  lesson-document__type_xlsx\">${item.type}</div>\n                  <div class=\"lesson-document__name\">${item.name}</div>\n                </a>\n              </div>`;\n    }).join('') : ''}\n            </div>\n        </div>\n      </div>\n    `;\n  }\n\n  fileTemplate(file) {\n    return `\n        <div class=\"lesson-document lesson-document_full lesson-document_without-hover\">\n        <div class=\"lesson-document__type lesson-document__type_${file.type}\">${file.type}</div>\n        <div class=\"lesson-document__name\">${file.name}</div>\n        </div>\n        <div data-file=\"${file.path || file.name}\" js-delete-doc class=\"lesson-document__delete-btn\"></div>\n      `;\n  }\n\n  lessonDocument(file) {\n    return `\n        <div class=\"lesson-document__type lesson-document__type_${file.type}\">${file.type}</div>\n        <div class=\"lesson-document__name\">${file.name}</div>`;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TrainigCenterTemplates);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/training-center/templates/trainingCenterTemplates.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/onlineOffice/training-center/trainingCenter.js":
/*!******************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/onlineOffice/training-center/trainingCenter.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_course_createCourse_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/course/createCourse.js */ \"./dev/static/js/platform/menu/items/onlineOffice/training-center/events/course/createCourse.js\");\n/* harmony import */ var _events_lesson_createLesson_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/lesson/createLesson.js */ \"./dev/static/js/platform/menu/items/onlineOffice/training-center/events/lesson/createLesson.js\");\n/* harmony import */ var _events_course_updateCourse_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events/course/updateCourse.js */ \"./dev/static/js/platform/menu/items/onlineOffice/training-center/events/course/updateCourse.js\");\n/* harmony import */ var _events_lesson_updateLesson_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./events/lesson/updateLesson.js */ \"./dev/static/js/platform/menu/items/onlineOffice/training-center/events/lesson/updateLesson.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\n\n\n\nconst createCourse = new _events_course_createCourse_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst createLesson = new _events_lesson_createLesson_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst updateCourse = new _events_course_updateCourse_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst updateLesson = new _events_lesson_updateLesson_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n\nclass TrainingCenter {\n  init(props) {\n    const container = document.querySelector('.content-main.theme-container');\n\n    const dispatchContainer = this.dispatchContainer.bind(this, props);\n\n    container.addEventListener('click', dispatchContainer);\n  }\n\n  dispatchContainer(props, e) {\n    const t = e.target;\n    props.target = t;\n\n    const createSection = t.hasAttribute('js-create-tutorial') ? 'create-section' : '';\n    const updateSection = t.hasAttribute('js-update-tutorial') ? 'update-section' : '';\n    const createLearn = t.hasAttribute('js-create-lesson') ? 'create-lesson' : '';\n    const updateLearn = t.hasAttribute('js-update-lesson') ? 'update-lesson' : '';\n\n    const button = createSection || updateSection || createLearn || updateLearn;\n\n    props.idSection = +utils.getParent(t, 'theme')?.getAttribute('data-tutorial');\n\n    switch (button) {\n      case 'create-section': {\n        createCourse.init.bind(createCourse)(props);\n        break;\n      }\n      case 'update-section': {\n        updateCourse.init.bind(updateCourse)(props);\n        break;\n      }\n      case 'create-lesson': {\n        createLesson.init.bind(createLesson)(props);\n        break;\n      }\n      case 'update-lesson': {\n        const idLesson = +utils.getParent(t, 'lesson').getAttribute('data-lesson');\n\n        props.idLesson = idLesson;\n        updateLesson.init.bind(updateLesson)(props);\n        break;\n      }\n      default: {\n        break;\n      }\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TrainingCenter);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/onlineOffice/training-center/trainingCenter.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/banner/banner.js":
/*!*********************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/banner/banner.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_bannerDefault_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/bannerDefault.js */ \"./dev/static/js/platform/menu/items/settings/banner/events/bannerDefault.js\");\n/* harmony import */ var _events_saveBanner_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/saveBanner.js */ \"./dev/static/js/platform/menu/items/settings/banner/events/saveBanner.js\");\n/* harmony import */ var _events_bannersRemove_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events/bannersRemove.js */ \"./dev/static/js/platform/menu/items/settings/banner/events/bannersRemove.js\");\n/* harmony import */ var _events_searchBanner_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./events/searchBanner.js */ \"./dev/static/js/platform/menu/items/settings/banner/events/searchBanner.js\");\n\n\n\n\n\nconst bannerDefault = new _events_bannerDefault_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst saveBanner = new _events_saveBanner_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst bannersRemove = new _events_bannersRemove_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst searchBanner = new _events_searchBanner_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass Banner {\n  init(props) {\n    const items = [bannerDefault, saveBanner, bannersRemove, searchBanner];\n\n    props.banners$ = new Banner();\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(props);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Banner);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/banner/banner.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/banner/events/bannerDefault.js":
/*!***********************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/banner/events/bannerDefault.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _templates_bannersTemplates_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../templates/bannersTemplates.js */ \"./dev/static/js/platform/menu/items/settings/banner/templates/bannersTemplates.js\");\n/* harmony import */ var _bannerPreloader_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./bannerPreloader.js */ \"./dev/static/js/platform/menu/items/settings/banner/events/bannerPreloader.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst bannerTemplates = new _templates_bannersTemplates_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst bannerPreloader = new _bannerPreloader_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass BannerDefault {\n  init(props) {\n    const wrapper = document.querySelector('.banner__files');\n\n    if (wrapper) {\n      utils.removeChildren(wrapper);\n\n      this.setBanners(props);\n      this.setEmptyBanners(props, wrapper);\n\n      bannerPreloader.init(props);\n    }\n  }\n\n  setBanners(props) {\n    const chekList = document.querySelector('.managment__checklist');\n\n    if (chekList) {\n      chekList.remove();\n    }\n\n    const { pack } = props;\n    const { banners } = pack;\n\n    if (!banners.length && chekList) {\n      chekList.remove();\n    } else if (banners.length) {\n      this.renderBannersList(banners);\n    }\n  }\n\n  renderBannersList(banners) {\n    const wrapper = document.querySelector('.banner__managment');\n\n    const wrapperCheckList = document.createElement('div');\n    wrapperCheckList.classList.add('managment__checklist');\n\n    wrapper.appendChild(wrapperCheckList);\n\n    const bannerCheckList = document.createElement('ul');\n    bannerCheckList.classList.add('banner__checklist');\n    bannerCheckList.classList.add('custom-scroll');\n\n    const search = document.createElement('div');\n    const searchInput = document.createElement('input');\n    searchInput.setAttribute('type', 'text');\n    searchInput.setAttribute('placeholder', 'Поиск баннера...');\n    searchInput.classList.add('banner__search');\n    searchInput.classList.add('banner-preview');\n\n    search.appendChild(searchInput);\n    wrapperCheckList.appendChild(search);\n\n    wrapperCheckList.appendChild(bannerCheckList);\n\n    const sortedBanners = banners.sort((a, b) => b.id - a.id);\n\n    const check = document.querySelector('.banner__checklist');\n\n    sortedBanners.forEach((item) => {\n      const listItem = document.createElement('li');\n      listItem.innerText = item.name;\n      listItem.classList.add('banner__checklist-item');\n      listItem.setAttribute('data-id', item.id);\n      listItem.innerHTML = bannerTemplates.getListItemTemplate(item);\n\n      check.appendChild(listItem);\n    });\n  }\n\n  setEmptyBanners(props, wrapper) {\n    const link = document.querySelector('.banner__link');\n    link.value = '';\n\n    const name = document.querySelector('.banner__name');\n    name.value = '';\n\n    const addBanner = document.querySelector('.banner__save');\n    addBanner.classList.remove('disabled');\n\n    wrapper.innerHTML = bannerTemplates.emptyBanners();\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BannerDefault);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/banner/events/bannerDefault.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/banner/events/bannerPreloader.js":
/*!*************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/banner/events/bannerPreloader.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass BannerPreloader {\n  init(props) {\n    const desktopInput = document.querySelector('#banner-desktop');\n    const mobileInput = document.querySelector('#banner-mobile');\n\n    const items = [desktopInput, mobileInput];\n\n    props.removePreloader = this.removePreloader.bind(this);\n\n    const addPreloader = this.addPreloader.bind(this, props);\n\n    items.forEach((item) => {\n      if (item) {\n        const input = utils.setCloneElement(item);\n        input.addEventListener('change', addPreloader);\n      }\n    });\n  }\n\n  addPreloader(props, e) {\n    const t = e.target;\n\n    if (t.value) {\n      const tmpPath = URL.createObjectURL(t.files[0]);\n\n      const a = document.createElement('a');\n      a.setAttribute('data-fancybox', t.value.split('\\\\').pop());\n\n      const img = document.createElement('img');\n      img.classList.add('banner__img');\n      img.setAttribute('src', tmpPath);\n\n      const remove = document.createElement('span');\n      remove.classList.add('banner__remove-preloader');\n\n      const wrapper = utils.getParent(t, 'banner__file-wrapper');\n\n      const label = wrapper.querySelector('label');\n\n      if (label) {\n        label.remove();\n      }\n\n      const image = wrapper.querySelector('img');\n\n      if (image) {\n        image.remove();\n      }\n\n      wrapper.appendChild(img);\n      wrapper.appendChild(remove);\n\n      remove.addEventListener('click', props.removePreloader);\n    }\n  }\n\n  removePreloader(e) {\n    const t = e.target;\n\n    const wrapper = utils.getParent(t, 'banner__file-wrapper');\n    const img = wrapper.querySelector('img');\n    img.remove();\n\n    const input = wrapper.querySelector('input');\n    input.value = '';\n    const type = input.getAttribute('id');\n\n    const label = document.createElement('label');\n    label.setAttribute('for', type);\n    label.classList.add('platform__label');\n    label.classList.add('banner__label');\n\n    const span = document.createElement('span');\n    span.classList.add('banner__icon');\n\n    if (type === 'banner-desktop') {\n      label.innerText = 'Загрузить десктоп версию 1180х350';\n    } else {\n      label.innerText = 'Загрузить мобильную версию 640х440';\n    }\n\n    label.appendChild(span);\n\n    wrapper.appendChild(label);\n    t.remove();\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BannerPreloader);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/banner/events/bannerPreloader.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/banner/events/bannersRemove.js":
/*!***********************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/banner/events/bannersRemove.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass BannersRemove {\n  init(props) {\n    const removeBtn = document.querySelectorAll('.checklist-item__remove');\n\n    if (removeBtn) {\n      const deleteBanner = this.deleteBannerPopup.bind(this, props);\n\n      removeBtn.forEach((item) => {\n        const remove = utils.setCloneElement(item);\n        remove.addEventListener('click', deleteBanner);\n      });\n    }\n  }\n\n  deleteBannerPopup(props, e) {\n    const t = e.target;\n\n    props.target = t;\n\n    const removeBanner = this.removeBanner.bind(this, props);\n\n    const popupProps = {\n      text: 'Вы действительно хотите удалить этот баннер?',\n      settings: null,\n      title: null,\n      ok: removeBanner,\n      cancel: null,\n      target: t,\n    };\n\n    popup.init(popupProps);\n  }\n\n  removeBanner(props) {\n    const { target, pack } = props;\n    const { company } = pack;\n    const { id } = company;\n\n    const idBanner = +utils.getParent(target, 'banner__checklist-item').getAttribute('data-id');\n    const remove = _api_api_js__WEBPACK_IMPORTED_MODULE_0__.bannerAPI.removeBanner(idBanner);\n\n    remove.then(() => {\n      const bannerItems = Array.from(document.querySelectorAll('.banner__checklist-item'));\n      const removedItem = bannerItems.filter((el) => +el.getAttribute('data-id') === idBanner)[0];\n\n      if (removedItem) {\n        removedItem.remove();\n      }\n\n      const getBanners = _api_api_js__WEBPACK_IMPORTED_MODULE_0__.bannerAPI.getBanners(id);\n\n      getBanners.then((banners) => {\n        if (!banners.length) {\n          document.querySelector('.banner__checklist')?.remove();\n        }\n\n        props.pack.banners = banners;\n        props.banners$.init(props);\n      });\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BannersRemove);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/banner/events/bannersRemove.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/banner/events/saveBanner.js":
/*!********************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/banner/events/saveBanner.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst valiadtion = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass SaveBanner {\n  init(props) {\n    const saveBtn = document.querySelector('.banner__save');\n\n    if (saveBtn) {\n      const saveBanner = this.saveBanner.bind(this, props);\n\n      const save = utils.setCloneElement(saveBtn);\n\n      save.addEventListener('click', saveBanner);\n    }\n  }\n\n  saveBanner(props) {\n    if (valiadtion.validateCourseBanner()) {\n      const { pack } = props;\n      const { company } = pack;\n      const { id } = company;\n\n      const formData = new FormData();\n\n      const link = document.querySelector('.banner__link').value;\n      const name = document.querySelector('.banner__name').value;\n      const mobileImg = document.querySelector('#banner-mobile').files[0];\n      const mainImg = document.querySelector('#banner-desktop').files[0];\n\n      const data = {\n        link,\n        idCompany: id,\n        name,\n      };\n\n      formData.append('banner', new Blob([JSON.stringify(data)], {\n        type: 'application/json',\n      }));\n\n      formData.append('mobileImg', mobileImg);\n      formData.append('mainImg', mainImg);\n\n      const saveBanner = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.bannerAPI.saveBanner(formData);\n\n      utils.showLoader();\n\n      saveBanner.then(() => {\n        const getBanners = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.bannerAPI.getBanners(id);\n\n        getBanners.then((banners) => {\n          utils.hideLoader();\n\n          props.pack.banners = banners;\n          props.banners$.init(props);\n        });\n      });\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SaveBanner);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/banner/events/saveBanner.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/banner/events/searchBanner.js":
/*!**********************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/banner/events/searchBanner.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass SearchBanner {\n  init() {\n    const search = document.querySelector('.banner__search');\n\n    if (search) {\n      const searchInput = utils.setCloneElement(search);\n\n      const searchBanner = this.searchBanner.bind(this);\n\n      searchInput.addEventListener('input', searchBanner);\n    }\n  }\n\n  searchBanner(e) {\n    const t = e.target;\n\n    const value = t.value.toLowerCase();\n\n    const items = document.querySelectorAll('.banner__checklist-item');\n\n    if (items.length) {\n      items.forEach((item) => {\n        const name = item.querySelector('.checklist-item__name');\n\n        if (name) {\n          if (!(~name.innerText.trim().toLowerCase().indexOf(value))) {\n            item.classList.add('hide');\n          } else {\n            item.classList.remove('hide');\n          }\n        }\n      });\n    }\n\n    this.afterSearch();\n  }\n\n  afterSearch() {\n    const items = Array.from(document.querySelectorAll('.banner__checklist-item'));\n\n    const placeholder = document.createElement('li');\n    placeholder.classList.add('banner__checklist-item');\n    placeholder.classList.add('placeholder');\n    placeholder.innerText = 'Баннер не найден';\n\n    const showedItems = items.filter((el) => !el.classList.contains('hide') && !el.classList.contains('placeholder'));\n\n    const placeholderItem = document.querySelector('.placeholder');\n\n    if (showedItems.length !== 0 && placeholderItem) {\n      placeholderItem.remove();\n    } else if (!showedItems.length && !placeholderItem) {\n      const wrapper = document.querySelector('.banner__checklist');\n      wrapper.appendChild(placeholder);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SearchBanner);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/banner/events/searchBanner.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/banner/templates/bannersTemplates.js":
/*!*****************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/banner/templates/bannersTemplates.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass BannersTemplates {\n  emptyBanners() {\n    return `\n      <div class=\"banner__file-wrapper\">\n        <input type=\"file\" accept=\".jpg,.svg,.png,.webp,.gif,.avif,.jpeg\" class=\"platform__input banner__file\" id=\"banner-mobile\">\n        <label for=\"banner-mobile\" class=\"platform__label banner__label\">\n          <span class=\"banner__icon\"></span>\n          Загрузить мобильную версию 640х440\n        </label>\n      </div>\n\n      <div class=\"banner__file-wrapper\">\n        <input type=\"file\" accept=\".jpg,.svg,.png,.webp,.gif,.avif,.jpeg\" class=\"platform__input banner__file\" id=\"banner-desktop\">\n        <label for=\"banner-desktop\" class=\"platform__label banner__label\">\n          <span class=\"banner__icon\"></span>\n          Загрузить десктоп версию 1180х350\n        </label>\n      </div>\n    `;\n  }\n\n  bannerCheckList() {\n    return `\n        <div class=\"banner__files\"></div>\n        <div class=\"banner__checklist\"></div>\n    `;\n  }\n\n  getListItemTemplate(item) {\n    return `\n      <span class=\"checklist-item__name\">${item.name}</span>\n      <div class=\"checklist-item__nav\">\n        <span class=\"checklist-item__preview mobile\">\n          <a data-fancybox href=\"/${item.mobileImagePath}\">\n            <img class=\"checklist-item__img\" src=\"/${item.mobileImagePath}\">\n          </a>\n        </span>\n        <span class=\"checklist-item__preview\">\n          <a data-fancybox href=\"/${item.mainImagePath}\">\n            <img class=\"checklist-item__img\" src=\"/${item.mainImagePath}\">\n          </a>\n        </span>\n        <span class=\"checklist-item__remove\"></span>\n      </div>\n    `;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BannersTemplates);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/banner/templates/bannersTemplates.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/bill-templates/billTemplates.js":
/*!************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/bill-templates/billTemplates.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _events_addBillTemplate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/addBillTemplate.js */ \"./dev/static/js/platform/menu/items/settings/bill-templates/events/addBillTemplate.js\");\n/* harmony import */ var _events_editBillTemplate_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events/editBillTemplate.js */ \"./dev/static/js/platform/menu/items/settings/bill-templates/events/editBillTemplate.js\");\n/* harmony import */ var _events_layer_addLayer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./events/layer/addLayer.js */ \"./dev/static/js/platform/menu/items/settings/bill-templates/events/layer/addLayer.js\");\n\n\n\n\n\nconst addBillTemplate = new _events_addBillTemplate_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst editBillTemplate = new _events_editBillTemplate_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst addLayer = new _events_layer_addLayer_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass BillTemplates {\n  init(props) {\n    utils.hideLoader();\n\n    const items = [editBillTemplate, addLayer, addBillTemplate];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(props);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BillTemplates);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/bill-templates/billTemplates.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/bill-templates/events/addBillTemplate.js":
/*!*********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/bill-templates/events/addBillTemplate.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _templateData_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./templateData.js */ \"./dev/static/js/platform/menu/items/settings/bill-templates/events/templateData.js\");\n/* harmony import */ var _layer_removeLayer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./layer/removeLayer.js */ \"./dev/static/js/platform/menu/items/settings/bill-templates/events/layer/removeLayer.js\");\n/* harmony import */ var _templates_billTemplatesTemplates_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../templates/billTemplatesTemplates.js */ \"./dev/static/js/platform/menu/items/settings/bill-templates/templates/billTemplatesTemplates.js\");\n\n\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst templateData = new _templateData_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst removeLayer = new _layer_removeLayer_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\nconst billTemplatesTemplates = new _templates_billTemplatesTemplates_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\n\nclass AddBillTemplate {\n  init(props) {\n    props.addBtn = document.querySelector('.templates__add-btn');\n    props.menu = document.querySelector('[js-menu-add-bill-template]');\n\n    const { addBtn, menu } = props;\n\n    if (addBtn) {\n      const openMenu = this.openMenu.bind(this, props);\n      addBtn.addEventListener('click', openMenu);\n    }\n\n    if (menu) {\n      const closeBtn = menu.querySelector('[js-menu-add-template-close]');\n\n      if (closeBtn) {\n        const wrapper = menu.querySelector('.platform-modal__wrapper');\n        const closeMenu = utils.closeModalAnimation.bind(utils, menu, wrapper, false, false);\n        closeBtn.addEventListener('click', closeMenu);\n      }\n\n      const container = document.querySelector('.layers');\n\n      if (container) {\n        const dispatchContainer = this.dispatchContainer.bind(this, props);\n        container.addEventListener('click', dispatchContainer);\n      }\n    }\n  }\n\n  dispatchContainer(props, e) {\n    const t = e.target;\n\n    if (t.classList.contains('layers-item__delete')) {\n      removeLayer.init(props, t);\n    }\n  }\n\n  openMenu(props, e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const { menu } = props;\n\n    utils.openModalAnimation(menu, true);\n\n    props.idCounter = 0;\n\n    this.clearMenu(menu);\n\n    const layers = menu.querySelector('.layers');\n    layers.classList.add('mt_0');\n\n    const save = menu.querySelector('[js-add-template]');\n\n    if (save) {\n      const saveBillTemplate = this.saveBillTemplate.bind(this, props);\n      const saveBill = utils.setCloneElement(save);\n\n      saveBill.addEventListener('click', saveBillTemplate);\n\n      const toError = validation.toValidationError.bind(validation);\n      saveBill.addEventListener('dblclick', toError);\n    }\n  }\n\n  clearMenu(menu) {\n    const header = menu.querySelector('.template-form__header');\n    header.innerText = 'Создать шаблон';\n\n    const removeBtn = document.querySelector('[remove-bill-template]');\n\n    if (removeBtn) {\n      removeBtn.remove();\n    }\n\n    const addLayerBtn = document.querySelector('.templates__bill-button');\n    addLayerBtn.style.marginTop = '0';\n\n    const name = menu.querySelector('[bill-template-name]');\n    name.value = '';\n\n    const templateLayer = menu.querySelector('[js-templates-bill-wrapper]');\n\n    utils.removeChildren(templateLayer);\n  }\n\n  saveBillTemplate(props, e) {\n    const t = e.target;\n    const { menu, pack } = props;\n    const { company } = pack;\n\n    const form = menu.querySelector('[js-menu-add-template-form]');\n\n    if (validation.validateBillTemplate(form, false)) {\n      const data = templateData.getData(company, props, false);\n\n      const checkTemplate = _api_api_js__WEBPACK_IMPORTED_MODULE_2__.billTemplateAPI.checkPatterns(data);\n\n      checkTemplate.then((isValid) => {\n        if (isValid) {\n          const saveBullTemplate = _api_api_js__WEBPACK_IMPORTED_MODULE_2__.billTemplateAPI.saveBillTemplate(data);\n\n          t.style.pointerEvents = 'none';\n\n          const loader = setTimeout(() => {\n            utils.showLoader();\n          }, 400);\n\n          saveBullTemplate.then((templateId) => {\n            clearTimeout(loader);\n            utils.hideLoader();\n\n            props.billTemplate = data;\n            props.billTemplate.id = templateId;\n            props.target = t;\n\n            this.afterSave(props);\n          }, () => t.style.pointerEvents = 'all');\n        }\n      });\n    }\n  }\n\n  afterSave(props) {\n    const { menu, billTemplate, target } = props;\n    target.style.pointerEvents = 'all';\n\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n\n    utils.closeModalAnimation(menu, wrapper, false, false);\n\n    const div = document.createElement('div');\n    div.classList.add('templates__item');\n    div.setAttribute('data-id', billTemplate.id);\n    div.innerHTML = billTemplatesTemplates.templateItems(billTemplate);\n\n    const templates = document.querySelector('.templates__content');\n\n    templates.appendChild(div);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddBillTemplate);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/bill-templates/events/addBillTemplate.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/bill-templates/events/editBillTemplate.js":
/*!**********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/bill-templates/events/editBillTemplate.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _templates_billTemplatesTemplates_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../templates/billTemplatesTemplates.js */ \"./dev/static/js/platform/menu/items/settings/bill-templates/templates/billTemplatesTemplates.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n/* harmony import */ var _templateData_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./templateData.js */ \"./dev/static/js/platform/menu/items/settings/bill-templates/events/templateData.js\");\n/* harmony import */ var _removeTemplate_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./removeTemplate.js */ \"./dev/static/js/platform/menu/items/settings/bill-templates/events/removeTemplate.js\");\n/* harmony import */ var _layer_selectDates_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./layer/selectDates.js */ \"./dev/static/js/platform/menu/items/settings/bill-templates/events/layer/selectDates.js\");\n\n\n\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst billTemplatesTemplates = new _templates_billTemplatesTemplates_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst templateData = new _templateData_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\nconst removeTemplate = new _removeTemplate_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\nconst selectDates = new _layer_selectDates_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\n\nclass EditBillTemplate {\n  init(props) {\n    const container = document.querySelector('.templates__content');\n\n    const dispatchContainer = this.dispatchContainer.bind(this, props);\n\n    if (container) {\n      container.addEventListener('click', dispatchContainer);\n    }\n  }\n\n  dispatchContainer(props, e) {\n    const t = e.target;\n\n    if (t.classList.contains('templates__item')) {\n      this.editTemplate(props, e);\n    }\n  }\n\n  editTemplate(props, e) {\n    const t = e.target;\n\n    const id = +t.getAttribute('data-id');\n\n    const getTemplate = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.billTemplateAPI.getBillTemplate(id);\n\n    const loader = setTimeout(() => {\n      utils.showLoader();\n    }, 400);\n\n    getTemplate.then((template) => {\n      clearTimeout(loader);\n      utils.hideLoader();\n\n      props.currentTemplate = template;\n\n      this.openEditMenu(props, e);\n\n      removeTemplate.init(props);\n    });\n  }\n\n  openEditMenu(props) {\n    const menu = document.querySelector('[js-menu-add-bill-template]');\n\n    props.menu = menu;\n\n    menu.querySelector('.template-form__header').innerText = 'Редактировать шаблон';\n\n    if (!menu.querySelector('[remove-bill-template]')) {\n      this.setRemoveBtn(props);\n    }\n\n    props.idCounter = 0;\n    props.layersCounter = 0;\n\n    this.setData(props);\n\n    const layers = menu.querySelectorAll('.layers__item');\n\n    if (layers.length) {\n      const wrapper = menu.querySelector('.templates-btn__wrapper');\n      wrapper.style.marginTop = '20px';\n\n      const inputs = wrapper.querySelectorAll('input');\n\n      inputs.forEach((item) => {\n        const validateInput = validation.validationInputNuber.bind(validation, item, false, '%');\n        const cloneInput = utils.setCloneElement(item);\n        cloneInput.addEventListener('input', validateInput);\n      });\n    }\n\n    const updateBtn = menu.querySelector('[js-add-template]');\n\n    if (updateBtn) {\n      const update = utils.setCloneElement(updateBtn);\n\n      const updateTemplate = this.updateTemplate.bind(this, props);\n\n      update.addEventListener('click', updateTemplate);\n    }\n\n    const items = [selectDates];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(props);\n    });\n  }\n\n  setRemoveBtn(props) {\n    const button = document.createElement('button');\n    button.setAttribute('remove-bill-template', '');\n    button.classList.add('button');\n    button.classList.add('button_white');\n    button.innerText = 'Удалить шаблон';\n\n    const { menu } = props;\n\n    menu.querySelector('.template-form__footer').appendChild(button);\n  }\n\n  setData(props) {\n    const { menu, currentTemplate } = props;\n\n    const name = menu.querySelector('[bill-template-name]');\n    name.value = currentTemplate.name;\n\n    utils.openModalAnimation(menu, true);\n    props.removed = [];\n\n    const wrapper = menu.querySelector('[js-templates-bill-wrapper]');\n\n    const layers = menu.querySelector('.layers');\n    layers.classList.remove('mt_0');\n\n    utils.removeChildren(wrapper);\n\n    currentTemplate.patterns.forEach((item, index, patterns) => {\n      const div = document.createElement('div');\n      div.classList.add('layers__item');\n      div.setAttribute('data-id', item.id);\n\n      /* eslint-disable-next-line */\n      props.idCounter = props.idCounter + 1;\n\n      if (props.idCounter !== 1) {\n        div.classList.add('mt_20_br_1_pt_20');\n      } else {\n        div.classList.add('first-pattern');\n      }\n\n      if (props.idCounter === 2) {\n        div.classList.add('second-pattern');\n      }\n\n      const layerData = [\n        item,\n        index,\n        props,\n        patterns,\n      ];\n\n      div.innerHTML = billTemplatesTemplates.setBillLayerTemplate(layerData);\n\n      wrapper.appendChild(div);\n    });\n\n    const startDate = menu.querySelector('[date-start-second]');\n\n    if (startDate?.checked) {\n      const step = menu.querySelector('[step-item=\"2\"]');\n      step.classList.add('hide');\n    }\n  }\n\n  updateTemplate(props, e) {\n    const t = e.target;\n\n    const { menu, currentTemplate } = props;\n    const { pack } = props;\n    const { company } = pack;\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    const form = menu.querySelector('[js-menu-add-template-form]');\n\n    if (validation.validateBillTemplate(form, true)) {\n      const data = templateData.getData(company, props, true, currentTemplate);\n\n      const updateBillTemplate = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.billTemplateAPI.updateBillTemplate(data);\n\n      t.style.pointerEvents = 'none';\n\n      const loader = setTimeout(() => {\n        utils.showLoader();\n      }, 400);\n\n      updateBillTemplate.then((updateItem) => {\n        clearTimeout(loader);\n        utils.hideLoader();\n\n        t.style.pointerEvents = 'all';\n\n        const updateParams = {\n          data,\n          menu,\n          updateItem,\n        };\n\n        this.afterUpdate(updateParams);\n      }, () => t.style.pointerEvents = 'all');\n    }\n  }\n\n  afterUpdate(updateParams) {\n    const { data, menu, updateItem } = updateParams;\n\n    let id;\n\n    if (typeof updateItem === 'object' && updateItem !== null && !Array.isArray(updateItem)) {\n      id = data.keyField.id;\n    } else {\n      id = updateItem;\n    }\n\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n\n    utils.closeModalAnimation(menu, wrapper, false, false);\n\n    const updatingItem = Array.from(document.querySelectorAll('.templates__item')).find((el) => +el.getAttribute('data-id') === +id);\n\n    updatingItem.querySelector('.templates__name').innerText = data.keyField.name;\n\n    updatingItem.querySelector('.templates__structure').innerText = `${data.keyField.patterns.length} ${utils.declOfNum(data.keyField.patterns.length, ['счет', 'счета', 'счетов'])}`;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EditBillTemplate);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/bill-templates/events/editBillTemplate.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/bill-templates/events/layer/addLayer.js":
/*!********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/bill-templates/events/layer/addLayer.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _modules_datepicker_datepicker_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../modules/datepicker/datepicker.js */ \"./dev/static/js/platform/modules/datepicker/datepicker.js\");\n/* harmony import */ var _templates_billTemplatesTemplates_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../templates/billTemplatesTemplates.js */ \"./dev/static/js/platform/menu/items/settings/bill-templates/templates/billTemplatesTemplates.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n/* harmony import */ var _selectDates_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./selectDates.js */ \"./dev/static/js/platform/menu/items/settings/bill-templates/events/layer/selectDates.js\");\n\n\n\n\n\nconst datepicker = new _modules_datepicker_datepicker_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst billTemplatesTemplates = new _templates_billTemplatesTemplates_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst selectDates = new _selectDates_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass AddLayer {\n  init(props) {\n    const addLayerBtn = document.querySelector('.templates__bill-button');\n\n    props.menu = document.querySelector('[js-menu-add-bill-template]');\n\n    const addLayer = this.addLayer.bind(this, props);\n\n    if (addLayerBtn) {\n      addLayerBtn.addEventListener('click', addLayer);\n    }\n  }\n\n  addLayer(props, e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const { menu } = props;\n\n    const wrapper = menu.querySelector('[js-templates-bill-wrapper]');\n\n    const layers = menu.querySelectorAll('.layers__item');\n    props.layersCounter = layers.length;\n\n    const layer = this.createLayer(props);\n\n    const inputs = layer.querySelectorAll('input');\n\n    if (inputs.length) {\n      this.validateInputs(inputs);\n    }\n\n    this.setStyleToAddLayerBtn(props);\n\n    wrapper.appendChild(layer);\n\n    const layersWrapper = menu.querySelector('.layers');\n\n    if (layersWrapper.classList.contains('mt_0')) {\n      layersWrapper.classList.remove('mt_0');\n    }\n\n    const items = [selectDates];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(props);\n    });\n\n    datepicker.init();\n  }\n\n  setStyleToAddLayerBtn(props) {\n    const btnWrapper = document.querySelector('.templates-btn__wrapper');\n\n    if (props.layersCounter !== 1 && btnWrapper.classList.contains('mt_20')) {\n      btnWrapper.classList.add('mt_20');\n      btnWrapper.style.paddingTop = '20px';\n      btnWrapper.style.borderTop = '0';\n    } else if (props.layersCounter === 0) {\n      btnWrapper.classList.remove('mt_20');\n      btnWrapper.style.paddingTop = '20px';\n      btnWrapper.style.borderTop = '1px solid #7C7B851A';\n      btnWrapper.style.marginTop = '20px';\n    } else if (props.layersCounter === 1) {\n      btnWrapper.classList.remove('mt_20');\n      btnWrapper.style.borderTop = '1px solid #7C7B851A';\n      btnWrapper.style.paddingTop = '20px';\n      btnWrapper.style.marginTop = '20px';\n    }\n  }\n\n  createLayer(props) {\n    props.idCounter = ++props.idCounter;\n\n    const layer = document.createElement('li');\n    layer.classList.add('layers__item');\n\n    if (props.idCounter !== 1) {\n      layer.classList.add('mt_20_br_1_pt_20');\n    } else {\n      layer.classList.add('first-pattern');\n    }\n\n    if (props.idCounter === 2) {\n      layer.classList.add('second-pattern');\n    }\n\n    const startDate = document.querySelector('[date-start]');\n\n    if (startDate) {\n      props.startDateSelected = startDate.checked;\n    }\n\n    const layerData = [\n      props,\n      props.layersCounter,\n      props,\n      false,\n    ];\n\n    layer.innerHTML = billTemplatesTemplates.setBillLayerTemplate(layerData);\n\n    return layer;\n  }\n\n  validateInputs(inputs) {\n    inputs.forEach((item) => {\n      const validate = validation.validationInputNuber.bind(validation, item, false, '%', true);\n      item.addEventListener('input', validate);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddLayer);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/bill-templates/events/layer/addLayer.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/bill-templates/events/layer/removeLayer.js":
/*!***********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/bill-templates/events/layer/removeLayer.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass RemoveLayer {\n  init(props, t) {\n    this.removeLayer(props, t);\n  }\n\n  removeLayer(props, t) {\n    const { layersCounter, menu } = props;\n\n    const item = utils.getParent(t, 'layers__item');\n\n    const [firstItem, secondItem, info] = this.getItems(item, menu);\n\n    props.layersCounter = layersCounter - 1;\n    props.idCounter = --props.idCounter;\n\n    if (item.hasAttribute('data-id')) {\n      props.removed.push(+item.getAttribute('data-id'));\n    }\n\n    item.remove();\n\n    const layers = document.querySelectorAll('.layers__item');\n    const layersWrapper = menu.querySelector('.layers');\n\n    if (layers.length) {\n      const removedData = {\n        layersWrapper,\n        layers,\n        firstItem,\n        secondItem,\n        info,\n        menu,\n      };\n\n      this.removedItem(removedData);\n    } else {\n      this.removedAllItems(layersWrapper);\n    }\n  }\n\n  getItems(item, menu) {\n    let firstItem;\n    let secondItem;\n    let info;\n\n    if (item.classList.contains('first-pattern')) {\n      firstItem = utils.cloneElement(item);\n    }\n\n    if (item.classList.contains('second-pattern')) {\n      secondItem = utils.cloneElement(item);\n    }\n\n    const infoItem = menu.querySelector('.layers__info');\n\n    if (infoItem) {\n      info = utils.cloneElement(infoItem);\n    }\n\n    return [firstItem, secondItem, info];\n  }\n\n  removedAllItems(layersWrapper) {\n    layersWrapper.classList.add('mt_0');\n\n    const btnWrapper = document.querySelector('.templates-btn__wrapper');\n\n    btnWrapper.classList.remove('mt_20_br_1_pt_20');\n  }\n\n  removedItem(removedData) {\n    const {\n      layersWrapper,\n      firstItem,\n      secondItem,\n      menu,\n    } = removedData;\n\n    layersWrapper.classList.remove('mt_0');\n\n    const layers = menu.querySelectorAll('.layers__item');\n\n    if (firstItem) {\n      const secondItemClone = utils.cloneElement(layers[0]);\n      layers[0].remove();\n      layersWrapper.insertBefore(firstItem, layers[1]);\n\n      if (layers[1]) {\n        layers[1].remove();\n        layersWrapper.insertBefore(secondItemClone, layers[2]);\n      }\n    }\n\n    if (secondItem) {\n      if (layers[1]) {\n        layers[1].remove();\n        layersWrapper.insertBefore(secondItem, layers[2]);\n      }\n    }\n\n    layers.forEach((elem, index) => {\n      elem.querySelector('.layers-item__name').innerText = `${index + 1} счет`;\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RemoveLayer);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/bill-templates/events/layer/removeLayer.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/bill-templates/events/layer/selectDates.js":
/*!***********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/bill-templates/events/layer/selectDates.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass SelectDates {\n  init(props) {\n    const { menu } = props;\n\n    const today = menu.querySelector('[today]');\n\n    if (today) {\n      const todayRadio = utils.setCloneElement(today);\n\n      const selectToday = this.selectToday.bind(this, menu);\n      todayRadio.addEventListener('change', selectToday);\n    }\n\n    const dateStart = menu.querySelector('[date-start]');\n\n    if (dateStart) {\n      const start = utils.setCloneElement(dateStart);\n      const selectStartDate = this.selectStartDate.bind(this, menu);\n      start.addEventListener('change', selectStartDate);\n    }\n\n    const dateStartSecondPayment = menu.querySelector('[date-start-second]');\n\n    if (dateStartSecondPayment) {\n      const secondDateStart = utils.setCloneElement(dateStartSecondPayment);\n      const selectSecondStartDate = this.selectSecondStartDate.bind(this, menu);\n      secondDateStart.addEventListener('change', selectSecondStartDate);\n    }\n\n    const secondOtherDate = menu.querySelector('[date-start-second-other]');\n\n    if (secondOtherDate) {\n      const secondOther = utils.setCloneElement(secondOtherDate);\n      const selectOtherSecondDate = this.selectOtherSecondDate.bind(this, menu);\n\n      secondOther.addEventListener('change', selectOtherSecondDate);\n    }\n  }\n\n  selectOtherSecondDate(menu, e) {\n    const t = e.target;\n\n    if (t.checked) {\n      const secondPaymentStep = menu.querySelector('[step-item=\"2\"]');\n\n      secondPaymentStep.classList.remove('hide');\n    }\n  }\n\n  selectSecondStartDate(menu, e) {\n    const t = e.target;\n\n    if (t.checked) {\n      const secondPaymentStep = menu.querySelector('[step-item=\"2\"]');\n\n      secondPaymentStep.classList.add('hide');\n    }\n  }\n\n  selectToday(menu, e) {\n    const t = e.target;\n\n    if (t.checked) {\n      const secondPaymentDates = menu.querySelector('[second-layer-dates]');\n\n      if (secondPaymentDates) {\n        secondPaymentDates.classList.remove('hide');\n      }\n    }\n  }\n\n  selectStartDate(menu, e) {\n    const t = e.target;\n\n    if (t.checked) {\n      const secondPaymentDates = menu.querySelector('[second-layer-dates]');\n      const secondStep = menu.querySelector('.second-pattern').querySelector('[step-item=\"2\"]');\n      const dateStartSecondOther = menu.querySelector('[date-start-second-other]');\n\n      if (secondPaymentDates) {\n        secondPaymentDates.classList.add('hide');\n        secondStep.classList.remove('hide');\n        dateStartSecondOther.checked = true;\n      }\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SelectDates);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/bill-templates/events/layer/selectDates.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/bill-templates/events/removeTemplate.js":
/*!********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/bill-templates/events/removeTemplate.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass RemoveTemplate {\n  init(props) {\n    const footerBtn = document.querySelector('[remove-bill-template]');\n\n    if (footerBtn) {\n      const footerItem = utils.setCloneElement(footerBtn);\n\n      const setRemoveModal = this.setRemoveModal.bind(this, props);\n\n      footerItem.addEventListener('click', setRemoveModal);\n    }\n  }\n\n  setRemoveModal(props, e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const t = e.target;\n\n    props.target = t;\n\n    const removeTemplate = this.removeTemplate.bind(this, props);\n\n    const popupProps = {\n      text: 'Вы действительно хотите удалить этот шаблон?',\n      settings: null,\n      title: null,\n      ok: removeTemplate,\n      cancel: null,\n      target: t,\n    };\n\n    popup.init(popupProps);\n  }\n\n  removeTemplate(props) {\n    const { currentTemplate, menu, target } = props;\n\n    const remove = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.billTemplateAPI.removeBillTemplate(currentTemplate.id);\n\n    const loader = setTimeout(() => {\n      utils.showLoader();\n    }, 400);\n\n    target.style.pointerEvents = 'none';\n\n    remove.then(() => {\n      clearTimeout(loader);\n      utils.hideLoader();\n\n      target.style.pointerEvents = 'all';\n\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n      utils.closeModalAnimation(menu, wrapper, false, false);\n\n      Array.from(document.querySelectorAll('.templates__item')).find((el) => +el.getAttribute('data-id') === currentTemplate.id).remove();\n    }, () => target.style.pointerEvents = 'all');\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RemoveTemplate);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/bill-templates/events/removeTemplate.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/bill-templates/events/templateData.js":
/*!******************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/bill-templates/events/templateData.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass TemplateData {\n  getData(company, props, isUpdate, currentTemplate = false) {\n    const name = document.querySelector('[bill-template-name]').value.trim();\n\n    let data;\n\n    if (!isUpdate) {\n      data = {\n        name,\n        idCompany: company.id,\n        patterns: this.getPatterns(props),\n      };\n    } else {\n      data = {\n        keyField: {\n          id: currentTemplate.id,\n          name,\n          idCompany: company.id,\n          patterns: this.getPatterns(props, currentTemplate),\n        },\n        valueField: props.removed,\n      };\n    }\n\n    return data;\n  }\n\n  getPatterns(props, currentTemplate = false) {\n    const patterns = [];\n\n    const layers = document.querySelectorAll('.layers__item');\n\n    layers.forEach((item, index) => {\n      this.getPatternData(item, index, props, patterns, currentTemplate);\n    });\n\n    return patterns;\n  }\n\n  getPatternData(item, index, props, patterns, currentTemplate) {\n    const pattern = {};\n\n    this.getPatternPercent(item, index, pattern);\n    this.getPatternDates(item, pattern, props, patterns);\n\n    pattern.positionIndex = index;\n\n    if (currentTemplate) {\n      pattern.commonPatternId = currentTemplate.id;\n    }\n\n    patterns.push(pattern);\n  }\n\n  getPatternPercent(item, index, pattern) {\n    const value = item.querySelector('[js-bill-layer-value]');\n\n    if (index === 0) {\n      const isPercent = value.value.split('%').length > 1;\n\n      if (isPercent) {\n        pattern.percent = +value.value.split('%')[0].trim();\n      } else {\n        pattern.value = +value.value.trim();\n      }\n\n      if (value.getAttribute('data-id')) {\n        pattern.id = +value.getAttribute('data-id');\n      }\n    } else {\n      pattern.percent = value.value.split('%').length > 1 ? +value.value.split('%')[0] : +value.value.trim();\n\n      if (value.getAttribute('data-id')) {\n        pattern.id = +value.getAttribute('data-id');\n      }\n    }\n  }\n\n  getPatternDates(item, pattern) {\n    const dates = item.querySelector('.layers-item__dates').classList.contains('mt_0');\n\n    if (!dates) {\n      const firstItem = Array.from(item.querySelectorAll('[name=\"date-1\"]'));\n      const secondItem = Array.from(item.querySelectorAll('[name=\"date-2\"]'));\n\n      if (firstItem.length) {\n        const selected = firstItem.find((el) => el.checked);\n\n        if (selected.hasAttribute('today')) {\n          pattern.dateIndex = 0;\n        } else {\n          pattern.dateIndex = 1;\n        }\n      }\n\n      if (secondItem.length) {\n        const selected = secondItem.find((el) => el.checked);\n\n        if (selected?.hasAttribute('date-start-second')) {\n          pattern.dateIndex = 1;\n\n          const dateInput = item.querySelector('[js-bill-layer-date]');\n\n          if (!utils.getParent(dateInput, 'layers-item').classList.contains('hide')) {\n            pattern.dayStep = +item.querySelector('[js-bill-layer-date]').value || null;\n          }\n        } else {\n          pattern.dateIndex = 2;\n          pattern.dayStep = +item.querySelector('[js-bill-layer-date]').value || null;\n        }\n      }\n    } else {\n      pattern.dayStep = +item.querySelector('[js-bill-layer-date]').value || null;\n      pattern.dateIndex = 2;\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TemplateData);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/bill-templates/events/templateData.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/bill-templates/templates/billTemplatesTemplates.js":
/*!*******************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/bill-templates/templates/billTemplatesTemplates.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass BillTemplatesTemplates {\n  setBillTemplates(props) {\n    const { pack } = props;\n    const { templates } = pack;\n\n    if (templates.length) {\n      const templateItems = templates.map((item) => {\n        return `\n          <div class=\"templates__item\" data-id=\"${item.id}\">\n            ${this.templateItems(item)}\n          </div>`;\n      });\n\n      const wrapper = document.querySelector('.templates__content');\n      wrapper.innerHTML = templateItems.join('');\n    }\n  }\n\n  templateItems(item) {\n    return `\n        <p class=\"templates__name\">${item.name}</p>\n        <div class=\"templates__structure\">\n          ${item.patterns.length ? `${item.patterns.length} ${utils.declOfNum(item.patterns.length, ['счет', 'счета', 'счетов'])} ` : ''}\n        </div>\n    `;\n  }\n\n  setBillLayerTemplate(layerData) {\n    const [item, counter, props, patterns] = layerData;\n    const { idCounter } = props;\n\n    return `\n    <div class=\"layers-item__wrapper\">\n      <div class=\"layers-item ${(counter + 1) > 1 ? 'percent-icon' : ''}\">\n        <p class=\"layers-item__name\">${counter + 1} счет</p>\n        <input data-id=\"${item.id || ''}\" js-bill-layer-value autocomplete=\"off\" class=\"menu-input__input menu-input__input_small layers__input\" placeholder=\"0\" value=\"${(item.value) || (item.percent ? item.percent : '') || ''}\" required/>\n      </div>\n      <div class=\"layers-item ${idCounter === 1 ? 'hide' : ''}\" step-item=\"${idCounter}\">\n        <p class=\"layers-item__name\">Шаг</p>\n          <input data-id=\"${item.id || ''}\" value=\"${item.dayStep || ''}\" js-bill-layer-date autocomplete=\"off\" class=\"menu-input__input menu-input__input_small layers__input\" placeholder=\"Количество дней\" required/>\n      </div>\n      <div class=\"layers-item__delete\"></div>\n      ${(counter + 1 === 1)\n        ? `<div class=\"layers__info\">\n          <div class=\"layers-info__tooltip\">\n          Первый счет в ₽ или %.<br>Если требуется использовать первый счет в процентах, в конце значения ставится символ %. Пример - 50 %<br><br>Если в рублях, тогда в конце значения ничего не добавляется. Пример - 500<br><br>Допустим сумма покупки 1500 ₽<br>Первый счет в рублях - 1000<br>Чтобы поделить счет на части, необходимо из суммы покупки вычесть значение первого счета (1500 - 1000 = 500) - это будет 100% от оставшейся суммы.<br> Далее необходимо эти 100% разделить на счета, главное чтобы сумма полученных счетов была равна 100% (не включая первый).<br><br>Если первый счет в процентах, то не надо вычитать из суммы покупки значение первого счета. А нужно сразу делить на несколько счетов. Тут тоже главное, чтобы сумма всех значений счетов (включая первый) была равна 100 %\n          </div>\n          ?\n        </div>` : ''\n      }\n    </div>\n    <div class=\"layers-item__dates ${(item.startDateSelected || (patterns && patterns[0]?.dateIndex === 1 && idCounter === 2)) ? 'hide' : ''} ${idCounter > 2 ? 'mt_0' : ''}\" ${idCounter === 2 ? 'second-layer-dates' : ''}>\n      ${\n        /* eslint-disable-next-line */\n        idCounter === 1 ? `\n          <div class=\"layers-item__date mr_10\">\n            <input type=\"radio\" ${idCounter === 1 ? 'today' : ''} ${item.dateIndex === 0 ? 'checked' : ''} id=\"date-${idCounter}-${counter}\" name=\"date-${idCounter}\" value=\"0\" class=\"platform__checkbox\">\n            <label class=\"platform-checkbox__label\" for=\"date-${idCounter}-${counter}\">\n              <span class=\"platform__checkbox--fake radio-fake mr_10\"></span>\n              Сегодня\n            </label>\n          </div>\n          ${idCounter === 1 ? `\n          <div class=\"layers-item__date\">\n            <input type=\"radio\" ${idCounter === 1 ? 'date-start' : ''} ${item.dateIndex === 1 ? 'checked' : ''} id=\"date-${idCounter}-${counter + 1}\" name=\"date-${idCounter}\" value=\"1\" class=\"platform__checkbox\">\n            <label class=\"platform-checkbox__label\" for=\"date-${idCounter}-${counter + 1}\">\n              <span class=\"platform__checkbox--fake radio-fake mr_5\"></span>\n              Дата старта\n            </label>\n          </div>\n          ` : ''}\n        ` : idCounter === 2 ? `\n          <div class=\"layers-item__date mr_10\">\n            <input type=\"radio\" ${idCounter === 2 ? 'date-start-second' : ''} ${item.dateIndex === 1 ? 'checked' : ''} id=\"date-${idCounter}-${counter + 1}\" name=\"date-${idCounter}\" value=\"1\" class=\"platform__checkbox\">\n            <label class=\"platform-checkbox__label\" for=\"date-${idCounter}-${counter + 1}\">\n              <span class=\"platform__checkbox--fake radio-fake mr_5\"></span>\n              Дата старта\n            </label>\n          </div>\n          <div class=\"layers-item__date\">\n            <input type=\"radio\" ${idCounter === 2 ? 'date-start-second-other' : ''} ${item.dateIndex === 2 ? 'checked' : ''} id=\"date-${idCounter}-${counter + 2}\" value=\"2\" name=\"date-${idCounter}\" class=\"platform__checkbox\">\n            <label class=\"platform-checkbox__label\" for=\"date-${idCounter}-${counter + 2}\">\n              <span class=\"platform__checkbox--fake radio-fake mr_5\"></span>\n              Другая\n            </label>\n          </div>\n          `\n        : ''}\n      </div>\n    `;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BillTemplatesTemplates);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/bill-templates/templates/billTemplatesTemplates.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/client-cleaner/clientCleaner.js":
/*!************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/client-cleaner/clientCleaner.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _render_cleanerRender_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./render/cleanerRender.js */ \"./dev/static/js/platform/menu/items/settings/client-cleaner/render/cleanerRender.js\");\n/* harmony import */ var _events_joinClient_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./events/joinClient.js */ \"./dev/static/js/platform/menu/items/settings/client-cleaner/events/joinClient.js\");\n/* harmony import */ var _events_removeClient_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./events/removeClient.js */ \"./dev/static/js/platform/menu/items/settings/client-cleaner/events/removeClient.js\");\n/* harmony import */ var _events_openCoincedence_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./events/openCoincedence.js */ \"./dev/static/js/platform/menu/items/settings/client-cleaner/events/openCoincedence.js\");\n\n\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst cleanerRender = new _render_cleanerRender_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst joinClient = new _events_joinClient_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst removeClient = new _events_removeClient_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\nconst openCoincedence = new _events_openCoincedence_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\n\nclass ClientCleaner {\n  init(props) {\n    const cleanerProps = this.getProps(props);\n\n    const startSearch = document.querySelector('.cleaner-nav__list');\n\n    if (startSearch) {\n      cleanerProps.joinArray = [];\n\n      const start = utils.setCloneElement(startSearch);\n\n      start.addEventListener('change', (e) => {\n        const t = e.target;\n\n        if (t.classList.contains('cleaner__checkbox')) {\n          this.searchRequest(cleanerProps, t);\n        }\n      });\n    }\n  }\n\n  searchRequest(props, t) {\n    const checkboxs = document.querySelectorAll('.cleaner__checkbox');\n    const data = Array.from(checkboxs).find((el) => el.checked)?.value;\n\n    if (data) {\n      const getCopies = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.clientCleanerAPI.getCopies(data);\n\n      t.style.pointerEvents = 'none';\n\n      const loader = setTimeout(utils.showLoader, 400);\n\n      getCopies.then((copies) => {\n        clearTimeout(loader);\n        utils.hideLoader();\n\n        t.style.pointerEvents = 'all';\n        this.afterGetData(props, copies);\n      }, () => {\n        t.style.pointerEvents = 'all';\n      });\n    }\n  }\n\n  getProps(props) {\n    return {\n      ...props,\n    };\n  }\n\n  afterGetData(props, copies) {\n    props.copies = utils.getDeepCopy(copies);\n    const render = cleanerRender.init(props);\n\n    render.then(() => {\n      this.setEvents(props);\n    });\n  }\n\n  setEvents(props) {\n    const wrapper = document.querySelector('[cleaner-list]');\n\n    if (wrapper) {\n      const container = utils.setCloneElement(wrapper);\n\n      const dispatchEvents = this.dispatchEvents.bind(this, props);\n\n      container.addEventListener('click', dispatchEvents);\n    }\n  }\n\n  dispatchEvents(props, e) {\n    const t = e.target;\n\n    const open = utils.getParent(t, 'coincedence__item') || t.hasAttribute('coincedence') ? 'open' : '';\n    const remove = t.classList.contains('coincedence-client__remove') ? 'remove' : '';\n    const join = utils.getParent(t, 'coincedence-client__item') && !t.classList.contains('remove') ? 'join' : '';\n\n    const button = open || remove || join;\n\n    switch (button) {\n      case 'open': {\n        openCoincedence.init(props, t);\n        break;\n      }\n      case 'remove': {\n        removeClient.init(props, t);\n        break;\n      }\n      case 'join': {\n        joinClient.init(props, t);\n        break;\n      }\n      default: {\n        break;\n      }\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ClientCleaner);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/client-cleaner/clientCleaner.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/client-cleaner/events/joinClient.js":
/*!****************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/client-cleaner/events/joinClient.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass JoinClient {\n  init(props, t) {\n    this.checkUniqClientBeforeAddJoinArray(t, props);\n\n    if (props.joinArray.length === 2) {\n      this.setJoinPopup(props, t);\n    }\n\n    if (props.joinArray.length > 2) {\n      this.clearJoinArray(props);\n    }\n  }\n\n  checkUniqClientBeforeAddJoinArray(t, props) {\n    const item = utils.getParent(t, 'coincedence-client__item');\n    const idClient = +item.getAttribute('data-id');\n\n    const checkGeneral = item.parentNode === props.joinArray[0]?.parent;\n    const generalParent = props.joinArray.length === 0 ? true : checkGeneral;\n\n    const isUniqCheck = !props.joinArray.find((el) => el.idClient === idClient);\n\n    if (isUniqCheck && generalParent) {\n      this.addClientToJoinArray(item, idClient, props);\n    } else if (isUniqCheck && !generalParent) {\n      this.clearJoinArray(props);\n      this.addClientToJoinArray(item, idClient, props);\n    }\n\n    if (!isUniqCheck) {\n      props.joinArray = props.joinArray.filter((el) => el.idClient !== idClient);\n    }\n\n    item.classList.toggle('active');\n  }\n\n  addClientToJoinArray(item, idClient, props) {\n    const name = item.querySelector('.coincedence-client__name').innerText.trim();\n\n    const clientObject = {\n      idClient,\n      parent: item.parentNode,\n      name,\n    };\n\n    props.joinArray.push(clientObject);\n  }\n\n  clearJoinArray(props) {\n    props.joinArray.length = 0;\n\n    const activeItems = document.querySelectorAll('.coincedence-client__item.active');\n\n    activeItems.forEach((elem) => {\n      elem.classList.remove('active');\n    });\n  }\n\n  setJoinPopup(props, t) {\n    const [first, second] = props.joinArray;\n    props.joinedDeals = [];\n\n    const getDeals = this.getDeals(props);\n\n    utils.showLoader();\n    document.body.style.overflow = 'hidden';\n\n    getDeals.then((deals) => {\n      props.joinedDeals = deals.map((item) => {\n        return {\n          id: item.id,\n          title: item.course,\n        };\n      });\n\n      const joinClients = this.joinClients.bind(this, props, t);\n      const renderContentInJoinPopup = this.renderContentInJoinPopup.bind(this, props);\n\n      const joinPopupProps = {\n        text: `Вы действительно хотите объединить <b><u>${first.name}</u></b> с <b><u>${second.name}</u></b>`,\n        settings: 'content',\n        title: null,\n        ok: joinClients,\n        cancel: null,\n        target: t,\n        contentCreator: renderContentInJoinPopup,\n      };\n\n      setTimeout(() => {\n        utils.hideLoader();\n        popup.init(joinPopupProps);\n\n        this.setPopupEvents(props);\n      }, 500);\n    });\n  }\n\n  async getDeals(props) {\n    for (let index = 0; index < props.joinArray.length; index++) {\n      const element = props.joinArray[index];\n      props.joinedDeals.push(await _api_api_js__WEBPACK_IMPORTED_MODULE_2__.dealAPI.getDeals(element.idClient));\n    }\n\n    const [first, second] = props.joinedDeals;\n\n    let result = [...first];\n\n    result = result.map((el) => {\n      const coincedence = second.find((item) => item.course === el.course);\n\n      return coincedence || el;\n    });\n\n    second.forEach((el, count) => {\n      const coincedence = result.find((item) => item.course === el.course);\n\n      if (coincedence) {\n        second.splice(count, 1);\n      } else {\n        result.push(el);\n      }\n    });\n\n    return await result;\n  }\n\n  async joinClients(props) {\n    const { selectedDeals } = props;\n    const [first, second] = props.joinArray;\n    const { idClient: idFirst } = first;\n    const { idClient: idSecond } = second;\n\n    if (selectedDeals.length === 0) {\n      document.querySelectorAll('.join-popup__checkbox').forEach((item) => {\n        selectedDeals.push(+item.value);\n      });\n    }\n\n    utils.showLoader();\n\n    try {\n      const dialogWrapper = document.querySelector('[dialog-window]');\n      dialogWrapper.remove();\n\n      await _api_api_js__WEBPACK_IMPORTED_MODULE_2__.clientCleanerAPI.joinCopies(idFirst, idSecond, selectedDeals);\n\n      const secondClient = document.querySelector(`.coincedence-client__item[data-id=\"${second.idClient}\"]`);\n\n      if (secondClient) {\n        const index = first.parent.getAttribute('data-index');\n        const item = document.querySelector(`.coincedence__item[data-index=\"${index}\"]`);\n\n        const quanity = item.querySelector('.coincedence__quanity');\n\n        const quanityValue = parseInt(quanity.innerText, 10);\n\n        if (quanityValue === 2) {\n          await _api_api_js__WEBPACK_IMPORTED_MODULE_2__.clientCleanerAPI.removeClient(second.idClient);\n          item.remove();\n          await first.parent.remove();\n\n          utils.hideLoader();\n          document.body.style.overflow = 'auto';\n        } else {\n          await _api_api_js__WEBPACK_IMPORTED_MODULE_2__.clientCleanerAPI.removeClient(second.idClient);\n          quanity.innerText = `${quanityValue - 1} шт`;\n\n          secondClient.remove();\n\n          await this.clearJoinArray(props);\n\n          utils.hideLoader();\n          document.body.style.overflow = 'auto';\n        }\n      }\n\n      return await new Promise((resolve) => { resolve(); });\n    } catch (error) {\n      utils.hideLoader();\n\n      const popupProps = {\n        text: 'Попробуйте еще раз или сообщите администратору',\n        settings: 'alert-close',\n        title: 'Ошибка!',\n        ok: null,\n        close: null,\n        target: null,\n      };\n\n      await popup.init(popupProps);\n\n      return new Promise(() => { });\n    }\n  }\n\n  renderContentInJoinPopup(props) {\n    return this.setDealInPopup(props);\n  }\n\n  setDealInPopup(props) {\n    const { joinedDeals } = props;\n\n    const deals = joinedDeals.map((item, index) => {\n      return `\n        <li class=\"dialog-content__item\" data-id=\"${item.id}\">\n          <input checked id=\"id_${index}\" type=\"checkbox\" value=\"${item.id}\" class=\"platform__checkbox join-popup__checkbox\">\n          <label for=\"id_${index}\" class=\"platform-checkbox__label\">\n            <span class=\"platform__checkbox--fake\"></span>\n            <span title=\"${item.title}\" class=\"dialog-content__course\">${item.title}</span>\n          </label>\n        </li>\n      `;\n    });\n\n    return joinedDeals.length ? `\n      <p class=\"dialog-content__title\">Выберите сделки (изначально объединяются все):</p>\n      <ul class=\"dialog-content__list custom-scroll\">\n        ${deals.join('')}\n      </ul>\n    ` : '';\n  }\n\n  setPopupEvents(props) {\n    const wrapper = document.querySelector('.dialog__content');\n\n    props.selectedDeals = [];\n\n    const selectDeals = this.selectDeals.bind(this, props);\n\n    this.selectDeals(props);\n\n    wrapper.addEventListener('change', selectDeals);\n  }\n\n  selectDeals(props, e) {\n    if (e) {\n      const t = e.target;\n\n      const isUniqCheck = !props.selectedDeals.includes(+t.value);\n\n      if (isUniqCheck && t.checked) {\n        props.selectedDeals.push(+t.value);\n      } else if (!t.checked) {\n        props.selectedDeals = props.selectedDeals.filter((el) => el !== +t.value);\n      }\n    } else {\n      document.querySelectorAll('.join-popup__checkbox').forEach((item) => {\n        if (item.checked) {\n          props.selectedDeals.push(+item.value);\n        }\n      });\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (JoinClient);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/client-cleaner/events/joinClient.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/client-cleaner/events/openCoincedence.js":
/*!*********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/client-cleaner/events/openCoincedence.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass OpenCoincedence {\n  init(props, target) {\n    const item = utils.getParent(target, 'coincedence__item') || target;\n\n    const list = item.nextElementSibling;\n    const toggle = item.querySelector('.coincedence__toggle');\n\n    if (item.classList.contains('open')) {\n      item.classList.remove('open');\n      list.classList.remove('open');\n      toggle.classList.remove('open');\n    } else {\n      document.querySelectorAll('.coincedence__item').forEach((elem) => {\n        elem.classList.remove('open');\n        elem.nextElementSibling.classList.remove('open');\n        elem.nextElementSibling.style.maxHeight = 0;\n        elem.querySelector('.coincedence__toggle').classList.remove('open');\n      });\n\n      item.classList.add('open');\n      list.classList.add('open');\n      toggle.classList.add('open');\n    }\n\n    if (list.classList.contains('open')) {\n      const height = Array.from(list.children).reduce((prev, current) => prev + parseInt(utils.getCssProperty(current, 'height'), 10), 0);\n\n      list.style.maxHeight = `${height + 40}px`;\n    } else {\n      list.style.maxHeight = 0;\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OpenCoincedence);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/client-cleaner/events/openCoincedence.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/client-cleaner/events/removeClient.js":
/*!******************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/client-cleaner/events/removeClient.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n\n\n\n\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass RemoveClient {\n  init(props, t) {\n    const removeClient = this.removeClient.bind(this, props, t);\n\n    const popupProps = {\n      text: 'Вы действительно хотите удалить этого клиента?',\n      settings: null,\n      title: null,\n      ok: removeClient,\n      cancel: null,\n      target: t,\n    };\n\n    popup.init(popupProps);\n  }\n\n  removeClient(props, t) {\n    const clientItem = utils.getParent(t, 'coincedence-client__item');\n    const idClient = +clientItem.getAttribute('data-id');\n\n    const remove = _api_api_js__WEBPACK_IMPORTED_MODULE_2__.clientCleanerAPI.removeClient(idClient);\n\n    remove.then(() => {\n      const clientItemRemoved = document.querySelector(`.coincedence-client__item[data-id=\"${idClient}\"]`);\n\n      if (clientItemRemoved) {\n        const index = +utils.getParent(clientItemRemoved, 'coincedence-client__list')?.getAttribute('data-index');\n\n        clientItemRemoved.remove();\n\n        const quanity = document.querySelector(`.coincedence__item[data-index=\"${index}\"] .coincedence__quanity`);\n        const quanityValue = parseInt(quanity.innerText, 10);\n        quanity.innerText = `${quanityValue - 1} шт`;\n      }\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RemoveClient);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/client-cleaner/events/removeClient.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/client-cleaner/render/cleanerRender.js":
/*!*******************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/client-cleaner/render/cleanerRender.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _templates_cleanerTemplates_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../templates/cleanerTemplates.js */ \"./dev/static/js/platform/menu/items/settings/client-cleaner/templates/cleanerTemplates.js\");\n\n\n\nconst cleanerTemplates = new _templates_cleanerTemplates_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass CleanerRender {\n  async init(props) {\n    const { copies } = props;\n\n    const copiesArray = Object.entries(copies);\n\n    if (copiesArray.length) {\n      await this.renderCopiesList(copiesArray);\n    } else {\n      await this.emptyCopiesList();\n    }\n  }\n\n  renderCopiesList(copiesArray) {\n    const wrapper = document.querySelector('[cleaner-list]');\n\n    utils.removeChildren(wrapper, 0);\n\n    const getTemplate = cleanerTemplates.copiesTemplate.bind(cleanerTemplates, wrapper);\n\n    copiesArray.forEach(getTemplate);\n  }\n\n  emptyCopiesList() {\n    const wrapper = document.querySelector('[cleaner-list]');\n\n    utils.removeChildren(wrapper, 0);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CleanerRender);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/client-cleaner/render/cleanerRender.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/client-cleaner/templates/cleanerTemplates.js":
/*!*************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/client-cleaner/templates/cleanerTemplates.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass CleanerTemplate {\n  copiesTemplate(wrapper, item, index) {\n    const [name, coincedence] = item;\n\n    this.setMainRow(name, wrapper, index, coincedence);\n    this.setClientsList(coincedence, index, wrapper);\n  }\n\n  setMainRow(name, wrapper, index, coincedence) {\n    const li = document.createElement('li');\n    li.classList.add('coincedence__item');\n    li.setAttribute('coincedence', '');\n    li.setAttribute('data-index', index);\n\n    li.innerHTML = this.getCoincedenceItemTemplate(name, coincedence);\n\n    wrapper.appendChild(li);\n  }\n\n  setClientsList(coincedence, index, wrapper) {\n    const coincedenceItem = this.coincedenceItem.bind(this);\n    const clients = coincedence.map(coincedenceItem);\n\n    const clientList = document.createElement('ul');\n    clientList.classList.add('coincedence-client__list');\n    clientList.setAttribute('coincedence-list', '');\n    clientList.setAttribute('data-index', index);\n\n    clientList.innerHTML = clients.join('');\n\n    wrapper.appendChild(clientList);\n  }\n\n  getCoincedenceItemTemplate(name, coincedence) {\n    return `\n      <span class=\"analytic__toggle-wrapper coincedence__toggle-wrapper\">\n        <span class=\"analytic__toggle coincedence__toggle\"></span>\n      </span>\n      <div class=\"coincedence__info\">\n        <p coincedence class=\"coincedence__name\">${name.trim() || 'Не заполнено'}</p>\n        <p coincedence class=\"coincedence__quanity\">${coincedence.length} шт</p>\n      </div>\n    `;\n  }\n\n  coincedenceItem(item) {\n    return `\n        <li class=\"coincedence-client__item\" data-id=\"${item.id}\">\n          <div class=\"coincedence__client--left\">\n            <p class=\"coincedence-client__name\" title=\"${item.name?.trim() || '&mdash;'}\">${item.name?.trim() || '&mdash;'}</p>\n            <p class=\"coincedence-client__email\" title=\"${item.email?.trim() || '&mdash;'}\">${item.email?.trim() || '&mdash;'}</p>\n            <p class=\"coincedence-client__tel\" title=\"${item.phone?.trim() || '&mdash;'}\">${item.phone?.trim() || '&mdash;'}</p>\n            <p class=\"coincedence-client__link\" title=\"${item.link?.trim() || '&mdash;'}\">${item.link?.trim() || '&mdash;'}</p>\n            <p class=\"coincedence-client__telegram\" title=\"${item.telegram?.trim() || '&mdash;'}\">${item.telegram?.trim() || '&mdash;'}</p>\n          </div>\n          <span class=\"coincedence-client__remove\"></span>\n        </li>\n      `;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CleanerTemplate);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/client-cleaner/templates/cleanerTemplates.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/contracts/events/addContract.js":
/*!************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/contracts/events/addContract.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _templates_settingsContractsTemplates_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../templates/settingsContractsTemplates.js */ \"./dev/static/js/platform/menu/items/settings/contracts/templates/settingsContractsTemplates.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n/* harmony import */ var _utils_validation_contract_validateContract_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../utils/validation/contract/validateContract.js */ \"./dev/static/js/platform/utils/validation/contract/validateContract.js\");\n/* harmony import */ var _contractWrapper_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./contractWrapper.js */ \"./dev/static/js/platform/menu/items/settings/contracts/events/contractWrapper.js\");\n\n\n\n\n\n\nconst settingsContracts = new _templates_settingsContractsTemplates_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst validateContract = new _utils_validation_contract_validateContract_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass AddContract extends _contractWrapper_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"] {\n  init(props) {\n    const button = document.querySelector('[upload-contract]');\n\n    if (button) {\n      const uploadContract = this.uploadContract.bind(this, props);\n\n      button.addEventListener('click', uploadContract);\n\n      props.saveContract = this.saveContract.bind(this, props);\n      props.contentCreator = settingsContracts.createFileInputs.bind(settingsContracts);\n    }\n  }\n\n  uploadContract(props, e) {\n    const t = e.target;\n\n    this.closeEditRow(props, props.target);\n\n    const popupProps = {\n      text: '',\n      settings: 'content',\n      title: 'Добавьте ссылку на договор',\n      ok: props.saveContract,\n      cancel: null,\n      target: t,\n      contentCreator: props.contentCreator,\n    };\n\n    popup.init(popupProps);\n  }\n\n  saveContract(props) {\n    const name = document.querySelector('[doc-name]').value;\n    const link = document.querySelector('[doc-link]').value;\n\n    const code = +Array.from(document.querySelectorAll('.contract-tabs__item')).find((el) => el.classList.contains('active')).getAttribute('data-type');\n\n    const { keyField } = props.pack.typesContracts.find((el) => el.keyField === code);\n\n    if (validateContract.init()) {\n      const data = {\n        name,\n        link,\n        active: true,\n        code: keyField,\n      };\n\n      const save = _api_api_js__WEBPACK_IMPORTED_MODULE_0__.contractAPI.saveContract(data);\n\n      save.then((id) => {\n        _api_api_js__WEBPACK_IMPORTED_MODULE_0__.contractAPI.getContracts().then((aggreements) => {\n          props.pack.contracts = aggreements;\n          data.id = id;\n          const contract = settingsContracts.contractTemplate(data);\n\n          const table = document.querySelector('[contracts] tbody');\n          const firstContract = table.children[0];\n\n          firstContract.insertAdjacentHTML('afterend', contract);\n\n          props.contractInit.init(props);\n        });\n      });\n    } else {\n      return 'no-valid';\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddContract);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/contracts/events/addContract.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/contracts/events/changeTab.js":
/*!**********************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/contracts/events/changeTab.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass ChangeTab {\n  init(props) {\n    const tabs = document.querySelector('.contract__tabs');\n\n    const changeTab = this.changeTab.bind(this, props);\n\n    utils.setCloneElement(tabs).addEventListener('click', changeTab);\n  }\n\n  changeTab(props, e) {\n    const tabsItems = document.querySelectorAll('.contract-tabs__item');\n\n    if (tabsItems.length) {\n      tabsItems.forEach((item) => {\n        item.classList.remove('active');\n      });\n\n      const t = e.target;\n      t.classList.add('active');\n\n      const current = props.pack.users.find((el) => el.role === props.pack.role);\n\n      current.instance.init(props);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChangeTab);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/contracts/events/changeTab.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/contracts/events/contractWrapper.js":
/*!****************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/contracts/events/contractWrapper.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass ContractWrapper {\n  openEditRow(props, t) {\n    if (props.target) {\n      this.closeEditRow(props, props.target);\n    }\n\n    t.classList.add('hide');\n\n    const wrapper = utils.getParent(t, 'contract__row');\n\n    const removeBtn = wrapper.querySelector('.contract__remove');\n    removeBtn.classList.add('hide');\n\n    const navigation = wrapper.querySelector('.contract__navigation');\n    navigation.classList.remove('hide');\n\n    const addLinkBtn = wrapper.querySelector('.link');\n    addLinkBtn.classList.remove('transparent');\n\n    const disabled = utils.getParent(t, 'contract__row').querySelectorAll('[need-disable]');\n\n    if (disabled.length) {\n      disabled.forEach((item) => {\n        item.classList.remove('contract-disable');\n      });\n    }\n  }\n\n  closeEditRow(props, t) {\n    let wrapper;\n\n    if (t) {\n      wrapper = utils.getParent(t, 'contract__row') || false;\n    }\n\n    if (wrapper) {\n      const settingsBtn = wrapper.querySelector('.contract__settings');\n      settingsBtn.classList.remove('hide');\n\n      const removeBtn = wrapper.querySelector('.contract__remove');\n      removeBtn.classList.remove('hide');\n\n      const navigation = wrapper.querySelector('.contract__navigation');\n      navigation.classList.add('hide');\n\n      const addLinkBtn = wrapper.querySelector('.link');\n      addLinkBtn.classList.add('transparent');\n\n      const row = utils.getParent(t, 'contract__row');\n\n      const needDisableItems = row.querySelectorAll('[need-disable]');\n\n      if (needDisableItems.length) {\n        needDisableItems.forEach((item) => {\n          item.classList.add('contract-disable');\n        });\n      }\n\n      let currentContract;\n\n      if (Array.isArray(props.pack.contracts)) {\n        currentContract = props.pack.contracts.find((el) => el.id === +row.getAttribute('data-id'));\n      } else {\n        currentContract = Object.entries(props.pack.contracts).find((el) => el[1].id === +row.getAttribute('data-id'));\n      }\n\n      if (currentContract) {\n        const name = row.querySelector('[contract-name]');\n        name.value = currentContract.name;\n\n        const select = row.querySelector('[id-selected]');\n        select.value = currentContract.isActive;\n\n        select.nextElementSibling.children[0].innerText = currentContract.isActive ? 'Активен' : 'Не активен';\n        select.nextElementSibling.setAttribute('title', currentContract.isActive ? 'Активен' : 'Не активен');\n\n        select.nextElementSibling.className = `select__head ${currentContract.isActive ? 'active-contract' : 'no-active-contract'}`;\n      }\n    }\n  }\n\n  contractsToArray(contracts) {\n    let contractsItems;\n\n    if (Array.isArray(contracts)) {\n      contractsItems = contracts;\n    } else {\n      contractsItems = [];\n\n      Object.entries(contracts).forEach((item) => {\n        if (item[1].length) {\n          item[1].forEach((elem) => {\n            contractsItems.push(elem);\n          });\n        }\n      });\n    }\n\n    return contractsItems;\n  }\n\n  getContractTypeCode() {\n    const tabs = document.querySelectorAll('.contract-tabs__item');\n    const current = Array.from(tabs).find((el) => el.classList.contains('active'));\n\n    return +current.getAttribute('data-type');\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ContractWrapper);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/contracts/events/contractWrapper.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/contracts/events/editContract.js":
/*!*************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/contracts/events/editContract.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n/* harmony import */ var _templates_settingsContractsTemplates_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../templates/settingsContractsTemplates.js */ \"./dev/static/js/platform/menu/items/settings/contracts/templates/settingsContractsTemplates.js\");\n/* harmony import */ var _utils_validation_contract_validateContract_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../utils/validation/contract/validateContract.js */ \"./dev/static/js/platform/utils/validation/contract/validateContract.js\");\n/* harmony import */ var _contractWrapper_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./contractWrapper.js */ \"./dev/static/js/platform/menu/items/settings/contracts/events/contractWrapper.js\");\n\n\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst settingsContracts = new _templates_settingsContractsTemplates_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst validateContract = new _utils_validation_contract_validateContract_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n\nclass EditContract extends _contractWrapper_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"] {\n  init(props) {\n    const selectItems = document.querySelectorAll('[select-here] [id-selected]');\n\n    if (selectItems.length) {\n      const changeActiveContract = this.changeActiveContract.bind(this, props);\n\n      selectItems.forEach((item) => {\n        item.addEventListener('change', changeActiveContract);\n      });\n    }\n\n    const contractsWrapper = document.querySelector('[contracts]');\n\n    if (contractsWrapper) {\n      const updateContract = this.updateContract.bind(this, props);\n\n      contractsWrapper.addEventListener('click', updateContract);\n    }\n  }\n\n  updateContract(props, e) {\n    const t = e.target;\n\n    if (t.classList.contains('contract__settings')) {\n      this.openEditRow(props, t);\n      props.target = t;\n    }\n\n    if (t.classList.contains('contract__close-edit')) {\n      this.closeEditRow(props, t);\n    }\n\n    if (t.classList.contains('contract__accept')) {\n      this.setUpdatePopup(props, t);\n    }\n\n    if (t.classList.contains('contract__link-btn')) {\n      this.changeLink(props, t);\n    }\n  }\n\n  changeActiveContract(props, e) {\n    const t = e.target;\n    const selectItem = utils.getParent(t, 'platform-select__wrapper').querySelector('.platform__select');\n\n    selectItem.className = 'select platform__select mt_5';\n\n    if (t.value === 'true') {\n      selectItem.classList.add('active-contract');\n      selectItem.classList.remove('no-active-contract');\n    } else {\n      selectItem.classList.remove('active-contract');\n      selectItem.classList.add('no-active-contract');\n    }\n  }\n\n  setUpdatePopup(props, t) {\n    const row = utils.getParent(t, 'contract__row');\n    props.currentContractRow = row;\n\n    const updateRequest = this.updateRequest.bind(this, props, t);\n\n    const popupProps = {\n      text: 'Вы действительно хотите обновить этот договор?',\n      title: null,\n      settings: null,\n      ok: updateRequest,\n      cancel: null,\n      target: t,\n    };\n\n    popup.init(popupProps);\n  }\n\n  updateRequest(props, t) {\n    const { currentContractRow, pack } = props;\n    const { contracts } = pack;\n\n    const currentId = +currentContractRow.getAttribute('data-id');\n\n    const contractsItems = this.contractsToArray(contracts);\n\n    const currentContract = contractsItems.find((el) => el.id === currentId);\n\n    const data = {\n      id: +currentContractRow.getAttribute('data-id'),\n      name: currentContractRow.querySelector('[contract-name]').value,\n      active: currentContractRow.querySelector('.contract-status [id-selected]').value === 'true',\n      date: currentContractRow.querySelector('.date').innerText.trim(),\n      link: props.newContractLink || currentContract.link,\n    };\n\n    const update = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.contractAPI.updateContract(data);\n\n    update.then(() => {\n      const getContracts = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.contractAPI.getContracts();\n      props.newContractLink = false;\n\n      getContracts.then((agreements) => {\n        props.pack.contracts = agreements;\n\n        this.closeEditRow(props, t);\n      });\n    });\n  }\n\n  changeLink(props, t) {\n    const row = utils.getParent(t, 'contract__row');\n\n    const contractsData = this.contractsToArray(props.pack.contracts);\n\n    const link = contractsData.find((el) => el.id === +row.getAttribute('data-id'))?.link;\n\n    const contentCreate = settingsContracts.changeLinkPopup.bind(settingsContracts, link);\n    const newLinkToProps = this.newLinkToProps.bind(this, props);\n\n    const popupProps = {\n      text: '',\n      settings: 'content',\n      title: 'Поменяйте ссылку',\n      ok: newLinkToProps,\n      cancel: null,\n      target: t,\n      contentCreator: contentCreate,\n    };\n\n    popup.init(popupProps);\n  }\n\n  newLinkToProps(props) {\n    if (validateContract.validateLink()) {\n      props.newContractLink = document.querySelector('.dialog__wrapper [doc-link]').value.trim();\n    } else {\n      return 'no-valid';\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EditContract);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/contracts/events/editContract.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/contracts/events/removeContract.js":
/*!***************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/contracts/events/removeContract.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n\n\n\n\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass RemoveContract {\n  init(props) {\n    const removeDoc = this.removeDoc.bind(this, props);\n\n    const contractsWrapper = document.querySelector('[contracts]');\n\n    if (contractsWrapper) {\n      contractsWrapper.addEventListener('click', removeDoc);\n    }\n  }\n\n  removeDoc(props, e) {\n    const t = e.target;\n\n    props.currentContractRow = utils.getParent(t, 'contract__row');\n\n    const removeRequest = this.removeRequest.bind(this, props);\n\n    if (t.classList.contains('contract__remove')) {\n      const popupProps = {\n        text: 'Вы действительно хотите удалить этот договор?',\n        settings: null,\n        title: null,\n        ok: removeRequest,\n        cancel: null,\n        target: t,\n      };\n\n      popup.init(popupProps);\n    }\n  }\n\n  removeRequest(props) {\n    const { currentContractRow } = props;\n\n    const id = +currentContractRow.getAttribute('data-id');\n    const remove = _api_api_js__WEBPACK_IMPORTED_MODULE_2__.contractAPI.removeContract({ id });\n\n    remove.then(() => {\n      const getItems = _api_api_js__WEBPACK_IMPORTED_MODULE_2__.contractAPI.getContracts();\n\n      getItems.then((agreements) => {\n        props.pack.contracts = agreements;\n\n        const contract = document.querySelector(`.contract__row[data-id=\"${id}\"]`);\n\n        if (contract) {\n          contract.remove();\n        }\n      });\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RemoveContract);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/contracts/events/removeContract.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/contracts/events/searcContract.js":
/*!**************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/contracts/events/searcContract.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass SearchContract {\n  init() {\n    const input = document.querySelector('.contract__search');\n\n    if (input) {\n      const clone = utils.setCloneElement(input);\n      const activeInput = this.activeInput.bind(this);\n      const searchContract = this.searchContract.bind(this);\n\n      clone.addEventListener('keyup', activeInput);\n      clone.addEventListener('input', searchContract);\n    }\n  }\n\n  activeInput(e) {\n    const t = e.target;\n\n    if (t.value) {\n      t.classList.add('active');\n    } else {\n      t.classList.remove('active');\n    }\n  }\n\n  searchContract(e) {\n    const t = e.target;\n    const { value } = t;\n\n    const items = document.querySelectorAll('.contract__row');\n\n    if (items.length) {\n      items.forEach((item) => {\n        const name = item.querySelector('[contract-name]');\n\n        if (name) {\n          if (!(~name.value.trim().toLowerCase().indexOf(value.trim().toLowerCase()))) {\n            item.classList.add('hide');\n          } else {\n            item.classList.remove('hide');\n          }\n        }\n      });\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SearchContract);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/contracts/events/searcContract.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/contracts/settingsContracts.js":
/*!***********************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/contracts/settingsContracts.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _modules_select_select_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../modules/select/select.js */ \"./dev/static/js/platform/modules/select/select.js\");\n/* harmony import */ var _events_addContract_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/addContract.js */ \"./dev/static/js/platform/menu/items/settings/contracts/events/addContract.js\");\n/* harmony import */ var _events_removeContract_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events/removeContract.js */ \"./dev/static/js/platform/menu/items/settings/contracts/events/removeContract.js\");\n/* harmony import */ var _events_editContract_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./events/editContract.js */ \"./dev/static/js/platform/menu/items/settings/contracts/events/editContract.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _events_changeTab_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./events/changeTab.js */ \"./dev/static/js/platform/menu/items/settings/contracts/events/changeTab.js\");\n/* harmony import */ var _events_searcContract_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./events/searcContract.js */ \"./dev/static/js/platform/menu/items/settings/contracts/events/searcContract.js\");\n\n\n\n\n\n\n\n\nconst select = new _modules_select_select_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst addContract = new _events_addContract_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst editContract = new _events_editContract_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst removeContract = new _events_removeContract_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\nconst changeTab = new _events_changeTab_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\nconst searchContract = new _events_searcContract_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\n\nclass SettingsContracts {\n  init(props) {\n    const button = document.querySelector('[upload-contract]');\n\n    if (button) {\n      props.selectsArray = [];\n\n      this.initSelects(props).then(() => {\n        select.init(props).then(() => {\n          props.contractInit = new SettingsContracts();\n\n          const items = [\n            addContract,\n            removeContract,\n            editContract,\n            changeTab,\n            searchContract,\n          ];\n\n          items.forEach((item) => {\n            const init = item.init.bind(item);\n            init(props);\n          });\n        });\n      });\n    }\n  }\n\n  async initSelects(props) {\n    const selects = document.querySelectorAll('[select-here]');\n\n    if (selects.length) {\n      selects.forEach(async (item) => {\n        utils.removeChildren(item);\n\n        const type = item.getAttribute('data-select-type');\n\n        const selectProps = {\n          type,\n          mode: 'custom',\n          openUp: false,\n          item,\n        };\n\n        switch (type) {\n          case 'select-status-contract': {\n            selectProps.defaultValue = item.getAttribute('data-value') === 'true';\n            selectProps.defaultPlaceholder = selectProps.defaultValue ? 'Активен' : 'Не активен';\n            break;\n          }\n          default: {\n            break;\n          }\n        }\n\n        await props.selectsArray.push(selectProps);\n      });\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SettingsContracts);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/contracts/settingsContracts.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/contracts/templates/settingsContractsTemplates.js":
/*!******************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/contracts/templates/settingsContractsTemplates.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _events_contractWrapper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../events/contractWrapper.js */ \"./dev/static/js/platform/menu/items/settings/contracts/events/contractWrapper.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass SettingsContractsTemplates extends _events_contractWrapper_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n  setContract(data) {\n    const { pack } = data;\n    const { contracts } = pack;\n\n    const table = document.querySelector('.contract__table tbody');\n\n    utils.removeChildren(table, 0);\n\n    const template = this.contractTemplate.bind(this);\n\n    const contractsItems = this.contractsToArray(contracts);\n    const typeContracts = this.getContractTypeCode();\n\n    const contractsTemplates = contractsItems.sort((a, b) => b.id - a.id).filter((el) => el.code === typeContracts).map(template).join('');\n\n    table.children[0].insertAdjacentHTML('afterend', contractsTemplates);\n  }\n\n  contractTemplate(contract) {\n    return `\n      <tr class=\"contract__row\" ${contract?.id ? `data-id=${contract.id}` : ''}>\n        <td class=\"contract__cell date\">${utils.getDateFormatDDMMYYYY(contract?.createDate) || '&mdash;'}</td>\n        <td need-disable title=\"${contract?.name || '&mdash;'}\" class=\"contract__cell contract-disable\">\n          <input type=\"text\" contract-name value=\"${contract?.name || '&mdash;'}\" class=\"contract__input\">\n        </td>\n        <td class=\"contract__cell who\">${contract?.userName || '&mdash;'}</td>\n        <td class=\"contract__cell status contract-status\">\n          <div class=\"contract-disable\" need-disable select-here data-value=\"${contract.active}\" data-select-type=\"select-status-contract\"></div>\n        </td>\n        <td class=\"contract__cell link transparent\">\n          <div class=\"contract__link-btn\">Поменять ссылку</div>\n        </td>\n        <td class=\"contract__cell settings\">\n          <span class=\"contract__settings\"></span>\n          <div class=\"contract__remove\"></div>\n          <div class=\"contract__navigation hide\">\n            <div class=\"contract__accept\"></div>\n            <div class=\"contract__close-edit\"></div>\n          </div>\n        </td>\n      </tr>\n    `;\n  }\n\n  createFileInputs() {\n    return `\n      <div class=\"dialog-content__item dialog-content__item--contract\">\n        <p class=\"contract-doc__name\">Название</p>\n        <input type=\"text\" required doc-name class=\"platform__input contract__input contract-popup__input\" placeholder=\"Введите название документа\">\n      </div>\n      <div class=\"dialog-content__item dialog-content__item--contract\">\n        <p class=\"contract-doc__name\">Ссылка</p>\n        <input type=\"text\" required doc-link class=\"platform__input contract__input contract-popup__input\" placeholder=\"Введите ссылку на документ\">\n      </div>\n    `;\n  }\n\n  changeLinkPopup(link) {\n    return `\n      <div class=\"contract-link__wrapper\">\n        <input type=\"text\" value=\"${link || ''}\" required doc-link class=\"platform__input contract__input contract-popup__input\" placeholder=\"Введите ссылку на документ\">\n      </div>\n    `;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SettingsContractsTemplates);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/contracts/templates/settingsContractsTemplates.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/funnel/events/addFunnel/addFunnel.js":
/*!*****************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/funnel/events/addFunnel/addFunnel.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_openMenu_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/openMenu.js */ \"./dev/static/js/platform/menu/items/settings/funnel/events/addFunnel/events/openMenu.js\");\n/* harmony import */ var _events_closeMenu_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/closeMenu.js */ \"./dev/static/js/platform/menu/items/settings/funnel/events/addFunnel/events/closeMenu.js\");\n\n\n\nconst openMenu = new _events_openMenu_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst closeMenu = new _events_closeMenu_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass AddFunnel {\n  init(props) {\n    const addProps = {\n      ...props,\n      menu: document.querySelector('[js-menu-funnel-add]'),\n    };\n\n    const items = [openMenu, closeMenu];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(addProps);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddFunnel);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/funnel/events/addFunnel/addFunnel.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/funnel/events/addFunnel/events/closeMenu.js":
/*!************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/funnel/events/addFunnel/events/closeMenu.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass CloseMenu {\n  init(props) {\n    const { menu } = props;\n\n    if (menu) {\n      const closeBtn = menu.querySelector('[close-funnels-funnel-add]');\n      const cancelBtn = menu.querySelector('[cancel-funnel]');\n\n      const btns = [closeBtn, cancelBtn];\n\n      if (btns.length) {\n        const closeMenu = this.closeMenu.bind(this, props);\n\n        btns.forEach((item) => {\n          const close = utils.setCloneElement(item);\n          close.addEventListener('click', closeMenu);\n        });\n      }\n    }\n  }\n\n  closeMenu(props) {\n    const { menu } = props;\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n\n    utils.closeModalAnimation(menu, wrapper, false, false, false);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CloseMenu);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/funnel/events/addFunnel/events/closeMenu.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/funnel/events/addFunnel/events/openMenu.js":
/*!***********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/funnel/events/addFunnel/events/openMenu.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _saveFunnel_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./saveFunnel.js */ \"./dev/static/js/platform/menu/items/settings/funnel/events/addFunnel/events/saveFunnel.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst saveFunnel = new _saveFunnel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass OpenMenu {\n  init(props) {\n    const addBtn = document.querySelector('[js-funnels-add]');\n\n    if (addBtn) {\n      const openAddMenu = this.openAddMenu.bind(this, props);\n\n      const add = utils.setCloneElement(addBtn);\n      add.addEventListener('click', openAddMenu);\n    }\n  }\n\n  openAddMenu(props) {\n    const { menu } = props;\n\n    this.clearFunnelMenu(props);\n    utils.openModalAnimation(menu, true);\n\n    const items = [saveFunnel];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(props);\n    });\n  }\n\n  clearFunnelMenu(props) {\n    const { menu } = props;\n\n    const name = menu.querySelector('[js-funnel-name]');\n    name.value = '';\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OpenMenu);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/funnel/events/addFunnel/events/openMenu.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/funnel/events/addFunnel/events/saveFunnel.js":
/*!*************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/funnel/events/addFunnel/events/saveFunnel.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _requests_funnelRequests_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../requests/funnelRequests.js */ \"./dev/static/js/platform/menu/items/settings/funnel/requests/funnelRequests.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst funnelRequests = new _requests_funnelRequests_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass SaveFunnel {\n  init(props) {\n    const { menu } = props;\n\n    const saveBtn = menu.querySelector('[save-funnel]');\n\n    if (saveBtn) {\n      const saveFunnel = this.saveFunnel.bind(this, props);\n\n      const save = utils.setCloneElement(saveBtn);\n\n      save.addEventListener('click', saveFunnel);\n    }\n  }\n\n  saveFunnel(props) {\n    const { menu } = props;\n\n    const funnelName = menu.querySelector('[js-funnel-name]').value;\n    const dealType = document.querySelector('[js-select-type]').value;\n\n    props.newFunnelData = {\n      funnelName,\n      dealType,\n    };\n\n    if (funnelName === '' || +dealType.value === 0) return false;\n\n    funnelRequests.saveRequest(props).then(() => {\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n\n      utils.closeModalAnimation(menu, wrapper, false, false, false);\n      props.defaultType = dealType;\n      props.funnel$.init(props);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SaveFunnel);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/funnel/events/addFunnel/events/saveFunnel.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/funnel/events/changeFunnelPage/changeFunnelPage.js":
/*!*******************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/funnel/events/changeFunnelPage/changeFunnelPage.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _templates_funnelTemplates_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../templates/funnelTemplates.js */ \"./dev/static/js/platform/menu/items/settings/funnel/templates/funnelTemplates.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst funnelTemplates = new _templates_funnelTemplates_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass ChangeFunnelPage {\n  init(props) {\n    const selectType = document.querySelector('[js-select-type]');\n\n    if (selectType) {\n      const changeFunnelPage = this.changeFunnelPage.bind(this, props);\n\n      const select = utils.setCloneElement(selectType);\n      select.addEventListener('change', changeFunnelPage);\n\n      if (props.defaultType) {\n        select.value = props.defaultType;\n      }\n    }\n  }\n\n  changeFunnelPage(props) {\n    _api_api_js__WEBPACK_IMPORTED_MODULE_2__.dealAPI.getFunnels().then((funnels) => {\n      props.pack.funnels = funnels;\n\n      funnelTemplates.renderFunnels(props);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChangeFunnelPage);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/funnel/events/changeFunnelPage/changeFunnelPage.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/funnel/events/editFunnel/editFunnel.js":
/*!*******************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/funnel/events/editFunnel/editFunnel.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass EditFunnel {\n  init(props) {\n    const funnels = document.querySelectorAll('[funnels-item]');\n\n    if (funnels.length) {\n      const openFunnelMenu = this.openFunnelMenu.bind(this, props);\n\n      funnels.forEach((item) => {\n        const funnel = utils.setCloneElement(item);\n        funnel.addEventListener('click', openFunnelMenu);\n      });\n    }\n  }\n\n  openFunnelMenu() {}\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EditFunnel);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/funnel/events/editFunnel/editFunnel.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/funnel/events/removeFunnel/removeFunnel.js":
/*!***********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/funnel/events/removeFunnel/removeFunnel.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _requests_funnelRequests_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../requests/funnelRequests.js */ \"./dev/static/js/platform/menu/items/settings/funnel/requests/funnelRequests.js\");\n\n\nconst funnelRequests = new _requests_funnelRequests_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass RemoveFunnel {\n  init(props) {\n    const removeBtns = document.querySelectorAll('[remove-funnel]');\n\n    if (removeBtns.length) {\n      const container = document.querySelector('.funnels-now__list');\n\n      const removeFunnel = this.removeFunnel.bind(this, props);\n\n      container.addEventListener('click', removeFunnel);\n    }\n  }\n\n  removeFunnel(props, e) {\n    const t = e.target;\n\n    if (t.hasAttribute('remove-funnel')) {\n      funnelRequests.funnelRemove(props, e);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RemoveFunnel);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/funnel/events/removeFunnel/removeFunnel.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/funnel/funnel.js":
/*!*********************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/funnel/funnel.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_changeFunnelPage_changeFunnelPage_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/changeFunnelPage/changeFunnelPage.js */ \"./dev/static/js/platform/menu/items/settings/funnel/events/changeFunnelPage/changeFunnelPage.js\");\n/* harmony import */ var _events_addFunnel_addFunnel_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/addFunnel/addFunnel.js */ \"./dev/static/js/platform/menu/items/settings/funnel/events/addFunnel/addFunnel.js\");\n/* harmony import */ var _events_removeFunnel_removeFunnel_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events/removeFunnel/removeFunnel.js */ \"./dev/static/js/platform/menu/items/settings/funnel/events/removeFunnel/removeFunnel.js\");\n/* harmony import */ var _events_editFunnel_editFunnel_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./events/editFunnel/editFunnel.js */ \"./dev/static/js/platform/menu/items/settings/funnel/events/editFunnel/editFunnel.js\");\n\n\n\n\n\nconst changeFunnelPage = new _events_changeFunnelPage_changeFunnelPage_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst addFunnel = new _events_addFunnel_addFunnel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst removeFunnel = new _events_removeFunnel_removeFunnel_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst editFunnel = new _events_editFunnel_editFunnel_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass Funnel {\n  init(props) {\n    const funnelProps = {\n      ...props,\n      funnel$: new Funnel(),\n    };\n\n    const items = [addFunnel, changeFunnelPage, removeFunnel, editFunnel];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(funnelProps);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Funnel);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/funnel/funnel.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/funnel/requests/funnelRequests.js":
/*!**************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/funnel/requests/funnelRequests.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _contentManager_contentManager_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../contentManager/contentManager.js */ \"./dev/static/js/platform/contentManager/contentManager.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n\n\n\n\n\nconst contentManager = new _contentManager_contentManager_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass FunnelRequests {\n  async saveRequest(props) {\n    const data = this.getSaveData(props);\n\n    await _api_api_js__WEBPACK_IMPORTED_MODULE_0__.funnelAPI.funnelAdd(data);\n    const funnels = await _api_api_js__WEBPACK_IMPORTED_MODULE_0__.dealAPI.getFunnels();\n    props.pack.funnels = funnels;\n\n    return await contentManager.init(props);\n  }\n\n  getSaveData(props) {\n    const { pack, newFunnelData } = props;\n    const { company } = pack;\n    const { id } = company;\n    const { funnelName, dealType } = newFunnelData;\n\n    return {\n      idCompany: id,\n      funnelName,\n      dealType,\n    };\n  }\n\n  funnelRemove(props, e) {\n    const t = e.target;\n\n    props.target = t;\n\n    props.deletedId = this.getRemoveData(props);\n\n    const removeFromAPI = this.removeFromAPI.bind(this, props);\n\n    const popupProps = {\n      text: 'Вы действительно хотите удалить эту воронку?',\n      settings: null,\n      title: null,\n      ok: removeFromAPI,\n      cancel: null,\n      target: t,\n    };\n\n    popup.init(popupProps);\n  }\n\n  cancelDelete() {\n    const deleteBoard = document.querySelector('[delete-board]');\n\n    if (deleteBoard) {\n      deleteBoard.style.bottom = '-100%';\n    }\n  }\n\n  getRemoveData(props) {\n    const { target } = props;\n\n    return +utils.getParent(target, 'funnels-funnel__item').querySelector('[funnels-id]').value;\n  }\n\n  removeFromAPI(props) {\n    const remove = _api_api_js__WEBPACK_IMPORTED_MODULE_0__.funnelAPI.funnelRemove(props.deletedId);\n\n    remove.then(() => {\n      this.remove(props.deletedId);\n    });\n  }\n\n  remove(id) {\n    const items = document.querySelectorAll('[funnels-item]');\n\n    items.forEach((item) => {\n      if (+item.querySelector('[funnels-id]').value === id) {\n        item.remove();\n      }\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FunnelRequests);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/funnel/requests/funnelRequests.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/funnel/templates/funnelTemplates.js":
/*!****************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/funnel/templates/funnelTemplates.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass FunnelTemplates {\n  async renderFunnels(props) {\n    const { pack } = props;\n    const { funnels } = pack;\n\n    const funnelsList = document.querySelector('.funnels-now__list');\n\n    if (funnelsList) {\n      utils.removeChildren(funnelsList);\n\n      const chooseType = document.querySelector('[js-select-type]').value;\n      const dealType = Object.entries(funnels);\n\n      for (let i = 0; i < dealType.length; i++) {\n        const item = dealType[i];\n\n        const type = item[0];\n        const funnelsData = item[1];\n\n        if (type === chooseType) {\n          for (let j = 0; j < funnelsData.length; j++) {\n            const elem = funnelsData[j];\n\n            const div = document.createElement('div');\n            div.setAttribute('funnels-item', '');\n            div.classList.add('funnels-funnel__item');\n            div.innerHTML = this.funnelTemplate(elem);\n            await funnelsList.appendChild(div);\n          }\n        }\n      }\n    }\n  }\n\n  funnelTemplate(elem) {\n    const isTraffic = (elem.dealType && elem.dealType === 'traffic') ? 'Трафик' : '';\n    const isBase = (elem.dealType && elem.dealType === 'additional') ? 'База' : '';\n\n    const dealType = isTraffic || isBase;\n\n    return `\n          <p class='funnels-funnel__title'>${elem.funnelName ? elem.funnelName : ''} <span remove-funnel class='funnels-funnel__delete'></p>\n          <p class='funnels-funnel__type'>${dealType}</p>\n          <input type='hidden' funnels-id value='${elem.idFunnel ? elem.idFunnel : ''}'>\n      `;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FunnelTemplates);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/funnel/templates/funnelTemplates.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/payment-form/builder/builder.js":
/*!************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/payment-form/builder/builder.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_openPaymentFormBuilderMenu_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/openPaymentFormBuilderMenu.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/builder/events/openPaymentFormBuilderMenu.js\");\n/* harmony import */ var _events_closeMenu_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/closeMenu.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/builder/events/closeMenu.js\");\n/* harmony import */ var _events_removePaymentForm_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events/removePaymentForm.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/builder/events/removePaymentForm.js\");\n/* harmony import */ var _events_editForm_editForm_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./events/editForm/editForm.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/builder/events/editForm/editForm.js\");\n/* harmony import */ var _events_copyLink_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./events/copyLink.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/builder/events/copyLink.js\");\n\n\n\n\n\n\nconst openMenu = new _events_openPaymentFormBuilderMenu_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst closeMenu = new _events_closeMenu_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst removePaymentForm = new _events_removePaymentForm_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst editForm = new _events_editForm_editForm_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst copyLink = new _events_copyLink_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n\nclass PaymentFormBuilder {\n  init(props) {\n    const builderProps = {\n      ...props,\n    };\n\n    const items = [openMenu, copyLink, closeMenu, editForm, removePaymentForm];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(builderProps);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PaymentFormBuilder);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/payment-form/builder/builder.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/payment-form/builder/events/chooseFormType.js":
/*!**************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/payment-form/builder/events/chooseFormType.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _formTypes_withChoice_withChoiceProduct_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./formTypes/withChoice/withChoiceProduct.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/builder/events/formTypes/withChoice/withChoiceProduct.js\");\n/* harmony import */ var _formTypes_withoutChoice_withoutChoiceProduct_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./formTypes/withoutChoice/withoutChoiceProduct.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/builder/events/formTypes/withoutChoice/withoutChoiceProduct.js\");\n\n\n\n\nconst withChoiceProduct = new _formTypes_withChoice_withChoiceProduct_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst withoutChoiceProduct = new _formTypes_withoutChoice_withoutChoiceProduct_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass ChooseFormType {\n  init(props) {\n    const { menu } = props;\n\n    this.formTypeDefault(props);\n    const choiceBtn = menu.querySelectorAll('[form-choice]');\n\n    if (choiceBtn.length) {\n      const doChoice = this.doChoice.bind(this, props);\n\n      choiceBtn.forEach((item) => {\n        const choice = utils.setCloneElement(item);\n        choice.addEventListener('change', doChoice);\n      });\n    }\n  }\n\n  formTypeDefault(choosenPack) {\n    const { menu } = choosenPack;\n\n    const formTypes = menu.querySelectorAll('[form-choice]');\n\n    if (formTypes.length) {\n      const selected = Array.from(formTypes).filter((el) => el.checked)[0];\n\n      if (selected) {\n        const choice = selected.getAttribute('data-type');\n        choosenPack.choice = choice;\n\n        this.doChoice(choosenPack);\n      }\n    }\n  }\n\n  doChoice(props, e) {\n    let choice;\n\n    if (e) {\n      const t = e.target;\n\n      choice = t.getAttribute('data-type');\n    } else {\n      choice = null;\n    }\n\n    props.choice = choice ?? props.choice;\n\n    switch (props.choice) {\n      case 'with-choice': {\n        const withChoice = withChoiceProduct.init.bind(withChoiceProduct);\n        withChoice(props);\n        break;\n      }\n      case 'without-choice': {\n        const withoutChoice = withoutChoiceProduct.init.bind(withoutChoiceProduct);\n        withoutChoice(props);\n        break;\n      }\n      default: {\n        break;\n      }\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChooseFormType);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/payment-form/builder/events/chooseFormType.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/payment-form/builder/events/closeMenu.js":
/*!*********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/payment-form/builder/events/closeMenu.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass ClosePaymentFormAddMenu {\n  init(props) {\n    const propsForm = {\n      ...props,\n      menu: document.querySelector('[payment-form-add]'),\n    };\n\n    const { menu } = propsForm;\n\n    if (menu) {\n      const closeBtn = menu.querySelector('[close-btn]');\n\n      if (closeBtn) {\n        const closeMenu = this.closeMenu.bind(this, propsForm);\n\n        const close = utils.setCloneElement(closeBtn);\n        close.addEventListener('click', closeMenu);\n      }\n    }\n  }\n\n  closeMenu(props) {\n    const { menu } = props;\n\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n    props.isPaymentForm = false;\n\n    utils.closeModalAnimation(menu, wrapper, false, false, false);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ClosePaymentFormAddMenu);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/payment-form/builder/events/closeMenu.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/payment-form/builder/events/copyLink.js":
/*!********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/payment-form/builder/events/copyLink.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass CopyLink {\n  init() {\n    const forms = document.querySelectorAll('.payment-form');\n\n    if (forms.length) {\n      const copyLink = this.copyLink.bind(this);\n\n      forms.forEach((item) => {\n        const copy = item.querySelector('.payment-form__copy');\n\n        if (copy) {\n          copy.addEventListener('click', copyLink);\n        }\n      });\n    }\n  }\n\n  copyLink(e) {\n    const t = e.target;\n\n    const value = t.getAttribute('data-link');\n\n    utils.copyLink(value);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CopyLink);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/payment-form/builder/events/copyLink.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/payment-form/builder/events/editForm/editForm.js":
/*!*****************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/payment-form/builder/events/editForm/editForm.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _openMenuGeneral_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../openMenuGeneral.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/builder/events/openMenuGeneral.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _events_setData_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./events/setData.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/builder/events/editForm/events/setData.js\");\n/* harmony import */ var _events_editForm_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./events/editForm.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/builder/events/editForm/events/editForm.js\");\n\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst setData = new _events_setData_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst editForm = new _events_editForm_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n\nclass EditPaymentForm extends _openMenuGeneral_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n  init(props) {\n    const forms = document.querySelectorAll('.payment-form');\n\n    if (forms.length) {\n      const openMenu = this.openMenu.bind(this, props);\n\n      forms.forEach((item) => {\n        item.addEventListener('click', openMenu);\n      });\n    }\n  }\n\n  openMenu(props, e) {\n    const t = e.target;\n\n    const icons = ['payment-form__cut', 'payment-form__copy'];\n\n    if (icons.includes(t.classList[0])) return false;\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    const { menu } = props;\n    props.target = t;\n\n    menu.querySelector('.menu-header__title').innerText = 'Редактировать форму оплаты';\n    menu.querySelector('[js-save-form]').innerText = 'Редактировать форму';\n\n    this.clearMenu(props);\n\n    utils.openModalAnimation(menu, true);\n\n    const data = utils.getParent(t, 'payment-form') ? +utils.getParent(t, 'payment-form').getAttribute('data-id') : +t.getAttribute('data-id');\n\n    _api_api_js__WEBPACK_IMPORTED_MODULE_2__.paymentFormAPI.getPaymentForm(data).then((form) => {\n      props.currentForm = form;\n      props.isPaymentForm = true;\n      props.isChangedProduct = false;\n\n      const items = [setData, editForm];\n\n      items.forEach((item) => {\n        const init = item.init.bind(item);\n        init(props);\n      });\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EditPaymentForm);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/payment-form/builder/events/editForm/editForm.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/payment-form/builder/events/editForm/events/editForm.js":
/*!************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/payment-form/builder/events/editForm/events/editForm.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _requests_paymentFormRequests_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../requests/paymentFormRequests.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/builder/requests/paymentFormRequests.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n/* harmony import */ var _utils_validation_payment_form_validatePaymentFormBuilder_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../../../utils/validation/payment-form/validatePaymentFormBuilder.js */ \"./dev/static/js/platform/utils/validation/payment-form/validatePaymentFormBuilder.js\");\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst paymentFormRequests = new _requests_paymentFormRequests_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst validatePaymentFormBuilder = new _utils_validation_payment_form_validatePaymentFormBuilder_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass EditForm {\n  init(props) {\n    const { menu } = props;\n\n    const updateBtn = menu.querySelector('[js-save-form]');\n\n    if (updateBtn) {\n      const update = utils.setCloneElement(updateBtn);\n      const updateRequest = this.updateRequest.bind(this, props);\n\n      update.addEventListener('click', updateRequest);\n\n      const toValidateError = validation.toValidationError.bind(validation);\n\n      update.addEventListener('dblclick', toValidateError);\n    }\n  }\n\n  updateRequest(props) {\n    const { menu } = props;\n\n    const form = menu.querySelector('[payment-form-add-form]');\n\n    if (validatePaymentFormBuilder.init(form)) {\n      paymentFormRequests.updateForm(props);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EditForm);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/payment-form/builder/events/editForm/events/editForm.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/payment-form/builder/events/editForm/events/setData.js":
/*!***********************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/payment-form/builder/events/editForm/events/setData.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _chooseFormType_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chooseFormType.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/builder/events/chooseFormType.js\");\n\n\nconst chooseFormType = new _chooseFormType_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass SetData {\n  init(props) {\n    const { menu, currentForm } = props;\n    props.isChanged = false;\n\n    this.setType(props);\n\n    const items = [chooseFormType];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(props);\n    });\n\n    if (menu && currentForm) {\n      const name = menu.querySelector('[payment-form-name]');\n      name.value = currentForm.name;\n    }\n  }\n\n  setType(props) {\n    const { currentForm, menu } = props;\n\n    const forms = Array.from(menu.querySelectorAll('[form-choice]'));\n\n    forms.forEach((item) => {\n      item.checked = false;\n      item.removeAttribute('checked');\n    });\n\n    if (currentForm.withChoice) {\n      const type = forms.filter((el) => el.getAttribute('data-type') !== 'without-choice')[0];\n      type.checked = true;\n    }\n\n    if (!currentForm.withChoice) {\n      const type = forms.filter((el) => el.getAttribute('data-type') !== 'with-choice')[0];\n      type.checked = true;\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SetData);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/payment-form/builder/events/editForm/events/setData.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/payment-form/builder/events/formTypes/setLinks.js":
/*!******************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/payment-form/builder/events/formTypes/setLinks.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass SetLinks {\n  init(props) {\n    this.setLinks(props);\n  }\n\n  setLinks(props) {\n    const { menu, pack, currentForm } = props;\n    const { outsideLinks } = pack;\n\n    const linksWrapper = menu.querySelector('.payment-form__links-wrapper');\n\n    if (linksWrapper) {\n      utils.removeChildren(linksWrapper);\n\n      const chooseLink = this.chooseLink.bind(this, props);\n\n      outsideLinks.forEach((item) => {\n        const div = document.createElement('div');\n        div.classList.add('link__item');\n        div.setAttribute('data-id', item.id);\n        div.innerText = item.name;\n\n        linksWrapper.appendChild(div);\n\n        div.addEventListener('click', chooseLink);\n      });\n\n      const searchInput = document.querySelector('[links-search]');\n\n      const searchLinks = this.searchLinks.bind(this, props);\n\n      const sInput = utils.setCloneElement(searchInput);\n      sInput.addEventListener('input', searchLinks);\n\n      if (currentForm?.outsideLink?.id) {\n        const links = Array.from(menu.querySelectorAll('.link__item'));\n\n        links.forEach((item) => {\n          if (+item.getAttribute('data-id') === currentForm.outsideLink.id) {\n            item.parentNode.insertBefore(item, links.filter((el, index) => index === 0)[0]);\n            item.classList.add('active');\n          }\n        });\n      }\n    }\n  }\n\n  chooseLink(props, e) {\n    const t = e.target;\n\n    const links = document.querySelectorAll('.link__item');\n\n    links.forEach((item) => {\n      item.classList.remove('active');\n    });\n\n    t.classList.add('active');\n  }\n\n  searchLinks(props, e) {\n    const t = e.target;\n    const { menu } = props;\n    const value = t.value.toLowerCase();\n\n    const links = menu.querySelectorAll('.link__item');\n\n    links.forEach((item) => {\n      if (!(~item.innerText.toLowerCase().indexOf(value))) {\n        item.classList.add('hide');\n      } else {\n        item.classList.remove('hide');\n      }\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SetLinks);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/payment-form/builder/events/formTypes/setLinks.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/payment-form/builder/events/formTypes/withChoice/events/events/changeStreams.js":
/*!************************************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/payment-form/builder/events/formTypes/withChoice/events/events/changeStreams.js ***!
  \************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _templates_paymentFormTemplates_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../templates/paymentFormTemplates.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/templates/paymentFormTemplates.js\");\n/* harmony import */ var _modules_select_select_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../../../../../modules/select/select.js */ \"./dev/static/js/platform/modules/select/select.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst paymentFormTemplates = new _templates_paymentFormTemplates_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst select = new _modules_select_select_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass ChangeStreams {\n  init(props) {\n    const { menu } = props;\n\n    this.defaultStreams(props);\n\n    const changeDateBtns = menu.querySelectorAll('[streams-choice]');\n\n    if (changeDateBtns.length) {\n      const change = this.changeDate.bind(this, props);\n\n      changeDateBtns.forEach((item) => {\n        const changeBtn = utils.setCloneElement(item);\n        changeBtn.addEventListener('change', change);\n      });\n    }\n  }\n\n  defaultStreams(props) {\n    const { menu, currentForm } = props;\n\n    if (currentForm) {\n      const dateType = Array.from(menu.querySelectorAll('[streams-choice]'));\n\n      if (dateType.length) {\n        dateType.forEach((item) => {\n          item.checked = false;\n        });\n\n        const oneDate = dateType.filter((el) => el.getAttribute('data-type') === 'one-date')[0];\n        oneDate.checked = true;\n      }\n\n      if (currentForm.streams?.length > 1) {\n        const multiplyDate = dateType.filter((el) => el.getAttribute('data-type') === 'multiply-date')[0];\n        multiplyDate.checked = true;\n\n        props.dateType = 'multiply-date';\n        this.changeDate(props);\n      } else {\n        props.dateType = 'one-date';\n        this.changeDate(props);\n      }\n    } else {\n      const choice = menu.querySelectorAll('[streams-choice]');\n\n      if (choice.length) {\n        const selected = Array.from(choice).filter((el) => el.checked)[0];\n\n        if (selected) {\n          const type = selected.getAttribute('data-type');\n          props.dateType = type;\n          this.changeDate(props);\n        }\n      }\n    }\n  }\n\n  changeDate(props, e) {\n    const { menu } = props;\n    let dateType;\n\n    if (e) {\n      const t = e.target;\n\n      dateType = t.getAttribute('data-type');\n    } else {\n      dateType = props.dateType;\n    }\n\n    props.dateType = dateType ?? props.dateType;\n\n    const formData = new FormData();\n    formData.set('idCourse', +menu.querySelector('[data-select-type=\"select-product\"] [id-selected]').value);\n\n    _api_api_js__WEBPACK_IMPORTED_MODULE_3__.dealAPI.getStreams(formData).then((streams) => {\n      props.pack.streams = streams;\n\n      if (props.pack.streams?.length) {\n        switch (props.dateType) {\n          case 'one-date': {\n            this.oneDateMode(props);\n            break;\n          }\n          case 'multiply-date': {\n            this.multiDateMode(props);\n            break;\n          }\n          default: {\n            break;\n          }\n        }\n      } else {\n        const wrapper = menu.querySelector('.payment-form__date-wrapper');\n        utils.removeChildren(wrapper);\n\n        wrapper.classList.remove('full');\n      }\n    });\n  }\n\n  oneDateMode(props) {\n    const { menu, pack } = props;\n    const { streams } = pack;\n\n    const wrapper = menu.querySelector('.payment-form__date-wrapper');\n\n    if (streams.length) {\n      if (wrapper) {\n        utils.removeChildren(wrapper);\n        wrapper.classList.add('full');\n\n        streams.forEach((item) => {\n          const div = document.createElement('div');\n          div.classList.add('payment-form__date');\n          div.innerHTML = paymentFormTemplates.startDateCheckbox(item);\n\n          wrapper.appendChild(div);\n        });\n\n        this.checkSelectedStream(props);\n      }\n    } else if (!streams.length) {\n      if (wrapper) {\n        wrapper.classList.remove('full');\n      }\n    }\n  }\n\n  checkSelectedStream(props) {\n    const { menu, currentForm } = props;\n\n    const streamsCb = menu.querySelectorAll('[one-date-select]');\n\n    if (currentForm) {\n      streamsCb.forEach((item) => {\n        if (+item.getAttribute('data-id') === currentForm?.streams[0]?.id) {\n          item.checked = true;\n        }\n      });\n    }\n  }\n\n  multiDateMode(props) {\n    const { menu, currentForm, pack } = props;\n    const { streams } = pack;\n    const wrapper = menu.querySelector('.payment-form__date-wrapper');\n\n    if (streams.length) {\n      if (wrapper) {\n        utils.removeChildren(wrapper);\n\n        wrapper.classList.add('full');\n\n        const div = document.createElement('div');\n        div.classList.add('form__angle');\n        div.setAttribute('select-here', '');\n        div.setAttribute('data-select-type', 'select-multiply-date');\n        div.innerHTML = paymentFormTemplates.startDateWihChoice();\n\n        wrapper.appendChild(div);\n\n        const optionsProps = {\n          streams,\n          menu,\n          currentForm,\n          props,\n        };\n\n        this.setOptionToDateSelect(optionsProps);\n      }\n    } else if (!streams?.length) {\n      if (wrapper) {\n        wrapper.classList.remove('full');\n      }\n    }\n  }\n\n  setOptionToDateSelect(optionsProps) {\n    const {\n      menu,\n      props,\n    } = optionsProps;\n\n    const selectBody = menu.querySelector('[data-select-type=\"select-multiply-date\"]');\n\n    const streamCounter = props.currentForm ? props.currentForm.streams?.length : null;\n\n    props.selectsArray = [\n      {\n        mode: 'custom',\n        required: true,\n        placeholder: 'Выберите количество дат',\n        openUp: false,\n        item: selectBody,\n        type: 'select-multiply-date',\n        defaultValue: streamCounter,\n        defaultPlaceholder: streamCounter,\n      },\n    ];\n\n    select.init(props);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChangeStreams);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/payment-form/builder/events/formTypes/withChoice/events/events/changeStreams.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/payment-form/builder/events/formTypes/withChoice/events/setData.js":
/*!***********************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/payment-form/builder/events/formTypes/withChoice/events/setData.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _setLinks_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../setLinks.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/builder/events/formTypes/setLinks.js\");\n/* harmony import */ var _crm_dealCard_deal_events_afterGetDeal_dealItems_product_product_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../crm/dealCard/deal/events/afterGetDeal/dealItems/product/product.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/product/product.js\");\n/* harmony import */ var _crm_dealCard_deal_events_afterGetDeal_dealItems_dealType_dealType_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../../crm/dealCard/deal/events/afterGetDeal/dealItems/dealType/dealType.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/dealType/dealType.js\");\n/* harmony import */ var _crm_dealCard_deal_events_afterGetDeal_dealItems_funnel_funnel_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../../crm/dealCard/deal/events/afterGetDeal/dealItems/funnel/funnel.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/funnel/funnel.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../../../../../utils/utils.js */ \"./dev/static/js/utils/utils.js\");\n\n\n\n\n\n\nconst setLinks = new _setLinks_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst product = new _crm_dealCard_deal_events_afterGetDeal_dealItems_product_product_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst dealType = new _crm_dealCard_deal_events_afterGetDeal_dealItems_dealType_dealType_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst funnel = new _crm_dealCard_deal_events_afterGetDeal_dealItems_funnel_funnel_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n\nclass SetData {\n  init(props) {\n    props.isPaymentForm = true;\n\n    setLinks.init(props);\n    dealType.init(props);\n    funnel.init(props);\n    product.init(props);\n    this.setPaymentMethods(props);\n  }\n\n  setPaymentMethods(props) {\n    const { pack } = props;\n    const { paymentMethods } = pack;\n\n    const select = document.querySelector('[data-select-type=\"payment-type-select\"] [select-body]');\n\n    if (select) {\n      utils.removeChildren(select, 0);\n\n      paymentMethods.forEach((item) => {\n        const option = document.createElement('div');\n        option.classList.add('select__option');\n        option.classList.add('no-icon');\n        option.setAttribute('value', item.id);\n        option.innerText = item.title;\n\n        select.appendChild(option);\n      });\n\n      const idSelected = document.querySelector('[data-select-type=\"payment-type-select\"] [id-selected]');\n      const head = document.querySelector('[data-select-type=\"payment-type-select\"] [select-head]');\n\n      if (props.currentForm) {\n        idSelected.value = String(props.currentForm?.idPaymentMethod);\n\n        const selected = Array.from(select.children).find((el) => el.getAttribute('value') === String(props.currentForm?.idPaymentMethod));\n\n        head.innerText = selected.innerText.trim();\n        head.parentNode.setAttribute('title', selected.innerText.trim());\n      } else {\n        idSelected.value = '';\n        head.parentNode.setAttribute('title', '');\n      }\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SetData);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/payment-form/builder/events/formTypes/withChoice/events/setData.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/payment-form/builder/events/formTypes/withChoice/withChoiceProduct.js":
/*!**************************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/payment-form/builder/events/formTypes/withChoice/withChoiceProduct.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _templates_paymentFormTemplates_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../templates/paymentFormTemplates.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/templates/paymentFormTemplates.js\");\n/* harmony import */ var _events_setData_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/setData.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/builder/events/formTypes/withChoice/events/setData.js\");\n/* harmony import */ var _modules_select_select_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../../../modules/select/select.js */ \"./dev/static/js/platform/modules/select/select.js\");\n/* harmony import */ var _crm_dealCard_deal_events_afterGetDeal_interfaces_interfaceDealType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../crm/dealCard/deal/events/afterGetDeal/interfaces/interfaceDealType.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/interfaces/interfaceDealType.js\");\n/* harmony import */ var _interfaces_interfaceProductPaymentForm_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../interfaces/interfaceProductPaymentForm.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/interfaces/interfaceProductPaymentForm.js\");\n\n\n\n\n\n\nconst paymentFormTemplates = new _templates_paymentFormTemplates_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst setData = new _events_setData_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst select = new _modules_select_select_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst interfaceDealType = new _crm_dealCard_deal_events_afterGetDeal_interfaces_interfaceDealType_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst interfaceProductPaymentForm = new _interfaces_interfaceProductPaymentForm_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n\nclass WithChoiceProduct {\n  init(props) {\n    const { menu } = props;\n    const render = this.#render.bind(this);\n\n    render(props).then(() => {\n      const items = [setData];\n\n      items.forEach((item) => {\n        const init = item.init.bind(item);\n        init(props, menu);\n      });\n\n      interfaceDealType.change(props);\n      interfaceProductPaymentForm.change(props);\n    });\n  }\n\n  async #render(props) {\n    const { menu } = props;\n    const wrapper = menu.querySelector('.payment-form__list');\n\n    if (wrapper) {\n      wrapper.remove();\n    }\n\n    const list = menu.querySelector('.payment-form__menu--content');\n\n    if (list) {\n      const ul = document.createElement('ul');\n      ul.classList.add('payment-form__list');\n\n      ul.innerHTML = paymentFormTemplates.menuWithChoiceProduct();\n\n      list.appendChild(ul);\n\n      await this.#initSelectItems(props);\n    }\n  }\n\n  async #initSelectItems(props) {\n    const { menu } = props;\n\n    const selects = menu.querySelectorAll('[select-here]');\n\n    if (selects.length) {\n      selects.forEach((item) => {\n        Array.from(item.children).forEach((el, count) => {\n          if (count !== 0) {\n            el.remove();\n          }\n        });\n      });\n\n      props.selectsArray = [];\n\n      for (let index = 0; index < selects.length; index++) {\n        const item = selects[index];\n\n        await this.#dispatchSelectItem(item, props);\n      }\n\n      await select.init(props);\n    }\n  }\n\n  #dispatchSelectItem(item, props) {\n    const { selectsArray, currentForm, pack } = props;\n\n    const type = item.getAttribute('data-select-type');\n\n    const statusProps = {\n      required: true,\n      placeholder: null,\n      mode: 'custom',\n      item,\n      defaultValue: null,\n      defaultPlaceholder: null,\n      type: type.trim(),\n      openUp: false,\n    };\n\n    switch (type) {\n      case 'select-deal-type': {\n        statusProps.placeholder = 'Выберите тип продажи';\n        statusProps.defaultValue = currentForm?.dealType;\n\n        const editFormMode = currentForm?.dealType === 'additional' ? 'База' : 'Трафик';\n        statusProps.defaultPlaceholder = currentForm ? editFormMode : false;\n        break;\n      }\n      case 'select-funnel': {\n        statusProps.placeholder = 'Выберите воронку';\n        statusProps.defaultValue = currentForm?.funnel.idFunnel;\n        statusProps.defaultPlaceholder = currentForm?.funnel.funnelName;\n        break;\n      }\n      case 'select-product': {\n        statusProps.placeholder = 'Выберите продукт';\n        statusProps.defaultValue = currentForm?.course.id;\n        statusProps.defaultPlaceholder = currentForm?.course.name;\n        break;\n      }\n      case 'select-tariff': {\n        statusProps.placeholder = 'Выберите тариф';\n        statusProps.defaultValue = currentForm?.tariff?.id;\n        statusProps.defaultPlaceholder = currentForm?.tariff?.name;\n        break;\n      }\n      case 'select-payment-method': {\n        const { paymentMethods: methods } = pack;\n        statusProps.placeholder = 'Выберите метод оплаты';\n\n        if (currentForm) {\n          const { idPaymentMethod } = currentForm;\n          statusProps.defaultValue = idPaymentMethod;\n          statusProps.defaultPlaceholder = methods.find((el) => el.id === idPaymentMethod)?.title;\n        }\n        break;\n      }\n      default: {\n        break;\n      }\n    }\n\n    selectsArray.push(statusProps);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (WithChoiceProduct);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/payment-form/builder/events/formTypes/withChoice/withChoiceProduct.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/payment-form/builder/events/formTypes/withoutChoice/withoutChoiceProduct.js":
/*!********************************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/payment-form/builder/events/formTypes/withoutChoice/withoutChoiceProduct.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _templates_paymentFormTemplates_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../templates/paymentFormTemplates.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/templates/paymentFormTemplates.js\");\n/* harmony import */ var _setLinks_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../setLinks.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/builder/events/formTypes/setLinks.js\");\n/* harmony import */ var _crm_dealCard_deal_events_afterGetDeal_dealItems_dealType_dealType_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../crm/dealCard/deal/events/afterGetDeal/dealItems/dealType/dealType.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/dealType/dealType.js\");\n/* harmony import */ var _crm_dealCard_deal_events_afterGetDeal_dealItems_funnel_funnel_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../crm/dealCard/deal/events/afterGetDeal/dealItems/funnel/funnel.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/funnel/funnel.js\");\n\n\n\n\n\nconst paymentFormTemplates = new _templates_paymentFormTemplates_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst setLinks = new _setLinks_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst dealType = new _crm_dealCard_deal_events_afterGetDeal_dealItems_dealType_dealType_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst funnel = new _crm_dealCard_deal_events_afterGetDeal_dealItems_funnel_funnel_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass WithoutChoiceProduct {\n  init(props) {\n    const render = this.render.bind(this);\n\n    render(props).then(() => {\n      setLinks.init(props);\n      dealType.setData(props);\n      funnel.setData(props);\n    });\n  }\n\n  async render(props) {\n    const { menu } = props;\n    const wrapper = menu.querySelector('.payment-form__list');\n\n    if (wrapper) {\n      wrapper.remove();\n    }\n\n    const list = menu.querySelector('.payment-form__menu--content');\n\n    if (list) {\n      const ul = document.createElement('ul');\n      ul.classList.add('payment-form__list');\n\n      ul.innerHTML = paymentFormTemplates.menuWithoutChoice();\n\n      list.appendChild(ul);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (WithoutChoiceProduct);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/payment-form/builder/events/formTypes/withoutChoice/withoutChoiceProduct.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/payment-form/builder/events/openMenuGeneral.js":
/*!***************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/payment-form/builder/events/openMenuGeneral.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass OpenMenuGeneral {\n  clearMenu(props) {\n    this.clearFormTypes(props);\n  }\n\n  clearFormTypes(props) {\n    const { menu } = props;\n\n    const formsTypes = Array.from(menu.querySelectorAll('[form-choice]'));\n\n    if (formsTypes.length) {\n      formsTypes.forEach((item) => {\n        item.checked = false;\n      });\n\n      const withChoice = formsTypes.filter((el) => el.getAttribute('data-type') === 'with-choice')[0];\n\n      if (withChoice) {\n        withChoice.checked = true;\n        withChoice.setAttribute('checked', '');\n      }\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OpenMenuGeneral);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/payment-form/builder/events/openMenuGeneral.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/payment-form/builder/events/openPaymentFormBuilderMenu.js":
/*!**************************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/payment-form/builder/events/openPaymentFormBuilderMenu.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _chooseFormType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chooseFormType.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/builder/events/chooseFormType.js\");\n/* harmony import */ var _saveForm_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./saveForm.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/builder/events/saveForm.js\");\n/* harmony import */ var _openMenuGeneral_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./openMenuGeneral.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/builder/events/openMenuGeneral.js\");\n\n\n\n\n\nconst chooseFormType = new _chooseFormType_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst saveForm = new _saveForm_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass OpenPaymentFormBuilderMenu extends _openMenuGeneral_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"] {\n  init(props) {\n    props.menu = document.querySelector('[payment-form-add]');\n\n    const paymentFormAdd = document.querySelector('[js-payment-form-add]');\n\n    if (paymentFormAdd) {\n      const openPaymentFormMenu = this.openPaymentFormMenu.bind(this, props);\n\n      const openBtn = utils.setCloneElement(paymentFormAdd);\n      openBtn.addEventListener('click', openPaymentFormMenu);\n    }\n  }\n\n  openPaymentFormMenu(props) {\n    const paymentProps = {\n      ...props,\n      currentForm: undefined,\n      deal: undefined,\n      idFunnel: undefined,\n      dateType: undefined,\n    };\n\n    const { menu } = paymentProps;\n\n    menu.querySelector('.menu-header__title').innerText = 'Добавить форму оплаты';\n    menu.querySelector('[js-save-form]').innerText = 'Добавить форму';\n\n    this.clearMenu(paymentProps);\n\n    utils.openModalAnimation(menu, true);\n\n    menu.querySelector('.payment-form__menu--content').scrollTop = '0';\n\n    const items = [chooseFormType, saveForm];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(paymentProps);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OpenPaymentFormBuilderMenu);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/payment-form/builder/events/openPaymentFormBuilderMenu.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/payment-form/builder/events/removePaymentForm.js":
/*!*****************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/payment-form/builder/events/removePaymentForm.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass RemovePaymentForm {\n  init(props) {\n    const removeBtns = document.querySelectorAll('.payment-form__delete');\n\n    if (removeBtns.length) {\n      const removeForm = this.removeForm.bind(this, props);\n\n      removeBtns.forEach((item) => {\n        const remove = utils.setCloneElement(item);\n        remove.addEventListener('click', removeForm);\n      });\n    }\n  }\n\n  removeForm(props, e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const t = e.target;\n\n    props.target = t;\n\n    const removeRequest = this.removeRequest.bind(this, props);\n\n    const popupProps = {\n      text: 'Вы действительно хотите удалить эту форму оплаты?',\n      settings: null,\n      title: null,\n      ok: removeRequest,\n      cancel: null,\n      target: t,\n    };\n\n    popup.init(popupProps);\n  }\n\n  removeRequest(props) {\n    const { target } = props;\n\n    const id = +utils.getParent(target, 'payment-form').getAttribute('data-id');\n\n    const remove = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.paymentFormAPI.removePaymentForm(id);\n\n    remove.then(() => {\n      const form = document.querySelector(`.payment-form[data-id=\"${id}\"]`);\n      form.remove();\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RemovePaymentForm);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/payment-form/builder/events/removePaymentForm.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/payment-form/builder/events/saveForm.js":
/*!********************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/payment-form/builder/events/saveForm.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n/* harmony import */ var _requests_paymentFormRequests_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../requests/paymentFormRequests.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/builder/requests/paymentFormRequests.js\");\n/* harmony import */ var _utils_validation_payment_form_validatePaymentFormBuilder_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../utils/validation/payment-form/validatePaymentFormBuilder.js */ \"./dev/static/js/platform/utils/validation/payment-form/validatePaymentFormBuilder.js\");\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst paymentFormRequest = new _requests_paymentFormRequests_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst validationPaymentFormBuilder = new _utils_validation_payment_form_validatePaymentFormBuilder_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass SaveForm {\n  init(props) {\n    const { menu } = props;\n\n    const saveBtn = menu.querySelector('[js-save-form]');\n\n    if (saveBtn) {\n      const save = utils.setCloneElement(saveBtn);\n\n      const saveForm = this.saveForm.bind(this, props);\n      save.addEventListener('click', saveForm);\n\n      const toError = validation.toValidationError.bind(validation);\n      save.addEventListener('dblclick', toError);\n    }\n  }\n\n  saveForm(props, e) {\n    const t = e.target;\n    const { menu } = props;\n\n    const form = menu.querySelector('[payment-form-add-form]');\n\n    if (validationPaymentFormBuilder.init(form, true)) {\n      t.style.pointerEvents = 'none';\n      props.target = t;\n\n      paymentFormRequest.saveForm(props);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SaveForm);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/payment-form/builder/events/saveForm.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/payment-form/builder/requests/paymentFormRequests.js":
/*!*********************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/payment-form/builder/requests/paymentFormRequests.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _contentManager_contentManager_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../contentManager/contentManager.js */ \"./dev/static/js/platform/contentManager/contentManager.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst contentManager = new _contentManager_contentManager_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass PaymentFormRequest {\n  updateForm(props) {\n    const { target, menu, currentForm } = props;\n    const data = this.getData(props);\n\n    data.keyField.id = utils.getParent(target, 'payment-form') ? +utils.getParent(target, 'payment-form').getAttribute('data-id') : +target.getAttribute('data-id');\n\n    data.valueField = this.getValueField(currentForm, data);\n\n    _api_api_js__WEBPACK_IMPORTED_MODULE_1__.paymentFormAPI.updatePaymentForm(data).then(() => {\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n\n      utils.closeModalAnimation(menu, wrapper, false, false, false);\n\n      this.updateForms(props);\n    });\n  }\n\n  getValueField(currentForm, data) {\n    const { streams } = currentForm;\n    const { streams: choosenStreams } = data.keyField;\n\n    const removedArray = streams.filter((el) => !choosenStreams.includes(el));\n\n    return removedArray.length ? removedArray.map((el) => el.id) : null;\n  }\n\n  saveForm(props) {\n    const { menu, target } = props;\n\n    const data = this.getData(props);\n\n    _api_api_js__WEBPACK_IMPORTED_MODULE_1__.paymentFormAPI.savePaymentForms(data.keyField).then(() => {\n      target.style.pointerEvents = 'all';\n\n      const wrapper = menu.querySelector('.platform-modal__wrapper');\n      utils.closeModalAnimation(menu, wrapper, false, false, false);\n\n      this.updateForms(props);\n    }, () => {\n      target.style.pointerEvents = 'all';\n    });\n  }\n\n  getData(props) {\n    const { menu } = props;\n\n    const withCoiceRadio = menu.querySelector('[with-choice]');\n\n    let data;\n\n    if (withCoiceRadio.checked) {\n      data = this.getRequestDataWithChoice(props);\n    } else {\n      data = this.getRequestDataWithoutChoice(props);\n    }\n\n    return data;\n  }\n\n  getRequestDataWithChoice(props) {\n    const { menu } = props;\n\n    const [name, idCompany, dealType, funnels, outsideLink] = this.getGeneralData(props);\n\n    const course = { id: +menu.querySelector('[data-select-type=\"select-product\"] [id-selected]').value };\n\n    const haveTariff = !menu.querySelector('.tariff-content').classList.contains('hide');\n    const idTariff = haveTariff ? { id: +menu.querySelector('[data-select-type=\"select-tariff\"] [id-selected]').value } : null;\n\n    let one;\n\n    menu.querySelectorAll('[one-date-select]').forEach((item) => {\n      if (item.checked) {\n        one = +item.value;\n      }\n    });\n\n    const oneDay = one ? [{ id: one }] : null;\n    const streamsArray = props?.pack?.streams?.concat();\n\n    let multiplyDay;\n\n    if (streamsArray) {\n      multiplyDay = menu.querySelector('[data-select-type=\"select-multiply-date\"]') ? streamsArray.splice(0, +menu.querySelector('[data-select-type=\"select-multiply-date\"] [id-selected]').value).map((el) => { return { id: el.id }; }) : null;\n    }\n\n    const streams = oneDay || multiplyDay;\n\n    let deletedStreamsId;\n\n    if (streams?.length > 1) {\n      deletedStreamsId = this.getDeletedStreamsId(props, multiplyDay);\n    } else if (streams?.length < 1 && props.currentForm) {\n      deletedStreamsId = [...props.currentForm.streams].map((item) => item.id);\n    }\n\n    const idPaymentMethod = menu.querySelector('[data-select-type=\"select-payment-method\"] [id-selected]')?.value;\n\n    return {\n      keyField: {\n        withChoice: true,\n        idCompany: idCompany || null,\n        name: name || null,\n        dealType,\n        funnel: funnels || null,\n        course: course || null,\n        tariff: idTariff || null,\n        streams: streams || null,\n        outsideLink: outsideLink || null,\n        idPaymentMethod: idPaymentMethod || null,\n      },\n      valueField: deletedStreamsId?.length ? deletedStreamsId : null,\n    };\n  }\n\n  getRequestDataWithoutChoice(props) {\n    const [name, idCompany, dealType, funnels, outsideLink] = this.getGeneralData(props);\n\n    return {\n      keyField: {\n        withChoice: false,\n        name: name || null,\n        idCompany: idCompany || null,\n        dealType,\n        funnel: funnels || null,\n        outsideLink: outsideLink || null,\n      },\n    };\n  }\n\n  getGeneralData(props) {\n    const { menu } = props;\n\n    const name = menu.querySelector('[payment-form-name]').value;\n    const idCompany = props.pack.company.id;\n\n    const dealType = menu.querySelector('[data-select-type=\"select-deal-type\"] [id-selected]').value;\n\n    const funnels = { idFunnel: +menu.querySelector('[data-select-type=\"select-funnel\"] [id-selected]').value };\n\n    const outsideLinks = menu.querySelectorAll('.link__item');\n\n    let outsideLink;\n\n    outsideLinks.forEach((item) => {\n      if (item.classList.contains('active')) {\n        outsideLink = { id: +item.getAttribute('data-id') };\n      }\n    });\n\n    return [name, idCompany, dealType, funnels, outsideLink];\n  }\n\n  updateForms(props) {\n    const newProps = {\n      ...props,\n      target: undefined,\n    };\n\n    const getPaymentForms = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.paymentFormAPI.getPaymentForms();\n\n    getPaymentForms.then((forms) => {\n      props.pack.paymentForms = forms;\n\n      contentManager.init(newProps).then(() => {\n        props.paymentForm$.init(newProps);\n      });\n    });\n  }\n\n  getDeletedStreamsId(props, currentStreams) {\n    const { currentForm } = props;\n\n    if (currentForm) {\n      const { streams } = currentForm;\n\n      const datesId = [];\n      datesId.length = 0;\n\n      $.each(streams, (index, item) => {\n        datesId.push(item.id);\n      });\n\n      const currentStremsId = [];\n\n      currentStreams.forEach((item) => {\n        currentStremsId.push(item.id);\n      });\n\n      const difference = datesId.filter((num) => !currentStremsId.includes(num));\n\n      return difference;\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PaymentFormRequest);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/payment-form/builder/requests/paymentFormRequests.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/payment-form/interfaces/interfaceProductPaymentForm.js":
/*!***********************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/payment-form/interfaces/interfaceProductPaymentForm.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _crm_dealCard_deal_events_afterGetDeal_dealItems_product_tariff_tariff_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../crm/dealCard/deal/events/afterGetDeal/dealItems/product/tariff/tariff.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/dealItems/product/tariff/tariff.js\");\n/* harmony import */ var _builder_events_formTypes_withChoice_events_events_changeStreams_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../builder/events/formTypes/withChoice/events/events/changeStreams.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/builder/events/formTypes/withChoice/events/events/changeStreams.js\");\n\n\n\n\nconst tariff = new _crm_dealCard_deal_events_afterGetDeal_dealItems_product_tariff_tariff_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst changeStreams = new _builder_events_formTypes_withChoice_events_events_changeStreams_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass InterfaceProductPaymentForm {\n  change(props) {\n    const { menu } = props;\n\n    const productSelect = menu.querySelector('[data-select-type=\"select-product\"] [id-selected]');\n\n    if (productSelect) {\n      const changeProduct = this.changeProduct.bind(this, props);\n      productSelect.addEventListener('change', changeProduct);\n    }\n  }\n\n  changeProduct(props, e) {\n    const t = e.target;\n\n    const getCourseData = this.getCourseData(t);\n\n    getCourseData.then((data) => {\n      const [tariffs, streams] = data;\n      props.pack.tariffs = tariffs;\n      props.pack.streams = streams;\n      props.isCurrentForm = true;\n\n      tariff.init(props);\n      changeStreams.init(props);\n    });\n  }\n\n  async getCourseData(t) {\n    const tariffs = await this.getTariffs(t);\n    const streams = await this.getStreams(t);\n\n    return [tariffs, streams];\n  }\n\n  async getTariffs(t) {\n    const data = {\n      id: t.value,\n    };\n\n    return await _api_api_js__WEBPACK_IMPORTED_MODULE_0__.tariffAPI.getTariffs(data);\n  }\n\n  async getStreams(t) {\n    const formDataStreams = new FormData();\n    formDataStreams.set('idCourse', t.value);\n\n    return await _api_api_js__WEBPACK_IMPORTED_MODULE_0__.dealAPI.getStreams(formDataStreams);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (InterfaceProductPaymentForm);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/payment-form/interfaces/interfaceProductPaymentForm.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/payment-form/payment-form.js":
/*!*********************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/payment-form/payment-form.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _builder_builder_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./builder/builder.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/builder/builder.js\");\n/* harmony import */ var _public_public_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./public/public.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/public/public.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\n\nconst builder = new _builder_builder_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst publicForm = new _public_public_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nconst PAYMENT_FORM_BUILDER = 'payment-form-builder';\nconst PAYMENT_FORM_PUBLIC = 'payment-form-public';\n\nclass PaymentForm {\n  init(props) {\n    props.paymentForm$ = new PaymentForm();\n\n    const page = utils.getPage();\n    const prePage = utils.getPage(2);\n\n    this.checkPage(page, props);\n    this.checkPrePage(prePage, props);\n  }\n\n  checkPage(page, props) {\n    switch (page) {\n      case PAYMENT_FORM_BUILDER: {\n        builder.init.bind(builder)(props);\n        break;\n      }\n      case PAYMENT_FORM_PUBLIC: {\n        publicForm.init.bind(publicForm)(props);\n        break;\n      }\n      default: {\n        break;\n      }\n    }\n  }\n\n  checkPrePage(prePage, props) {\n    switch (prePage) {\n      case PAYMENT_FORM_PUBLIC: {\n        publicForm.init.bind(publicForm)(props);\n        break;\n      }\n      default: {\n        break;\n      }\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PaymentForm);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/payment-form/payment-form.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/payment-form/public/public.js":
/*!**********************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/payment-form/public/public.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nclass Public {\n  init(props) {\n    const params = {\n      ...props,\n    };\n\n    const select = document.querySelector('[form-date]');\n\n    const form = document.querySelector('[payment-form]');\n    const button = document.querySelector('.client__info--button.pay');\n\n    this.disableForm(select, button);\n\n    this.setRedirectItems(props, form);\n\n    if (select) {\n      const selectItem = utils.setCloneElement(select);\n      const changeStream = this.changeStream.bind(this, params, button, form);\n\n      selectItem.addEventListener('change', changeStream);\n    }\n\n    if (button) {\n      const submitForm = this.submitForm.bind(this, form);\n      button.addEventListener('click', submitForm);\n    }\n  }\n\n  changeStream(props, button, form, e) {\n    const t = e.target;\n\n    if (t) {\n      this.disableForm(t, button);\n    }\n\n    this.setRedirectItems(props, form);\n  }\n\n  disableForm(t, button) {\n    if (button && t?.value === '') {\n      button.removeAttribute('type');\n      button.setAttribute('type', 'button');\n    } else if (t?.value !== '' && button) {\n      button.removeAttribute('type');\n      button.setAttribute('type', 'submit');\n    }\n  }\n\n  setRedirectItems(props, form) {\n    const [, baseUrl, idStream, idForm] = utils.getUrlData(props);\n\n    const security = utils.checkSertificate(baseUrl);\n\n    if (form) {\n      form.removeAttribute('action');\n\n      form.setAttribute('action', `${security}://${baseUrl}/payment-form-public/toPayByUser/${idForm}/${idStream}`);\n    }\n  }\n\n  submitForm(form, e) {\n    if (!validation.validateBuyProduct(form)) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n    utils.showLoader();\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Public);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/payment-form/public/public.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/items/settings/payment-form/templates/paymentFormTemplates.js":
/*!***************************************************************************************************!*\
  !*** ./dev/static/js/platform/menu/items/settings/payment-form/templates/paymentFormTemplates.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass PaymentFormTemplates {\n  async renderPaymentForms(data) {\n    const { pack } = data;\n    const { paymentForms } = pack;\n\n    const wrapper = document.querySelector('[js-payment-forms]');\n\n    utils.removeChildren(wrapper);\n\n    if (wrapper && paymentForms.length) {\n      paymentForms.forEach(async (form) => {\n        const div = document.createElement('div');\n        div.classList.add('payment-form');\n        div.setAttribute('data-id', form.id);\n        div.innerHTML = this.paymentForm(form);\n\n        await wrapper.appendChild(div);\n      });\n\n      const forms = document.querySelectorAll('.payment-form');\n\n      if (forms.length) {\n        const setLink = this.setLink.bind(this);\n        utils.changeItemsAccess(forms, setLink, false);\n      }\n    }\n  }\n\n  setLink(form) {\n    _api_api_js__WEBPACK_IMPORTED_MODULE_1__.paymentFormAPI.getLink(+form.getAttribute('data-id')).then((link) => {\n      const linkItem = form.querySelector('.payment-form__cut');\n\n      if (linkItem) {\n        linkItem.setAttribute('href', link);\n      }\n\n      const copy = form.querySelector('.payment-form__copy');\n\n      if (copy) {\n        copy.setAttribute('data-link', link);\n      }\n    });\n  }\n\n  paymentForm(form) {\n    return `\n      <div class=\"payment-form__wrapper\">\n        <div class=\"payment-form__delete\"></div>\n        <div class=\"payment-form__name\">${form.name}</div>\n        <div class=\"payment-form__product\">${form.withChoice ? form.course.name : 'Без выбора продукта'}</div>\n        <div class=\"payment-form__bottom\">\n          <span class=\"payment-form__date\">${form.streams && form.streams.length === 1 ? utils.getDateFormatDDMMYYYY(form.streams[0].startDate) : `${form.streams.length} даты`}</span>\n        <div>\n        <span class=\"payment-form__copy\"></span>\n      </div>\n    `;\n  }\n\n  menuWithChoiceProduct() {\n    return `\n      <li class=\"payment-form__item\">\n        <div class=\"payment-form__title\">Название *</div>\n        <input payment-form-name class=\"platform-form__input mt_10\" placeholder=\"Введите название формы\">\n      </li>\n      <li class=\"payment-form__item bt_1\" select-here data-select-type=\"select-deal-type\">\n        <p class=\"platform-form__name\">Тип сделки *</p>\n      </li>\n      <li class=\"payment-form__item\" select-here data-select-type=\"select-funnel\">\n        <p class=\"platform-form__name\">Воронка *</p>\n      </li>\n      <li class=\"payment-form__item bt_1\" select-here data-select-type=\"select-product\">\n        <p class=\"platform-form__name\">Продукт *</p>\n      </li>\n      <li class=\"payment-form__item tariff-content hide\" select-here data-select-type=\"select-tariff\">\n          <p class=\"platform-form__name\">Тариф</p>\n      </li>\n      <li start-date-wrapper class=\"payment-form__item form__dates bt_1\">\n        <div class=\"form__dates-wrapper\">\n            <input streams-choice name=\"startDate\" data-type=\"one-date\" checked type=\"radio\" id=\"one-date\" class=\"platform__checkbox form__checkbox\">\n            <label for=\"one-date\" class=\"platform-checkbox__label form__label\">Одна дата</label>\n            <input streams-choice name=\"startDate\" data-type=\"multiply-date\" type=\"radio\" id=\"date-multiply\" class=\"platform__checkbox form__checkbox\">\n            <label for=\"date-multiply\" class=\"platform-checkbox__label form__label\">Несколько ближайших</label>\n        </div>\n        <div class=\"payment-form__date-wrapper\">\n        </div>\n      </li>\n      <li class=\"payment-form__item form__dates bt_1\" select-here data-select-type=\"select-payment-method\">\n        <p class=\"platform-form__name\">Выберите способ оплаты *</p>\n      </li>\n      <li outside-link-wrapper class=\"payment-form__item form__dates bt_1\">\n        <div class=\"payment-form__title\">Ссылка *</div>\n        <div class=\"form__dates-wrapper\">\n          <input type=\"text\" links-search class=\"platform-form__input mt_10\" placeholder=\"Введите название ссылки\">\n        </div>\n        <div class=\"payment-form__links-wrapper custom-scroll\">\n        </div>\n      </li>\n    `;\n  }\n\n  tariffWrapper() {\n    return `\n        <div class=\"payment-form__title\">Тариф</div>\n        <div class=\"platform-select__wrapper tariff\">\n        <div select-tariff\n            class=\"select select--tariff platform__select update-deal__select-wrapper\">\n            <input type=\"hidden\" class=\"tariffValue\" id=\"tariffValue\" value id-tariff\n                name=\"tariffValue\" required>\n            <div tariff-selected class=\"select__head select__head--tariff\">\n              <span class=\"select-head__placeholder\">Выберите тариф</span>\n            </div>\n            <div id=\"tariff-update\" class=\"select__body select-tariff__body\">\n                <div class=\"select__option select__option--tariff\"><span\n                        class=\"tariff__name no-selector\">Выберите тариф</span></div>\n            </div>\n          </div>\n        </div>\n    `;\n  }\n\n  startDateCheckbox(item) {\n    return `\n      <input one-date-select name=\"start-date\" checked id=\"date_${item.id}\" data-id=\"${item.id}\" value=\"${item.id}\" type=\"radio\" class=\"platform__checkbox\">\n      <label for=\"date_${item.id}\" class=\"platform-checkbox__label\">\n        <span class=\"platform__checkbox--fake radio-fake\"></span>\n        <span class=\"platform__checkbox--text date__text\">\n          ${item.startDate}\n        </span>\n      </label>\n    `;\n  }\n\n  startDateWihChoice() {\n    return `\n      <p class=\"platform-form__name\">Сколько ближайших дат отображать *</p>\n      <div class=\"platform-select__wrapper\">\n        <div select class=\"select platform__select update-deal__select-wrapper\">\n          <input type=\"hidden\" value id-selected required>\n          <div select-head class=\"select__head\">\n            <span class=\"select-head__placeholder\">Выберите количество дат</span></div>\n          <div select-body class=\"select__body\">\n            <div value class=\"select__option no-icon pl_10\">\n              Выберите количество дат\n            </div>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  menuWithoutChoice() {\n    return `\n      <li class=\"payment-form__item\">\n        <p class=\"payment-form__title\">Название *</p>\n        <input payment-form-name class=\"platform-form__input mt_10\" placeholder=\"Введите название формы\">\n      </li>\n      <li class=\"payment-form__item bt_1\">\n        <div class=\"payment-form__title\">Тип сделки *</div>\n        <div class=\"platform-select__wrapper form__angle\">\n          <select deal-type class=\"platform__select platform-form__input mt_10\">\n            <option class=\"platform__option\" value=\"\">Выберите тип сделки</option>\n            <option class=\"platform__option\" value=\"additional\">База</option>\n            <option class=\"platform__option\" value=\"traffic\">Трафик</option>\n          </select>\n        </div>\n      </li>\n      <li class=\"payment-form__item\">\n        <div class=\"payment-form__title\">Воронка *</div>\n        <div class=\"platform-select__wrapper form__angle\">\n          <select funnel class=\"platform__select platform-form__input mt_10\">\n            <option class=\"platform__option\" value=\"\">Выберите воронку</option>\n          </select>\n        </div>\n      </li>\n      <li outside-link-wrapper class=\"payment-form__item form__dates bt_1\">\n        <div class=\"payment-form__title\">Ссылка *</div>\n        <div class=\"form__dates-wrapper\">\n          <input type=\"text\" links-search class=\"platform-form__input mt_10\" placeholder=\"Введите название ссылки\">\n        </div>\n        <div class=\"payment-form__links-wrapper\">\n        </div>\n      </li>\n    `;\n  }\n\n  loginFormTemplate(props) {\n    const { pack } = props;\n    const { form } = pack;\n\n    const streamsOptions = this.setStreamsOptionsToPublicForm(props);\n\n    return `\n    ${form?.streams?.length > 1 ? `\n      <div class=\"form__item\">\n        <p class=\"form-item__name\">Выберите дату старта *</p>\n        <div class=\"platform-select__wrapper mt_5\">\n          <select form-date class=\"platform__select form__select\">\n            ${streamsOptions ? streamsOptions.join('') : ''}\n          </select>\n        </div>\n      </div>\n  ` : ''}\n    `;\n  }\n\n  paymentFormTemplate() {\n    return `\n      <div class=\"form__item\">\n        <p class=\"form-item__name\">Имя и фамилия *</p>\n        <input form-name placeholder=\"Введите имя и фамилию\" type=\"text\" class=\"form-item__input\">\n      </div>\n      <div class=\"form__item\">\n        <p class=\"form-item__name\">Номер телефона *</p>\n        <input form-tel placeholder=\"Введите номер телефона\" type=\"text\" class=\"form-item__input\">\n      </div>\n      <div class=\"form__item\">\n        <p class=\"form-item__name\">E-mail *</p>\n        <input form-email placeholder=\"Введите e-mail\" type=\"text\" class=\"form-item__input\">\n      </div>\n    `;\n  }\n\n  setStreamsOptionsToPublicForm(props) {\n    const { pack } = props;\n    const { form } = pack;\n\n    if (form?.streams?.length) {\n      return form.streams.map((item) => {\n        return `\n          <option value=\"${item.id}\">${utils.getDateFormatDDMMYYYY(item.startDate)}</option>\n        `;\n      });\n    }\n  }\n\n  async setRegistrationTemplate(props, isRegistration) {\n    const { pack } = props;\n    const { form } = pack;\n\n    if (form) {\n      const script = document.querySelector('script');\n\n      const div = document.createElement('div');\n      div.classList.add('form');\n      div.classList.add('public__form');\n      div.setAttribute('data-id', form.id);\n\n      if (form.streams.length === 1 && !isRegistration) {\n        div.classList.add('no-selector');\n      }\n\n      div.innerHTML = this.publicRegistrationForm(props, isRegistration);\n\n      await script.parentNode.insertBefore(div, script);\n    }\n  }\n\n  publicRegistrationForm(props, isRegistration) {\n    const { pack } = props;\n    const { form, docs } = pack;\n\n    const streamsOptions = this.setStreamsOptionsToPublicForm(props);\n\n    const regProps = {\n      form,\n      isRegistration,\n      streamsOptions,\n      docs,\n    };\n\n    return this.registrationForm(regProps);\n  }\n\n  registrationForm(regProps) {\n    const {\n      form,\n      isRegistration,\n      streamsOptions,\n      docs,\n    } = regProps;\n\n    return `\n    <h1 class=\"form__title\">${isRegistration ? 'Регистрация' : 'Покупка курса'}</h1>\n      ${form.withChoice ? `\n        <div class=\"form__course ${isRegistration ? 'hide' : ''}\">\n          <img src=\"${(form.course.backgroundImage !== null) ? `/${form.course.backgroundImage}` : '/'}\" alt=\"course_image\" class=\"course__img\">\n          <div class=\"course__info\">\n            <p class=\"course__name\" title=\"${form.course.name}\">${form.course.name}</p>\n            <p class=\"course__type\">${form.course.courseType}</p>\n            <div class=\"course__prop ${form.tarrif ? '' : 'without-tariff'}\">\n              ${form.tariff ? `\n                <div class=\"prop__tariff ${form?.streams?.length !== 1 ? 'overflowed' : 'one-date'}\">\n                  <p class=\"tariff__name no-selector\">\n                    <span>Тариф:</span> \n                    <span class=\"tariff__name--value\" title=\"${form.tariff.name}\">${form.tariff.name}</span>\n                  </p>\n                  <p class=\"tariff__cost\">${form.tariff.price} ₽</p>\n                </div>\n              ` : ''}\n              ${form?.streams?.length === 1 ? `\n              <div class=\"tariff__date-start\">\n                <p class=\"date-start__name\">Дата старта: </p>\n                <p class=\"date-start\">\n                  <span class=\"date-start__value\">${utils.getDateFormatDDMMYYYY(form.streams[0].startDate)}</span>\n                  <span class=\"date-start__value\">${form.streams[0].startTime}</span>\n                </p>\n              </div>\n              ` : ''} \n            </div>\n          </div>\n        </div>\n      ` : ''}\n    </div>\n    <form action=\"${isRegistration ? '/public-registration/new-client' : ''}\" payment-form method=\"post\" class=\"client__info mt_15 ${!form.withChoice ? 'no-product' : ''}\">\n    ${isRegistration ? `\n          <p class=\"info__warning\">Пожалуйста, вводите данные внимательно и корректно!</p>\n          <div class=\"form__item have-login\">\n            <input type=\"checkbox\" id=\"client-type\" class=\"platform__checkbox\"/>\n            <label for=\"client-type\" class=\"platform-checkbox__label\">\n              <span class=\"platform__checkbox--fake\"></span>\n              <span class=\"form-item__name type-client ml_10\">У меня уже есть логин/пароль</span>\n            </label>\n          </div>\n          <div class=\"form__content ${!form.withChoice ? 'no-product' : ''}\"></div>\n          <div class=\"client__nav\">\n            <input type=\"hidden\" id-company >\n            <a href=\"\" class=\"client__info--button registration\">Зарегистрироваться</a>\n            <a href=\"\" class=\"client__info--button pay hide\">Авторизироваться</a>\n          </div>\n          <div class=\"client__nav private\">\n            <input id=\"private\" type=\"checkbox\" checked class=\"platform__checkbox\">\n            <label for=\"private\" class=\"platform-checkbox__label private__label\">\n              <span class=\"platform__checkbox--fake private__checkbox\"></span>\n              <span private-contact class=\"form-item__name type-client ml_10 lh_16\">\n                Вы соглашаетесь с <a class=\"private__link\" target=\"_blank\" rel=\"noreferrer noopener\" href=\"${docs.length ? docs[0].link : '#'}\">Договором оферты</a> и <a target=\"_blank\" class=\"private__link\" rel=\"noreferrer noopener\" href=\"${docs.length && docs[1] ? docs[1].link : ''}\">Политикой конфиденциальности</a> \n              </span> \n            </label>\n          </div>\n        ` : `\n        ${form.streams.length > 1 ? `\n        <div class=\"client__streams\">\n          <div class=\"form__item\">\n            <p class=\"form-item__name\">Выберите дату старта *</p>\n            <div class=\"platform-select__wrapper mt_5\">\n              <select form-date class=\"platform__select form__select\">\n                <option value=\"\">Выберите дату старта</option>\n                ${streamsOptions ? streamsOptions.join('') : ''}\n              </select>\n            </div>\n        </div>\n    ` : ''}\n        <div class=\"client__nav ${form.streams.length === 1 ? 'no-selector' : ''}\">\n          <button type=\"submit\" class=\"client__info--button pay\">Перейти к оплате</button>\n        </div>\n      `}\n      </form>`;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PaymentFormTemplates);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/items/settings/payment-form/templates/paymentFormTemplates.js?");

/***/ }),

/***/ "./dev/static/js/platform/menu/menu.js":
/*!*********************************************!*\
  !*** ./dev/static/js/platform/menu/menu.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nconst WORKERS_SALARY = 'workers-salary';\nconst MOTIVATION_BUILDER = 'motivation-builder';\nconst WORK_TRACKER = 'work-tracker';\nconst SETTINGS_FUNNELS = 'funnels';\n\nclass Menu {\n  init() {\n    this.settings();\n  }\n\n  settings() {\n    const menu = document.querySelector('.platform-menu');\n\n    if (menu) {\n      this.isOpen = false;\n      menu.style.pointerEvents = 'all';\n\n      this.checkItemActive();\n      this.checkPhotoSize();\n\n      const banned = ['platform-menu__link', 'platform-menu__selector', 'platform-menu__item', 'platform-logout__selector', 'platform-logout__item'];\n\n      const menuOpen = this.transitionStart.bind(this, banned, menu);\n      menu.addEventListener('transitionstart', menuOpen);\n      const menuClosed = this.transitionEnd.bind(this, banned, menu);\n      menu.addEventListener('transitionend', menuClosed);\n\n      this.setOverflowHidden(menu);\n    }\n  }\n\n  setOverflowHidden(menu) {\n    const links = menu.querySelectorAll('a');\n\n    if (links.length) {\n      const overflowed = this.overflowed.bind(this, menu);\n\n      links.forEach((item) => {\n        const link = utils.setCloneElement(item);\n        link.addEventListener('click', overflowed);\n      });\n    }\n  }\n\n  overflowed(menu) {\n    menu.style.overflow = 'hidden';\n  }\n\n  transitionStart(banned, menu, e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const t = e.target;\n\n    if (banned.includes(t.classList[0])) {\n      return false;\n    }\n\n    const menuWidth = menu.offsetWidth;\n\n    if (menuWidth === 70) {\n      this.isOpen = false;\n      menu.style.overflow = 'hidden';\n    }\n\n    if (menuWidth <= 300) {\n      menu.style.overflow = 'hidden';\n    }\n  }\n\n  transitionEnd(banned, menu, e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const t = e.target;\n\n    if (banned.includes(t.classList[0])) {\n      return false;\n    }\n\n    const menuWidth = menu.offsetWidth;\n\n    if (menuWidth === 300) {\n      this.isOpen = true;\n      menu.style.overflow = 'visible';\n    }\n\n    if (menuWidth === 70) {\n      this.isOpen = false;\n      menu.style.overflow = 'hidden';\n    }\n  }\n\n  checkItemActive() {\n    const url = window.location.href;\n    const urlArr = url.split('/');\n    const page = urlArr[urlArr.length - 2];\n\n    let menuItem;\n    let linkItem;\n\n    switch (page) {\n      case WORKERS_SALARY:\n        menuItem = '.platform-menu__item.finance';\n        linkItem = `.platform-submenu__link[href=\"/${WORKERS_SALARY}/\"]`;\n        this.setItemActive(menuItem, linkItem);\n        break;\n      case MOTIVATION_BUILDER:\n        menuItem = '.platform-menu__item.team';\n        linkItem = `.platform-submenu__link[href=\"/${MOTIVATION_BUILDER}/\"]`;\n        this.setItemActive(menuItem, linkItem);\n        break;\n      case WORK_TRACKER:\n        menuItem = '.platform-menu__item.team';\n        linkItem = `.platform-submenu__link[href=\"/${WORK_TRACKER}/\"]`;\n        this.setItemActive(menuItem, linkItem);\n        break;\n      case SETTINGS_FUNNELS:\n        menuItem = '.platform-menu__item.settings';\n        linkItem = `.platform-submenu__link[href=\"/settings/${SETTINGS_FUNNELS}/\"]`;\n        this.setItemActive(menuItem, linkItem);\n        break;\n      default:\n        break;\n    }\n  }\n\n  checkPhotoSize() {\n    const photoMenu = document.querySelector('.platform-logout__image img');\n\n    if (photoMenu) {\n      const resolution = photoMenu.offsetWidth / photoMenu.offsetHeight;\n      this.setResolution(photoMenu, resolution);\n    }\n  }\n\n  setResolution(photo, resolution) {\n    if (photo && resolution < 1) {\n      photo.style.width = '100%';\n      photo.style.height = 'auto';\n    } else if (photo && resolution >= 1) {\n      photo.style.width = '100%';\n      photo.style.height = '100%';\n    }\n  }\n\n  setItemActive(itemClass = null, subMenuClass = null) {\n    if (!itemClass && !subMenuClass) return false;\n\n    const menuItem = document.querySelector(itemClass);\n    menuItem.classList.add('active');\n\n    const subMenuItem = document.querySelector(subMenuClass);\n\n\t\tif (subMenuItem) {\n\t\t\tconst subMenuItemActive = utils.getParent(subMenuItem, 'platform-submenu__item');\n\t\t\tsubMenuItemActive.classList.add('active');\n\t\t}\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Menu);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/menu/menu.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/bill-payment/bill-payment.js":
/*!*********************************************************************!*\
  !*** ./dev/static/js/platform/modules/bill-payment/bill-payment.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _template_bilPaymentTemplate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./template/bilPaymentTemplate.js */ \"./dev/static/js/platform/modules/bill-payment/template/bilPaymentTemplate.js\");\n/* harmony import */ var _utils_validation_billPayment_validateBillPayment_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/validation/billPayment/validateBillPayment.js */ \"./dev/static/js/platform/utils/validation/billPayment/validateBillPayment.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst billPaymentTemplate = new _template_bilPaymentTemplate_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst validateBillPayment = new _utils_validation_billPayment_validateBillPayment_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass BillPayment {\n  init(props) {\n    const initBillPayment = this.initBillPayment.bind(this);\n\n    if (document.readyState !== 'loading') {\n      initBillPayment(props);\n    }\n  }\n\n  initBillPayment(props) {\n    const btn = document.querySelector('.payment__btn');\n\n    if (window.innerWidth <= 720) {\n      const mirImg = document.querySelectorAll('.payment-methoods__item')[2].querySelector('img');\n      const masterCardImg = document.querySelectorAll('.payment-methoods__item')[0].querySelector('img');\n\n      if (mirImg && masterCardImg) {\n        if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)) {\n          mirImg.classList.add('scaled');\n          masterCardImg.classList.add('scaled');\n        }\n      }\n    }\n\n    if (btn) {\n      const paymentBtn = utils.setCloneElement(btn);\n\n      const changeForm = this.changeForm.bind(this, props);\n      paymentBtn.addEventListener('click', changeForm);\n\n      const toValidationError = validation.toValidationError.bind(validation);\n      paymentBtn.addEventListener('dblclick', toValidationError);\n    }\n\n    const label = document.querySelector('.payment__aggreements');\n\n    if (label) {\n      const openAgreements = this.openAgreements.bind(this);\n      label.addEventListener('click', openAgreements);\n    }\n\n    utils.hideLoader();\n  }\n\n  changeForm(props, e) {\n    const title = document.querySelector('.payment__product');\n\n    const dataWrapper = document.querySelector('.payment__contact-date');\n\n    if (title && !dataWrapper) {\n      const { pack } = props;\n      const { client } = pack;\n\n      const clientData = billPaymentTemplate.checkClientData(client);\n\n      e.preventDefault();\n      e.stopPropagation();\n\n      title.insertAdjacentHTML('afterend', clientData);\n    } else if (dataWrapper && !validateBillPayment.init()) {\n      e.preventDefault();\n      e.stopPropagation();\n    } else if (validateBillPayment.init()) {\n      utils.showLoader();\n    }\n  }\n\n  openAgreements(e) {\n    const t = e.target;\n\n    if (t.tagName === 'A') {\n      e.preventDefault();\n      e.stopPropagation();\n\n      const url = t.getAttribute('href');\n      window.open(url, '_blank');\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BillPayment);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/bill-payment/bill-payment.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/bill-payment/template/bilPaymentTemplate.js":
/*!************************************************************************************!*\
  !*** ./dev/static/js/platform/modules/bill-payment/template/bilPaymentTemplate.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass BillPaymentTemplate {\n  checkClientData(client) {\n    return `\n      <ul class=\"payment__contact-date\">\n        <li class=\"contact-date__item\">\n          <p class=\"payment__name\">Имя</p>\n          <input required class=\"payment__input\" type=\"text\" value=\"${client.name}\" placeholder=\"Введите имя\" name=\"name\">\n        </li>\n        <li class=\"contact-date__item\">\n          <p class=\"payment__name\">Телефон</p>\n          <input required class=\"payment__input\" type=\"text\" value=\"${client.phone}\" placeholder=\"Введите телефон\" name=\"phone\">\n        </li>\n        <li class=\"contact-date__item\">\n          <p class=\"payment__name\">E-mail</p>\n          <input required class=\"payment__input\" type=\"text\" value=\"${client.email}\" placeholder=\"Введите e-mail\" name=\"email\">\n        </li>\n      </ul>\n    `;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BillPaymentTemplate);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/bill-payment/template/bilPaymentTemplate.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/datepicker/datepicker.js":
/*!*****************************************************************!*\
  !*** ./dev/static/js/platform/modules/datepicker/datepicker.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst DATEPICKER_HERE = 'datepicker-here';\nconst DATEPICKER_HERE_DEAL = 'datepicker-here-deal';\nconst DATEPICKER_HERE_MONTHS = 'datepicker-here-months';\nconst DATEPICKER_HERE_F = 'datepicker-here-f';\nconst DATEPICKER_HERE_START = 'datepicker-here-start';\n\nclass Datepicker {\n  init() {\n    const datepickers = this.getDatepickers();\n\n    const types = this.#getTypes();\n\n    datepickers.forEach((item) => {\n      const currentType = types.find((el) => item.type === el.type);\n\n      if (currentType) {\n        const values = [];\n\n        if (item.value.length) {\n          item.value.forEach((elem) => {\n            values.push(elem.value);\n            currentType.callback(elem);\n          });\n        }\n      }\n    });\n  }\n\n  #getTypes() {\n    const datepickerStandart = this.datepickerStandart.bind(this);\n    const datepickerDeal = this.datepickerDeal.bind(this);\n    const datepickerMonth = this.datepickerMonth.bind(this);\n    const datepickerF = this.datepickerFilter.bind(this);\n    const datepickerStart = this.datepickerStart.bind(this);\n\n    return [\n      {\n        type: DATEPICKER_HERE,\n        callback: datepickerStandart,\n      },\n      {\n        type: DATEPICKER_HERE_DEAL,\n        callback: datepickerDeal,\n      },\n      {\n        type: DATEPICKER_HERE_MONTHS,\n        callback: datepickerMonth,\n      },\n      {\n        type: DATEPICKER_HERE_F,\n        callback: datepickerF,\n      },\n      {\n        type: DATEPICKER_HERE_START,\n        callback: datepickerStart,\n      },\n    ];\n  }\n\n  datepickerStandart(item) {\n    $(item).datepicker({\n      autoClose: true,\n      position: 'bottom left',\n      maxDate: new Date(),\n    });\n  }\n\n  datepickerDeal(item) {\n    $(item).datepicker({\n      autoClose: true,\n      position: 'bottom left',\n      maxDate: new Date(),\n    });\n  }\n\n  datepickerMonth(item) {\n    $(item).datepicker({\n      view: 'months',\n    });\n  }\n\n  datepickerFilter(item) {\n    $(item).datepicker({\n      autoClose: true,\n      position: 'bottom left',\n    });\n  }\n\n  datepickerStart(item) {\n    $(item).datepicker({\n      autoClose: true,\n      position: 'bottom left',\n      minDate: new Date(),\n    });\n  }\n\n  getDatepickers() {\n    const datepickers = {\n      type: DATEPICKER_HERE,\n      value: Array.from(document.querySelectorAll('.datepicker-here')),\n    };\n\n    const datepickerDeal = {\n      type: DATEPICKER_HERE_DEAL,\n      value: Array.from(document.querySelectorAll('.datepicker-here-deal')),\n    };\n\n    const datepickerMonths = {\n      type: DATEPICKER_HERE_MONTHS,\n      value: Array.from(document.querySelectorAll('.datepicker-here-months')),\n    };\n\n    const datepickerFilter = {\n      type: DATEPICKER_HERE_F,\n      value: Array.from(document.querySelectorAll('.datepicker-here-f')),\n    };\n\n    const datepickerStart = {\n      type: DATEPICKER_HERE_START,\n      value: Array.from(document.querySelectorAll('.datepicker-here-start')),\n    };\n\n    return [datepickers, datepickerDeal, datepickerMonths, datepickerFilter, datepickerStart];\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Datepicker);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/datepicker/datepicker.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/downloads/downloads.js":
/*!***************************************************************!*\
  !*** ./dev/static/js/platform/modules/downloads/downloads.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass Downloads {\n  init() {\n    const downloadTableBtn = document.querySelector('[download-table]');\n\n    if (downloadTableBtn) {\n      const dealTables = this.dealTables.bind(this);\n\n      const downloadTable = utils.setCloneElement(downloadTableBtn);\n\n      downloadTable.addEventListener('click', dealTables);\n    }\n\n    const downloadDealsBtn = document.querySelector('[download-deals]');\n\n    if (downloadDealsBtn) {\n      const downloadDeals = this.downloadDeals.bind(this);\n\n      const downloadDealButton = utils.setCloneElement(downloadDealsBtn);\n\n      downloadDealButton.addEventListener('click', downloadDeals);\n    }\n  }\n\n  dealTables() {\n    utils.showLoader();\n\n    const downloadTable = _api_api_js__WEBPACK_IMPORTED_MODULE_0__.fileAPI.downloadTable();\n\n    downloadTable.then(() => {\n      utils.hideLoader();\n    });\n  }\n\n  downloadDeals() {\n    utils.showLoader();\n\n    const downloadDeals = _api_api_js__WEBPACK_IMPORTED_MODULE_0__.fileAPI.downloadDeals();\n\n    downloadDeals.then(() => {\n      utils.hideLoader();\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Downloads);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/downloads/downloads.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/filter/analytics/analyticsFilter.js":
/*!****************************************************************************!*\
  !*** ./dev/static/js/platform/modules/filter/analytics/analyticsFilter.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _events_chooseAudience_chooseAudience_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/chooseAudience/chooseAudience.js */ \"./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/chooseAudience.js\");\n/* harmony import */ var _datepicker_datepicker_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../datepicker/datepicker.js */ \"./dev/static/js/platform/modules/datepicker/datepicker.js\");\n/* harmony import */ var _select_select_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../select/select.js */ \"./dev/static/js/platform/modules/select/select.js\");\n/* harmony import */ var _menu_items_crm_dealCard_deal_events_afterGetDeal_interfaces_interfaceDealType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../menu/items/crm/dealCard/deal/events/afterGetDeal/interfaces/interfaceDealType.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/deal/events/afterGetDeal/interfaces/interfaceDealType.js\");\n\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst chooseAudience = new _events_chooseAudience_chooseAudience_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst datepicker = new _datepicker_datepicker_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst select = new _select_select_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst interfaceDealType = new _menu_items_crm_dealCard_deal_events_afterGetDeal_interfaces_interfaceDealType_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n\nclass AnalyticsFilter {\n  init(props) {\n    const pages = ['funnel', 'traffic', 'additional'];\n    const currentPage = utils.getPage();\n    const period = document.querySelector('[js-period]');\n\n    if (period) {\n      period.value = props.pack.filter.idSort;\n    }\n\n    if (pages.includes(currentPage)) {\n      datepicker.init();\n\n      const setSelectsProps = this.setSelectsToFilter(props);\n\n      setSelectsProps.then(() => {\n        const initSelect = select.init(props);\n\n        initSelect.then(() => {\n          props.isAnalyticFilter = true;\n          interfaceDealType.change(props);\n\n          this.selectPeriod(props);\n\n          const changeFilterDate = this.changeFilterDate.bind(this, props);\n\n          this.startDate(props, changeFilterDate);\n          this.endDate(props, changeFilterDate);\n\n          const items = [chooseAudience];\n\n          items.forEach((item) => {\n            const init = item.init.bind(item);\n            init(props);\n          });\n        });\n      });\n    }\n  }\n\n  selectPeriod(props) {\n    const selectPeriod = document.querySelector('[js-period]');\n\n    if (selectPeriod) {\n      selectPeriod.value = props.pack.filter.idSort;\n      const setFilter = this.setFilter.bind(this);\n\n      selectPeriod.addEventListener('change', setFilter);\n    }\n  }\n\n  startDate(props, changeFilterDate) {\n    const startDate = document.querySelector('[js-start-date-wrapper]');\n\n    if (startDate) {\n      startDate.value = utils.getDateFormatDDMMYYYY(props.pack.filter.startDate);\n\n      startDate.addEventListener('click', changeFilterDate);\n    }\n  }\n\n  endDate(props, changeFilterDate) {\n    const endDate = document.querySelector('[js-end-date-wrapper]');\n\n    if (endDate) {\n      endDate.value = utils.getDateFormatDDMMYYYY(props.pack.filter.endDate);\n\n      endDate.addEventListener('click', changeFilterDate);\n    }\n  }\n\n  changeFilterDate(props) {\n    const datepickers = Array.from(document.querySelectorAll('.datepicker'));\n\n    const currentDatepicker = datepickers.find((el) => utils.getCssProperty(el, 'left') !== `-${(1e5)}px`);\n\n    const dispatchDatepicker = this.dispatchDatepicker.bind(this, props);\n\n    currentDatepicker?.addEventListener('click', dispatchDatepicker);\n  }\n\n  dispatchDatepicker(props, e) {\n    const t = e.target;\n\n    const startDate = document.querySelector('[js-start-date]');\n    const startDateWrapper = document.querySelector('[js-start-date-wrapper]');\n\n    const endDate = document.querySelector('[js-end-date]');\n    const endDateWrapper = document.querySelector('[js-end-date-wrapper]');\n\n    if (t.classList.contains('datepicker--cell-day')) {\n      startDate.value = utils.getDateFormatDDMMYYYY(startDateWrapper.value, '-');\n      endDate.value = utils.getDateFormatDDMMYYYY(endDateWrapper.value, '-');\n\n      utils.showLoader();\n\n      setTimeout(() => {\n        const form = document.querySelector('.analytic__filter-form');\n        form.submit();\n      }, 100);\n    }\n\n    const items = [chooseAudience];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(props);\n    });\n  }\n\n  setFilter(e) {\n    const t = e.target;\n\n    const form = utils.getParent(t, 'analytic__filter-form');\n\n    if (t.value) {\n      utils.showLoader();\n      form.submit();\n    }\n  }\n\n  async setSelectsToFilter(props) {\n    const selects = document.querySelectorAll('[select-here]');\n\n    props.selectsArray = [];\n\n    if (selects.length) {\n      const setSelects = this.setSelects.bind(this, props);\n      await selects.forEach(setSelects);\n    }\n  }\n\n  async setSelects(props, selectItem) {\n    const type = selectItem.getAttribute('data-select-type');\n\n    const generalSelectProps = {\n      props,\n      selectItem,\n      type,\n    };\n\n    this.setSelectProps(generalSelectProps);\n\n    await this.dispatchSelectType(props, type);\n  }\n\n  setSelectProps(generalSelectProps) {\n    const {\n      props,\n      selectItem,\n      type,\n    } = generalSelectProps;\n\n    const selectProps = {\n      required: false,\n      placeholder: null,\n      mode: 'custom',\n      item: selectItem,\n      type,\n      openUp: true,\n    };\n\n    switch (type) {\n      case 'select-managers': {\n        selectProps.defaultValue = props.pack.filter.idManager;\n        break;\n      }\n      case 'select-products': {\n        selectProps.defaultValue = props.pack.filter.idManager;\n        break;\n      }\n      case 'select-projects': {\n        selectProps.defaultValue = props.pack.filter.project;\n        break;\n      }\n      case 'select-deal-type': {\n        selectProps.defaultValue = props.pack.filter.dealType;\n        break;\n      }\n      case 'select-funnel': {\n        selectProps.defaultValue = props.pack.filter.idFunnel;\n        break;\n      }\n      case 'select-employees': {\n        selectProps.defaultValue = props.pack.filter.isNotDismiss;\n        break;\n      }\n      default: {\n        break;\n      }\n    }\n\n    props.selectsArray.push(selectProps);\n  }\n\n  async dispatchSelectType(props, type) {\n    const currentSelect = props.selectsArray.findIndex((el) => el.type === type);\n    const { selectsArray } = props;\n\n    switch (type) {\n      case 'select-managers': {\n        const { managers } = props.pack;\n        const current = props.pack.filter.idManager;\n        const managersArray = Object.entries(managers);\n        const currentManager = managersArray.find((el) => +el[0] === current);\n        const defPlaceholder = currentManager ? currentManager[1].name : null;\n\n        selectsArray[currentSelect].placeholder = 'Все менеджеры';\n        selectsArray[currentSelect].name = 'idManager';\n        selectsArray[currentSelect].defaultValue = current || '0';\n        selectsArray[currentSelect].defaultPlaceholder = defPlaceholder;\n        break;\n      }\n      case 'select-projects': {\n        const current = props.pack.filter.project;\n        const { projects } = props.pack.analyticsFilterData;\n        const currentProject = projects.find((el) => el.id === current);\n\n        selectsArray[currentSelect].placeholder = 'Все проекты';\n        selectsArray[currentSelect].name = 'project';\n        selectsArray[currentSelect].defaultValue = current || '0';\n        selectsArray[currentSelect].defaultPlaceholder = currentProject?.name || null;\n        break;\n      }\n      case 'select-products': {\n        const { courses } = props.pack.analyticsFilterData;\n        const current = props.pack.filter.course;\n        const currentCourse = courses.find((el) => el === current);\n\n        selectsArray[currentSelect].placeholder = 'Все продукты';\n        selectsArray[currentSelect].name = 'course';\n        selectsArray[currentSelect].defaultValue = current || 'all';\n        selectsArray[currentSelect].defaultPlaceholder = currentCourse || null;\n        break;\n      }\n      case 'select-deal-type': {\n        const { saleType } = props.pack;\n        const current = props.pack.filter.dealType;\n        const currentDealType = saleType.find((el) => el.value === current);\n\n        selectsArray[currentSelect].placeholder = 'Все сделки';\n        selectsArray[currentSelect].name = 'dealType';\n        selectsArray[currentSelect].defaultValue = currentDealType ? currentDealType.value : 'all';\n        selectsArray[currentSelect].defaultPlaceholder = currentDealType?.name || null;\n        break;\n      }\n      case 'select-employees': {\n        const { employees } = props.pack.analyticsFilterData;\n        const current = props.pack.filter.isNotDismiss;\n        const employee = employees.find((el) => el === current);\n        const currentEmployee = employee ? 'Работающие' : 'Уволенные';\n\n        selectsArray[currentSelect].placeholder = 'Все сотрудники';\n        selectsArray[currentSelect].name = 'isNotDismiss';\n        selectsArray[currentSelect].defaultValue = current || '0';\n        selectsArray[currentSelect].defaultPlaceholder = employee !== null ? currentEmployee : null;\n        break;\n      }\n      case 'select-funnel': {\n        const currentIdFunnel = props.pack.filter.idFunnel;\n        const currentDealType = props.pack.filter.dealType;\n        const { funnels } = props.pack;\n        const funnelData = Object.entries(funnels);\n        const currentDeal = funnelData.find((el) => el[0] === currentDealType);\n\n        selectsArray[currentSelect].placeholder = 'Все воронки';\n        selectsArray[currentSelect].name = 'idFunnel';\n        selectsArray[currentSelect].defaultValue = currentIdFunnel !== 0 ? currentIdFunnel : '0';\n\n        if (currentDeal) {\n          const currentFunnel = currentDeal[1].find((el) => el.idFunnel === currentIdFunnel);\n          selectsArray[currentSelect].defaultPlaceholder = currentFunnel?.funnelName || null;\n        } else {\n          selectsArray[currentSelect].defaultPlaceholder = null;\n        }\n        break;\n      }\n      default: {\n        break;\n      }\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AnalyticsFilter);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/filter/analytics/analyticsFilter.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/audienceWrapper.js":
/*!**************************************************************************************************!*\
  !*** ./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/audienceWrapper.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass AudienceWrapper {\n  resetPlatform() {\n    const platform = document.querySelector('#platform');\n\n    if (platform) {\n      const platformSelected = utils.getSelected(platform);\n      platformSelected.removeAttribute('selected');\n\n      const first = Array.from(platform.children)[0];\n      first.setAttribute('selected', true);\n    }\n  }\n\n  resetChannel() {\n    const channel = document.querySelector('#channel');\n\n    if (channel) {\n      utils.removeChildren(channel);\n      const option = this.setOption('all', 'Все источники', true);\n      channel.appendChild(option);\n    }\n  }\n\n  resetCommunity() {\n    const community = document.querySelector('#community');\n\n    if (community) {\n      community.value = 'Все аудитории';\n    }\n\n    const communites = document.querySelector('[js-communites]');\n\n    if (communites) {\n      communites.value = 'Все аудитории';\n    }\n  }\n\n  setOption(value, text, selected = null) {\n    const option = document.createElement('option');\n    option.setAttribute('value', value);\n    option.innerText = text;\n\n    if (selected) {\n      option.setAttribute('selected', '');\n    }\n\n    return option;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AudienceWrapper);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/audienceWrapper.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/chooseAudience.js":
/*!*************************************************************************************************!*\
  !*** ./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/chooseAudience.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_chooseAdvertiser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/chooseAdvertiser.js */ \"./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/events/chooseAdvertiser.js\");\n/* harmony import */ var _events_chooseChannel_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/chooseChannel.js */ \"./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/events/chooseChannel.js\");\n/* harmony import */ var _events_choosePlatform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events/choosePlatform.js */ \"./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/events/choosePlatform.js\");\n/* harmony import */ var _events_openCommunity_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./events/openCommunity.js */ \"./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/events/openCommunity.js\");\n/* harmony import */ var _events_closeCommunity_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./events/closeCommunity.js */ \"./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/events/closeCommunity.js\");\n\n\n\n\n\n\nconst chooseAdvertiser = new _events_chooseAdvertiser_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst chooseChannel = new _events_chooseChannel_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst choosePlatform = new _events_choosePlatform_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst openCommunity = new _events_openCommunity_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst closeCommunity = new _events_closeCommunity_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n\nclass ChooseAudience {\n  init(props) {\n    const items = [chooseAdvertiser, chooseChannel, choosePlatform, openCommunity, closeCommunity];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(props);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChooseAudience);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/chooseAudience.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/events/chooseAdvertiser.js":
/*!**********************************************************************************************************!*\
  !*** ./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/events/chooseAdvertiser.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _audienceWrapper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../audienceWrapper.js */ \"./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/audienceWrapper.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass ChooseAdvertiser extends _audienceWrapper_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  init() {\n    const advSelect = document.querySelector('[js-advertiser]');\n\n    if (advSelect) {\n      const advertiser = utils.setCloneElement(advSelect);\n\n      const resetAdvertiser = this.resetAdvertiser.bind(this);\n\n      advertiser.addEventListener('change', resetAdvertiser);\n    }\n  }\n\n  resetAdvertiser() {\n    this.resetPlatform();\n    this.resetChannel();\n    this.resetCommunity();\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChooseAdvertiser);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/events/chooseAdvertiser.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/events/chooseChannel.js":
/*!*******************************************************************************************************!*\
  !*** ./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/events/chooseChannel.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _audienceWrapper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../audienceWrapper.js */ \"./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/audienceWrapper.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass ChooseChannel extends _audienceWrapper_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  init() {\n    const channel = document.querySelector('[js-channel]');\n\n    if (channel) {\n      const changeChannel = this.changeChannel.bind(this);\n\n      const channelSelect = utils.setCloneElement(channel);\n\n      channelSelect.addEventListener('change', changeChannel);\n    }\n  }\n\n  changeChannel() {\n    const channel = document.querySelector('#channel');\n    const community = document.querySelector('#community');\n\n    if (channel.value !== 'all' && channel.value !== 'unknown' && community) {\n      community.value = 'Выберите аудиторию';\n    } else if (channel.value === 'all' && channel.value === 'unknown' && community) {\n      this.resetCommunity();\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChooseChannel);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/events/chooseChannel.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/events/choosePlatform.js":
/*!********************************************************************************************************!*\
  !*** ./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/events/choosePlatform.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _audienceWrapper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../audienceWrapper.js */ \"./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/audienceWrapper.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass ChoosePlatform extends _audienceWrapper_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  init() {\n    const platform = document.querySelector('[js-platform]');\n\n    if (platform) {\n      const changePlatform = this.changePlatform.bind(this);\n\n      const platformSelect = utils.setCloneElement(platform);\n      platformSelect.addEventListener('change', changePlatform);\n    }\n  }\n\n  changePlatform(e) {\n    const t = e.target;\n\n    const channel = document.querySelector('#channel');\n\n    if (t.value === 'unknown') {\n      utils.removeChildren(channel);\n\n      const option = this.setOption('unknown', 'Неизвестно', true);\n\n      channel.appendChild(option);\n\n      this.resetCommunity();\n    } else {\n      this.resetChannel();\n\n      const form = document.querySelector('[funnel-filter-form]');\n\n      const formData = new FormData(form);\n      this.setChannelByPlatform(formData, t);\n    }\n  }\n\n  setChannelByPlatform(formData, t) {\n    const getChannels = _api_api_js__WEBPACK_IMPORTED_MODULE_2__.funnelAPI.getChannel(formData);\n\n    t.setAttribute('disabled', '');\n\n    getChannels.then((channels) => {\n      this.afterGetChannels(channels, t);\n    }, () => t.removeAttribute('disabled'));\n  }\n\n  afterGetChannels(channels, t) {\n    t.removeAttribute('disabled');\n    const channel = document.querySelector('#channel');\n\n    utils.removeChildren(channel, 0);\n\n    channels.forEach((item) => {\n      const option = this.setOption(`${item}`, `${item}`, false);\n      channel.appendChild(option);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChoosePlatform);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/events/choosePlatform.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/events/closeCommunity.js":
/*!********************************************************************************************************!*\
  !*** ./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/events/closeCommunity.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass CloseCommunity {\n  init() {\n    const closeCommunity = document.querySelector('[js-menu-close-btn]');\n\n    if (closeCommunity) {\n      const closeCommunityMenu = this.closeCommunityMenu.bind(this);\n\n      const close = utils.setCloneElement(closeCommunity);\n\n      close.addEventListener('click', closeCommunityMenu);\n    }\n  }\n\n  closeCommunityMenu() {\n    const communites = [];\n\n    const filterForm = document.querySelector('[filter-form-communities]');\n\n    if (filterForm) {\n      const filterFormRows = filterForm.querySelectorAll('tr:not(.none) [js-menu-checker]:checked');\n\n      if (filterFormRows.length) {\n        filterFormRows.forEach((item) => {\n          communites.push(item.value);\n        });\n      }\n    }\n\n    const communitesInput = document.querySelector('[js-communites]');\n\n    if (communites.includes('Все аудитории')) {\n      communitesInput.value = 'Все аудитории';\n    } else {\n      communitesInput.value = communites.toString();\n    }\n\n    this.showAll();\n\n    const menu = document.querySelector('[js-menu]');\n\n    const wrapper = menu.querySelector('.platform-modal__wrapper');\n\n    utils.closeModalAnimation(menu, wrapper, false, true);\n  }\n\n  showAll() {\n    const search = document.querySelector('[js-menu-search]');\n    search.value = '';\n\n    const rows = document.querySelectorAll('[js-menu-purchase]');\n\n    if (rows.length) {\n      rows.forEach((item) => {\n        item.classList.remove('none');\n      });\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CloseCommunity);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/events/closeCommunity.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/events/openCommunity.js":
/*!*******************************************************************************************************!*\
  !*** ./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/events/openCommunity.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _searchAudience_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./searchAudience.js */ \"./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/events/searchAudience.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst searchAudience = new _searchAudience_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass OpenCommunity {\n  init() {\n    const community = document.querySelector('[js-community]');\n\n    if (community) {\n      const communityBtn = utils.setCloneElement(community);\n\n      const setCommunity = this.setCommunity.bind(this);\n\n      communityBtn.addEventListener('click', setCommunity);\n    }\n  }\n\n  setCommunity(e) {\n    const t = e.target;\n    this.resetCommunityTable();\n\n    const channel = document.querySelector('[js-channel]');\n\n    if (channel.value !== 'all' && channel.value !== 'unknown') {\n      const form = document.querySelector('[funnel-filter-form]');\n      const formData = new FormData(form);\n      this.setCommunityByChannel(formData, t);\n    }\n  }\n\n  resetCommunityTable() {\n    const communityTable = document.querySelector('[community-table]');\n\n    utils.removeChildren(communityTable);\n\n    const tr = document.createElement('tr');\n    tr.classList.add('body__row');\n    tr.classList.add('body__row_small');\n    tr.classList.add('body__row_channel');\n    tr.setAttribute('js-menu-purchase', '');\n    tr.setAttribute('js-menu-purchase-all', '');\n    tr.innerHTML = this.setDefaultCommunityRow();\n\n    communityTable.appendChild(tr);\n\n    const unknown = document.createElement('tr');\n    unknown.classList.add('body__row');\n    unknown.classList.add('body__row_small');\n    unknown.classList.add('body__row_channel');\n    unknown.setAttribute('js-menu-purchase', '');\n    unknown.innerHTML = this.setUnknownCommunityRow();\n\n    communityTable.appendChild(unknown);\n  }\n\n  setCommunityByChannel(formData, t) {\n    const getCommunities = _api_api_js__WEBPACK_IMPORTED_MODULE_1__.funnelAPI.getAudience(formData);\n\n    const menu = document.querySelector('[js-menu]');\n\n    utils.openModalAnimation(menu, true);\n\n    t.setAttribute('disabled', '');\n\n    getCommunities.then((communites) => {\n      t.removeAttribute('disabled');\n      const communityTable = document.querySelector('[community-table]');\n\n      const setCommunityRow = this.renderCommunityRow.bind(this);\n\n      setCommunityRow(communites, communityTable).then(() => {\n        this.changeCheckboxInTable();\n        searchAudience.init();\n      });\n    }, () => t.removeAttribute('disabled'));\n  }\n\n  async renderCommunityRow(communites, communityTable) {\n    communites.forEach(async (item) => {\n      const tr = document.createElement('tr');\n\n      tr.setAttribute('js-menu-purchase', '');\n      tr.classList.add('body__row');\n      tr.classList.add('body__row_small');\n      tr.classList.add('body__row_channel');\n      tr.innerHTML = this.communityRowTemplate(item);\n\n      await communityTable.appendChild(tr);\n    });\n  }\n\n  communityRowTemplate(item) {\n    return `\n      <td class=\"platform-table__column width_100 audience-column\">\n        <input js-menu-checker type=\"checkbox\" id=\"${item.name}\" class=\"platform__checkbox\" name=\"communites\" value=\"${item.name}\" checked/>\n        <label class=\"platform-checkbox__label audience__label\" for=\"${item.name}\">\n          <span class=\"audience__checkbox\">\n            <span class=\"platform__checkbox--fake\"></span>\n          </span>\n          <span class=\"audience__name\">${item.name}</span>\n          <span class=\"audience__link\">${item.link}</span>\n        </label>\n      </td>\n    `;\n  }\n\n  setDefaultCommunityRow() {\n    return `\n        <td class=\"platform-table__column width_100 audience-column\">\n          <input js-menu-checker type=\"checkbox\" id=\"Все аудитории\" class=\"platform__checkbox\" name=\"communites\" value=\"Все аудитории\" checked/>\n          <label class=\"platform-checkbox__label audience__label\" for=\"Все аудитории\">\n            <span class=\"audience__checkbox\">\n              <span class=\"platform__checkbox--fake\"></span>\n            </span>\n            <span class=\"audience__name\">Все аудитории</span>\n            <span class=\"audience__link\"></span>\n          </label>\n        </td>\n    `;\n  }\n\n  setUnknownCommunityRow() {\n    return `\n        <td class=\"platform-table__column width_100 audience-column\">\n          <input js-menu-checker type=\"checkbox\" id=\"Неизвестно\" class=\"platform__checkbox\" name=\"communites\" value=\"unknown\" checked/>\n          <label class=\"platform-checkbox__label audience__label\" for=\"Неизвестно\">\n            <span class=\"audience__checkbox\">\n              <span class=\"platform__checkbox--fake\"></span>\n            </span>\n            <span class=\"audience__name\">Неизвестно</span>\n            <span class=\"audience__link\"></span>\n          </label>\n        </td>\n    `;\n  }\n\n  changeCheckboxInTable() {\n    const allAudienceCheckBox = document.querySelector('[js-menu-checker][value=\"Все аудитории\"]');\n\n    if (allAudienceCheckBox) {\n      const changeAllAudience = this.changeAllAudience.bind(this);\n      allAudienceCheckBox.addEventListener('change', changeAllAudience);\n    }\n\n    const unknownCheckBox = document.querySelector('[js-menu-checker][value=\"unknown\"]');\n\n    if (unknownCheckBox) {\n      const changeUnknownCheckbox = this.changeUnknownCheckbox.bind(this);\n\n      unknownCheckBox.addEventListener('change', changeUnknownCheckbox);\n    }\n  }\n\n  changeAllAudience(e) {\n    const t = e.target;\n\n    const checkboxArr = document.querySelectorAll('[js-menu-checker]');\n\n    if (t.checked) {\n      checkboxArr.forEach((item, index) => {\n        if (index !== 0) {\n          item.checked = true;\n        }\n      });\n    } else {\n      checkboxArr.forEach((item, index) => {\n        if (index !== 0) {\n          item.checked = false;\n        }\n      });\n    }\n  }\n\n  changeUnknownCheckbox(e) {\n    const t = e.target;\n\n    const allAudienceCheckBox = document.querySelector('[js-menu-checker][value=\"Все аудитории\"]');\n\n    if (t.checked) {\n      allAudienceCheckBox.checked = true;\n    } else {\n      allAudienceCheckBox.checked = false;\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OpenCommunity);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/events/openCommunity.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/events/searchAudience.js":
/*!********************************************************************************************************!*\
  !*** ./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/events/searchAudience.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass SearchAudience {\n  init() {\n    const search = document.querySelector('[js-menu-search]');\n\n    const searchAudience = this.searchAudience.bind(this);\n\n    if (search) {\n      search.addEventListener('keyup', searchAudience);\n    }\n  }\n\n  searchAudience(e) {\n    const t = e.target;\n    const value = t.value.toLowerCase();\n    const rows = Array.from(document.querySelectorAll('[js-menu-purchase]'));\n\n    const hasNotValue = rows.filter((el) => el.querySelector('.audience__name').innerText.toLowerCase().indexOf(value) === -1);\n\n    hasNotValue.forEach((item) => {\n      item.classList.add('hide');\n    });\n\n    const hasValue = rows.filter((el) => el.querySelector('.audience__name').innerText.toLowerCase().indexOf(value) !== -1);\n\n    hasValue.forEach((item) => {\n      item.classList.remove('hide');\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SearchAudience);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/filter/analytics/events/chooseAudience/events/searchAudience.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/filter/events/applyFilter.js":
/*!*********************************************************************!*\
  !*** ./dev/static/js/platform/modules/filter/events/applyFilter.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass ApplyFilter {\n  init() {\n      const applyFilter = document.querySelector('.filter__apply');\n\n      const setFIlter = this.setFilter.bind(this);\n\n      if (applyFilter) {\n          applyFilter.addEventListener('click', setFIlter);\n      }\n  }\n\n  setFilter() {\n      const form = document.querySelector('.filter__form');\n      form.submit();\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ApplyFilter);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/filter/events/applyFilter.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/filter/events/closeFilter.js":
/*!*********************************************************************!*\
  !*** ./dev/static/js/platform/modules/filter/events/closeFilter.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass CloseFilter {\n  init() {\n      const closeFilterBtn = document.querySelector('.platform__close--btn-modal');\n\n      if (closeFilterBtn) {\n          const closeFilter = this.closeFilter.bind(this);\n\n          closeFilterBtn.removeEventListener('click', closeFilter);\n          closeFilterBtn.addEventListener('click', closeFilter);\n      }\n  }\n\n  closeFilter() {\n      const filterButton = document.querySelector('.platform__filter--btn');\n      if (filterButton) {\n          filterButton.classList.remove('active');\n      }\n\n      const filter = document.querySelector('.platform__filter');\n      const filterWrapper = filter.querySelector('.filter__wrapper');\n\n      utils.closeModalAnimation(filter, filterWrapper, true, false, false);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CloseFilter);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/filter/events/closeFilter.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/filter/events/defaultFilter.js":
/*!***********************************************************************!*\
  !*** ./dev/static/js/platform/modules/filter/events/defaultFilter.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass DefaultFilter {\n\tinit(props) {\n\t\tconst { pack } = props;\n\t\tconst { filter } = pack;\n\n\t\tthis.filterItems(filter);\n\t}\n\n\tfilterItems(filter) {\n\t\tconst form = document.querySelector('.filter__form');\n\n\t\tif (!form) return false;\n\n\t\tconst items = form.querySelectorAll('.filter__item');\n\n\t\tconst filterItems = [];\n\n\t\titems.forEach((item) => {\n\t\t\tconst selects = item.querySelectorAll('select');\n\t\t\tconst radios = item.querySelectorAll('input[type=\"radio\"]');\n\t\t\tconst inputs = item.querySelectorAll('input[type=\"text\"]');\n\t\t\tconst checkbox = item.querySelectorAll('input[type=\"checkbox\"]');\n\n\t\t\tselects.forEach((elem) => {\n\t\t\t\tfilterItems.push(elem);\n\t\t\t});\n\n\t\t\tradios.forEach((elem) => {\n\t\t\t\tfilterItems.push(elem);\n\t\t\t});\n\n\t\t\tinputs.forEach((elem) => {\n\t\t\t\tfilterItems.push(elem);\n\t\t\t});\n\n\t\t\tcheckbox.forEach((elem) => {\n\t\t\t\tfilterItems.push(elem);\n\t\t\t});\n\t\t});\n\n\t\tif (filter) {\n\t\t\tconst filterData = Object.entries(filter);\n\n\t\t\tfilterData.forEach((item) => {\n\t\t\t\tconst field = item[0];\n\t\t\t\tconst value = item[1];\n\n\t\t\t\tfilterItems.forEach((elem) => {\n\t\t\t\t\tif (elem.getAttribute('name') === field) {\n\t\t\t\t\t\tthis.setFilterItems(elem, value);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\tsetFilterItems(item, value) {\n\t\tconst type = item.tagName;\n\n\t\t/* Селект */\n\t\tif (type === 'SELECT') {\n\t\t\tArray.from(item.children).forEach((elem) => {\n\t\t\t\telem.removeAttribute('selected');\n\n\t\t\t\t// eslint-disable-next-line\n\t\t\t\tif (elem.value == value) {\n\t\t\t\t\titem.value = elem.value;\n\t\t\t\t}\n\n\t\t\t\tif (elem.value === 'true' && value) {\n\t\t\t\t\titem.value = elem.value;\n\t\t\t\t}\n\n\t\t\t\tif (elem.value === 'false' && !value && value !== null) {\n\t\t\t\t\titem.value = elem.value;\n\t\t\t\t}\n\n\t\t\t\tif ((elem.value === '' && value === null) || (elem.value === '' && value === '0')) {\n\t\t\t\t\titem.value = elem.value;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t/* Инпут */\n\t\tif (type === 'INPUT' && item.getAttribute('type') === 'text') {\n\t\t\tsetTimeout(() => {\n\t\t\t\titem.value = value;\n\t\t\t}, 200);\n\t\t}\n\n\t\t/* Чекбокс */\n\t\tif (type === 'INPUT' && item.getAttribute('type') === 'checkbox' && Array.isArray(value)) {\n\t\t\tif (value[0] === 'firstPaymentSearch' && item.getAttribute('value') === 'firstPaymentSearch') {\n\t\t\t\titem.checked = true;\n\t\t\t} else {\n\t\t\t\tvalue.forEach((elem) => {\n\t\t\t\t\t// eslint-disable-next-line\n\t\t\t\t\tif (item.getAttribute('value') == elem) {\n\t\t\t\t\t\titem.setAttribute('checked', '');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t/* Радио */\n\t\tif (type === 'INPUT' && item.getAttribute('type') === 'radio') {\n\t\t\titem.removeAttribute('checked');\n\n\t\t\tif (value === item.getAttribute('value')) {\n\t\t\t\titem.setAttribute('checked', '');\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DefaultFilter);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/filter/events/defaultFilter.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/filter/events/defaultFilterCustomSelect.js":
/*!***********************************************************************************!*\
  !*** ./dev/static/js/platform/modules/filter/events/defaultFilterCustomSelect.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass DefaultFilterCustomSelect {\n  init(props) {\n    const form = document.querySelector('.filter__form');\n\n\t\tif (!form) return false;\n\n    const { pack } = props;\n    const { filter } = pack;\n\n    const items = form.querySelectorAll('[select-here]');\n\n    if (items.length) {\n      items.forEach((item) => {\n        const type = item.getAttribute('deal-select-type');\n\n        switch (type) {\n          case 'select-funnel': {\n            const idFunnel = item.querySelector('[id-selected]');\n            idFunnel.value = filter.idFunnel;\n\n            const body = item.querySelector('[select-body]');\n\n            if (body) {\n              if (filter.idFunnel !== 0) {\n                const selected = Array.from(body.children).find((el) => +el.getAttribute('value') === filter.idFunnel);\n                const placeholder = item.querySelector('.select-head__placeholder');\n                placeholder.innerText = selected.innerText.trim();\n                placeholder.parentNode.setAttribute('title', selected.innerText.trim());\n              }\n            }\n            break;\n          }\n          default: {\n            break;\n          }\n        }\n      });\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DefaultFilterCustomSelect);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/filter/events/defaultFilterCustomSelect.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/filter/events/openFilter.js":
/*!********************************************************************!*\
  !*** ./dev/static/js/platform/modules/filter/events/openFilter.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _datepicker_datepicker_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../datepicker/datepicker.js */ \"./dev/static/js/platform/modules/datepicker/datepicker.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst datepicker = new _datepicker_datepicker_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass OpenFilter {\n    init(props) {\n        const filterBtn = document.querySelector('.platform__filter--btn');\n\n        if (filterBtn) {\n            const openFilter = this.openFilter.bind(this, props);\n            const filterCloneBtn = utils.setCloneElement(filterBtn);\n\n            filterCloneBtn.addEventListener('click', openFilter);\n        }\n    }\n\n    openFilter(props, e) {\n        const t = e.target;\n        t.classList.add('active');\n\n        const filter = document.querySelector('.platform__filter');\n\n        utils.openModalAnimation(filter, true);\n        this.setFunnelsToFilter(props);\n        datepicker.init();\n    }\n\n    setFunnelsToFilter(props) {\n        const select = document.querySelector('[filter-funnels]');\n        const { pack } = props;\n        const { funnels, filter } = pack;\n\n        const dealType = document.querySelector('[name=\"saleType\"]');\n\n        if (dealType && select) {\n            const type = dealType.value;\n\n            const funnelsData = Object.entries(funnels);\n\n            utils.removeChildren(select, 0);\n\n            const funnelFilterProps = {\n                funnelsData,\n                type,\n                select,\n                filter,\n                isChange: false,\n            };\n\n            if (funnelsData.length) {\n                this.addFunnelsToSelect(funnelFilterProps);\n            }\n\n            const addFunnelsToSelect = this.addFunnelsToSelect.bind(this, funnelFilterProps);\n\n            dealType.addEventListener('change', addFunnelsToSelect);\n        }\n    }\n\n    addFunnelsToSelect(props, e) {\n        let { type, isChange } = props;\n        const { funnelsData, select, filter } = props;\n\n        if (e) {\n            const t = e.target;\n            type = t.value;\n            isChange = true;\n        }\n\n        utils.removeChildren(select, 0);\n\n        let selectedFunnelId;\n\n        funnelsData.forEach((item) => {\n            const typeFunnel = item[0];\n            const funnelsItems = item[1];\n\n            if (type === typeFunnel) {\n                funnelsItems.forEach((elem) => {\n                    const option = document.createElement('option');\n                    option.setAttribute('value', elem.idFunnel);\n                    option.innerText = elem.funnelName;\n\n                    if (elem.idFunnel === filter.idFunnel) {\n                        selectedFunnelId = elem.idFunnel;\n                    }\n\n                    select.appendChild(option);\n                });\n            }\n        });\n\n        if (!isChange) {\n            select.value = selectedFunnelId || '0';\n        }\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OpenFilter);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/filter/events/openFilter.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/filter/filter.js":
/*!*********************************************************!*\
  !*** ./dev/static/js/platform/modules/filter/filter.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_applyFilter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/applyFilter.js */ \"./dev/static/js/platform/modules/filter/events/applyFilter.js\");\n/* harmony import */ var _events_closeFilter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/closeFilter.js */ \"./dev/static/js/platform/modules/filter/events/closeFilter.js\");\n/* harmony import */ var _events_openFilter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events/openFilter.js */ \"./dev/static/js/platform/modules/filter/events/openFilter.js\");\n/* harmony import */ var _events_defaultFilter_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./events/defaultFilter.js */ \"./dev/static/js/platform/modules/filter/events/defaultFilter.js\");\n/* harmony import */ var _analytics_analyticsFilter_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./analytics/analyticsFilter.js */ \"./dev/static/js/platform/modules/filter/analytics/analyticsFilter.js\");\n/* harmony import */ var _events_defaultFilterCustomSelect_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./events/defaultFilterCustomSelect.js */ \"./dev/static/js/platform/modules/filter/events/defaultFilterCustomSelect.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\nconst applyFilter = new _events_applyFilter_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst closeFilter = new _events_closeFilter_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst openFilter = new _events_openFilter_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst defaultFilter = new _events_defaultFilter_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst analyticsFilter = new _analytics_analyticsFilter_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\nconst defaultFilterCustomSelect = new _events_defaultFilterCustomSelect_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\n\nclass Filter {\n    init(props) {\n        const items = [\n            analyticsFilter,\n            defaultFilter,\n            defaultFilterCustomSelect,\n            applyFilter,\n            openFilter,\n            closeFilter,\n        ];\n\n        const filterProps = this.getProps(props);\n\n        items.forEach((item) => {\n            const init = item.init.bind(item);\n            init(filterProps);\n        });\n    }\n\n    getProps(props) {\n        return utils.getDeepCopy(props);\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Filter);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/filter/filter.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/payment-report/payment-report.js":
/*!*************************************************************************!*\
  !*** ./dev/static/js/platform/modules/payment-report/payment-report.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass PaymentReport {\n  init() {\n    const back = document.querySelector('.report__back');\n\n    if (back) {\n      const returnOnPrevPage = this.returnOnPrevPage.bind(this);\n\n      back.addEventListener('click', returnOnPrevPage);\n    }\n  }\n\n  returnOnPrevPage(e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    window.history.back();\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PaymentReport);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/payment-report/payment-report.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/popup/popup.js":
/*!*******************************************************!*\
  !*** ./dev/static/js/platform/modules/popup/popup.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _types_alert_confirm_alertConfirm_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types/alert-confirm/alertConfirm.js */ \"./dev/static/js/platform/modules/popup/types/alert-confirm/alertConfirm.js\");\n/* harmony import */ var _types_alert_close_alertClose_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./types/alert-close/alertClose.js */ \"./dev/static/js/platform/modules/popup/types/alert-close/alertClose.js\");\n/* harmony import */ var _types_alert_copy_alertCopy_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./types/alert-copy/alertCopy.js */ \"./dev/static/js/platform/modules/popup/types/alert-copy/alertCopy.js\");\n/* harmony import */ var _types_alert_content_alertContent_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./types/alert-content/alertContent.js */ \"./dev/static/js/platform/modules/popup/types/alert-content/alertContent.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\n\n\n\nconst alertConfirm = new _types_alert_confirm_alertConfirm_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst alertCopy = new _types_alert_copy_alertCopy_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst alertClose = new _types_alert_close_alertClose_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst alertContent = new _types_alert_content_alertContent_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n\nclass Popup {\n  async init(props) {\n    const overflow = utils.getCssProperty(document.body, 'overflow');\n\n    if (overflow !== 'hidden') {\n      document.body.style.overflow = 'hidden';\n      props.overflow = overflow;\n    } else {\n      props.overflow = overflow;\n    }\n\n    const dialog = document.querySelector('[dialog-window]');\n\n    if (!dialog) {\n      const wrapper = document.createElement('div');\n      wrapper.classList.add('dialog');\n      wrapper.setAttribute('dialog-window', '');\n\n      props.wrapper = wrapper;\n\n      document.body.appendChild(wrapper);\n    } else {\n      props.wrapper = dialog;\n    }\n\n    this.setPopupTemplate(props);\n  }\n\n  setPopupTemplate(templateProps) {\n    const {\n      settings,\n    } = templateProps;\n\n    switch (settings) {\n      case null: {\n        alertConfirm.init(templateProps);\n        break;\n      }\n      case 'copy': {\n        alertCopy.init(templateProps);\n        break;\n      }\n      case 'alert-close': {\n        alertClose.init(templateProps);\n        break;\n      }\n      case 'content': {\n        alertContent.init(templateProps);\n        break;\n      }\n      default: {\n        break;\n      }\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Popup);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/popup/popup.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/popup/template/popupTemplate.js":
/*!************************************************************************!*\
  !*** ./dev/static/js/platform/modules/popup/template/popupTemplate.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass PopupTemplate {\n  popupTemplate(title, text) {\n    title = title || 'Подтвердите действие';\n\n    return `\n      <div class=\"dialog__wrapper\">\n        <div class=\"dialog__title\">${title}</div>\n        <div class=\"dialog__text\">${text}</div>\n        <div class=\"dialog__buttons\">\n          <div class=\"button button_dialog\" accept-dialog=\"\">Да</div>\n          <div class=\"button button_dialog button_white\" close-dialog>Нет</div>\n        </div>\n      </div>\n    `;\n  }\n\n  popupTemplateContent(title, text, contentCreator) {\n    title = title || 'Подтвердите действие';\n\n    return `\n      <div class=\"dialog__wrapper\">\n        <div class=\"dialog__title\">${title}</div>\n        <div class=\"dialog__text\">${text}</div>\n        <div class=\"dialog__content\">${contentCreator()}</div>\n        <div class=\"dialog__buttons\">\n          <div class=\"button button_dialog\" accept-dialog=\"\">Да</div>\n          <div class=\"button button_dialog button_white\" close-dialog>Нет</div>\n        </div>\n      </div>\n    `;\n  }\n\n  alertCopy(title, text) {\n    title = title || 'Скопировать данные';\n\n    return `\n      <div class=\"dialog__wrapper\">\n        <div class=\"dialog__title\">${title}</div>\n        <div dilog-copy-text class=\"dialog__text\">${text}</div>\n        <div class=\"dialog__buttons\">\n          <div class=\"button button_dialog\" copy-dialog>Скопировать</div>\n        </div>\n      </div>\n    `;\n  }\n\n  alertClose(title, text) {\n    title = title || 'Внимание!';\n\n    return `\n      <div class=\"dialog__wrapper\">\n        <div class=\"dialog__title\">${title}</div>\n        <div class=\"dialog__text\">${text}</div>\n        <div class=\"dialog__buttons dffe\">\n          <div class=\"button button_dialog button_white\" close-dialog>Закрыть</div>\n        </div>\n      </div>\n    `;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PopupTemplate);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/popup/template/popupTemplate.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/popup/types/alert-close/alertClose.js":
/*!******************************************************************************!*\
  !*** ./dev/static/js/platform/modules/popup/types/alert-close/alertClose.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _popupWrapper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../popupWrapper.js */ \"./dev/static/js/platform/modules/popup/types/popupWrapper.js\");\n/* harmony import */ var _template_popupTemplate_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../template/popupTemplate.js */ \"./dev/static/js/platform/modules/popup/template/popupTemplate.js\");\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst popupTemplate = new _template_popupTemplate_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass AlertClose extends _popupWrapper_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n  init(props) {\n    const {\n      wrapper,\n      cancel,\n      target,\n      title,\n      text,\n    } = props;\n\n    wrapper.innerHTML = popupTemplate.alertClose(title, text);\n\n    const cancelBtn = wrapper.querySelector('[close-dialog]');\n\n    if (cancelBtn) {\n      const cancelClone = utils.setCloneElement(cancelBtn);\n\n      if (cancel) {\n        const cancelFunc = cancel.bind(cancel);\n        cancelClone.addEventListener('click', cancelFunc);\n      } else {\n        const removePopup = this.removePopup.bind(this, target, props);\n        cancelClone.addEventListener('click', removePopup);\n      }\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AlertClose);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/popup/types/alert-close/alertClose.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/popup/types/alert-confirm/alertConfirm.js":
/*!**********************************************************************************!*\
  !*** ./dev/static/js/platform/modules/popup/types/alert-confirm/alertConfirm.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _template_popupTemplate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../template/popupTemplate.js */ \"./dev/static/js/platform/modules/popup/template/popupTemplate.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _popupWrapper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../popupWrapper.js */ \"./dev/static/js/platform/modules/popup/types/popupWrapper.js\");\n\n\n\n\nconst popupTemplate = new _template_popupTemplate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass AlertConfirm extends _popupWrapper_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  init(props) {\n    const {\n      wrapper,\n      title,\n      text,\n      ok,\n      target,\n    } = props;\n\n    wrapper.innerHTML = popupTemplate.popupTemplate(title, text);\n\n    if (ok) {\n      const accept = wrapper.querySelector('[accept-dialog]');\n\n      if (accept) {\n        const acceptClone = utils.setCloneElement(accept);\n        const setAcceptAction = this.setAcceptAction.bind(this, props);\n\n        acceptClone.addEventListener('click', setAcceptAction);\n      }\n    }\n\n    const cancelBtn = wrapper.querySelector('[close-dialog]');\n\n    if (cancelBtn) {\n      const cancelClone = utils.setCloneElement(cancelBtn);\n      const removePopup = this.removePopup.bind(this, target);\n      cancelClone.addEventListener('click', removePopup);\n    }\n  }\n\n  setAcceptAction(props) {\n    const { ok, target } = props;\n    const result = ok();\n    const isPromise = result instanceof Promise;\n\n    if (isPromise) {\n      result.then(() => {\n        this.removePopup(target, props);\n      });\n    } else {\n      this.removePopup(target, props);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AlertConfirm);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/popup/types/alert-confirm/alertConfirm.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/popup/types/alert-content/alertContent.js":
/*!**********************************************************************************!*\
  !*** ./dev/static/js/platform/modules/popup/types/alert-content/alertContent.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _template_popupTemplate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../template/popupTemplate.js */ \"./dev/static/js/platform/modules/popup/template/popupTemplate.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _popupWrapper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../popupWrapper.js */ \"./dev/static/js/platform/modules/popup/types/popupWrapper.js\");\n\n\n\n\nconst popupTemplate = new _template_popupTemplate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass AlertContent extends _popupWrapper_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  init(props) {\n    const {\n      wrapper,\n      title,\n      text,\n      ok,\n      target,\n      contentCreator,\n    } = props;\n\n    wrapper.innerHTML = popupTemplate.popupTemplateContent(title, text, contentCreator);\n\n    if (ok) {\n      const accept = wrapper.querySelector('[accept-dialog]');\n\n      if (accept) {\n        const acceptClone = utils.setCloneElement(accept);\n        const setAcceptAction = this.setAcceptAction.bind(this, props);\n\n        acceptClone.addEventListener('click', setAcceptAction);\n      }\n    }\n\n    const cancelBtn = wrapper.querySelector('[close-dialog]');\n\n    if (cancelBtn) {\n      const cancelClone = utils.setCloneElement(cancelBtn);\n      const removePopup = this.removePopup.bind(this, target);\n      cancelClone.addEventListener('click', removePopup);\n    }\n  }\n\n  setAcceptAction(props) {\n    const { ok, target } = props;\n    const result = ok();\n    const isPromise = result instanceof Promise;\n\n    if (result !== 'no-valid') {\n      if (isPromise) {\n        result.then(() => {\n          this.removePopup(target, props);\n        }, () => {\n          this.removePopup(target, props);\n        });\n      } else {\n        this.removePopup(target, props);\n      }\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AlertContent);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/popup/types/alert-content/alertContent.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/popup/types/alert-copy/alertCopy.js":
/*!****************************************************************************!*\
  !*** ./dev/static/js/platform/modules/popup/types/alert-copy/alertCopy.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _template_popupTemplate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../template/popupTemplate.js */ \"./dev/static/js/platform/modules/popup/template/popupTemplate.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _popupWrapper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../popupWrapper.js */ \"./dev/static/js/platform/modules/popup/types/popupWrapper.js\");\n\n\n\n\nconst popupTemplate = new _template_popupTemplate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass AlertCopy extends _popupWrapper_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  init(props) {\n    const {\n      wrapper,\n      title,\n      text,\n    } = props;\n\n    wrapper.innerHTML = popupTemplate.alertCopy(title, text);\n\n    const copyBtn = wrapper.querySelector('[copy-dialog]');\n\n    if (copyBtn) {\n      const copy = utils.setCloneElement(copyBtn);\n\n      const copyAlertInner = this.copyAlertInner.bind(this, props);\n      copy.addEventListener('click', copyAlertInner);\n    }\n  }\n\n  copyAlertInner(props, e) {\n    const { target, text } = props;\n    e.preventDefault();\n    e.stopPropagation();\n\n    utils.copyLink(text);\n    this.removePopup(target, props);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AlertCopy);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/popup/types/alert-copy/alertCopy.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/popup/types/popupWrapper.js":
/*!********************************************************************!*\
  !*** ./dev/static/js/platform/modules/popup/types/popupWrapper.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass PopupWrapper {\n  removePopup(target) {\n    const removeWrapper = document.querySelectorAll('[dialog-window]');\n\n    if (removeWrapper.length) {\n      removeWrapper.forEach((item) => {\n        item.style.opacity = '0';\n        item.remove();\n      });\n    }\n\n    if (target) {\n      target.style.pointerEvents = 'all';\n    }\n\n    const menuArray = Array.from(document.querySelectorAll('.platform-modal'));\n\n    if (menuArray.length) {\n      const isOpen = menuArray.some((el) => el.classList.contains('open'));\n\n      if (isOpen) {\n        document.body.style.overflow = 'hidden';\n      } else {\n        document.body.style.overflow = 'auto';\n      }\n    } else {\n      document.body.style.overflow = 'auto';\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PopupWrapper);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/popup/types/popupWrapper.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/registration/events/changeMenu/changePaymentMenu.js":
/*!********************************************************************************************!*\
  !*** ./dev/static/js/platform/modules/registration/events/changeMenu/changePaymentMenu.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _menu_items_settings_payment_form_templates_paymentFormTemplates_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../menu/items/settings/payment-form/templates/paymentFormTemplates.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/templates/paymentFormTemplates.js\");\n/* harmony import */ var _redirectToPay_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./redirectToPay.js */ \"./dev/static/js/platform/modules/registration/events/changeMenu/redirectToPay.js\");\n\n\n\n\nconst paymentFormTemplates = new _menu_items_settings_payment_form_templates_paymentFormTemplates_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst redirectToPay = new _redirectToPay_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass ChangePaymentMenu {\n  init(props) {\n    const checkbox = document.querySelector('.platform__checkbox');\n\n    if (checkbox) {\n      if (!checkbox.checked) {\n        this.setLoginMenu(props);\n      }\n\n      const checkboxListener = this.checkboxListener.bind(this, props);\n\n      const checkboxElement = utils.setCloneElement(checkbox);\n      checkboxElement.addEventListener('change', checkboxListener);\n\n      document.addEventListener('DOMContentLoaded', () => {\n        setTimeout(() => {\n          const changeEvent = new Event('change');\n          checkboxElement.dispatchEvent(changeEvent);\n        }, 100);\n      });\n    }\n  }\n\n  checkboxListener(props, e) {\n    const t = e.target;\n\n    if (!t.checked) {\n      this.setLoginMenu(props);\n      redirectToPay.registration(props);\n    } else {\n      this.setPaymentMenu(props);\n      redirectToPay.redirect(props);\n    }\n  }\n\n  setLoginMenu(props) {\n    const formWrapper = document.querySelector('.form__content');\n\n    const regBtn = document.querySelector('.client__info--button.registration');\n\n    if (regBtn) {\n      regBtn.style.display = 'flex';\n    }\n\n    const payBtn = document.querySelector('.pay');\n\n    if (payBtn) {\n      payBtn.classList.add('hide');\n    }\n\n    const privateLicense = document.querySelector('.private');\n\n    if (privateLicense) {\n      privateLicense.classList.remove('hide');\n    }\n\n    if (formWrapper) {\n      utils.removeChildren(formWrapper);\n      formWrapper.innerHTML = paymentFormTemplates.paymentFormTemplate(props);\n    }\n\n    const warning = document.querySelector('.info__warning');\n\n    if (warning) {\n      warning.classList.remove('hide');\n      warning.classList.add('mt_20');\n    }\n\n    const info = document.querySelector('.client__info');\n\n    if (info) {\n      info.classList.add('buy-menu');\n    }\n\n    const haveLogin = document.querySelector('.have-login');\n\n    if (haveLogin) {\n      haveLogin.classList.remove('mt_0');\n      haveLogin.classList.add('mt_20');\n    }\n  }\n\n  setPaymentMenu() {\n    const formWrapper = document.querySelector('.form__content');\n\n    const regBtn = document.querySelector('.client__info--button.registration');\n\n    if (regBtn) {\n      regBtn.style.display = 'none';\n    }\n\n    const payBtn = document.querySelector('.pay');\n\n    if (payBtn) {\n      payBtn.classList.remove('hide');\n    }\n\n    const privateLicense = document.querySelector('.private');\n\n    if (privateLicense) {\n      privateLicense.classList.add('hide');\n    }\n\n    if (formWrapper) {\n      utils.removeChildren(formWrapper);\n    }\n\n    const warning = document.querySelector('.info__warning');\n\n    if (warning) {\n      warning.classList.add('hide');\n    }\n\n    const info = document.querySelector('.client__info');\n\n    if (info) {\n      info.classList.remove('buy-menu');\n    }\n\n    const haveLogin = document.querySelector('.have-login');\n\n    if (haveLogin) {\n      haveLogin.classList.add('mt_0');\n      haveLogin.classList.remove('mt_20');\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChangePaymentMenu);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/registration/events/changeMenu/changePaymentMenu.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/registration/events/changeMenu/redirectToPay.js":
/*!****************************************************************************************!*\
  !*** ./dev/static/js/platform/modules/registration/events/changeMenu/redirectToPay.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../utils/validation.js */ \"./dev/static/js/platform/utils/validation.js\");\n/* harmony import */ var _popup_popup_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n/* harmony import */ var _menu_items_crm_clientCard_events_setRandomCircle_events_setColor_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../menu/items/crm/clientCard/events/setRandomCircle/events/setColor.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/events/setRandomCircle/events/setColor.js\");\n\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst validation = new _utils_validation_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst popup = new _popup_popup_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst setColor = new _menu_items_crm_clientCard_events_setRandomCircle_events_setColor_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n\nclass RedirectToPay {\n  registration(props) {\n    const btn = document.querySelector('.client__info--button.registration');\n\n    if (btn) {\n      const button = utils.setCloneElement(btn);\n\n      const registrationNewClient = this.registrationNewClient.bind(this, props);\n\n      button.addEventListener('click', registrationNewClient);\n    }\n  }\n\n  registrationNewClient(props, e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.getIdStream(props);\n\n    const userForm = document.querySelector('.client__info');\n\n    if (validation.validatePaymentFormPublic(userForm)) {\n      const name = document.querySelector('[form-name]');\n      const tel = document.querySelector('[form-tel]');\n      const email = document.querySelector('[form-email]');\n      const idCompany = +document.querySelector('[id-company]').value;\n\n      props.openClientCard = false;\n      const color = setColor.getRandomColor(props);\n\n      const data = {\n        name: name.value.trim(),\n        phone: tel.value.trim(),\n        email: email.value.trim(),\n        idCompany,\n        clientColor: color,\n      };\n\n      const save = _api_api_js__WEBPACK_IMPORTED_MODULE_0__.paymentFormAPI.registrationNewClient(data);\n\n      const loader = setTimeout(() => {\n        utils.showLoader();\n      }, 400);\n\n      save.then((client) => {\n        clearTimeout(loader);\n        utils.hideLoader();\n\n        const popupProps = {\n          text: `Логин: ${client.username}\\nПароль: ${client.password}`,\n          settings: 'copy',\n          title: null,\n          ok: null,\n          cancel: null,\n          target: e.target,\n        };\n\n        popup.init(popupProps);\n\n        this.removeRegistrationForm();\n\n        this.redirect(props);\n      }, (errorObject) => {\n        utils.hideLoader();\n        clearTimeout(loader);\n\n        const { responseText: error } = errorObject;\n\n        switch (error) {\n          case 'The client already exists.': {\n            alert('Error!');\n            break;\n          }\n          default: {\n            break;\n          }\n        }\n      });\n    }\n  }\n\n  removeRegistrationForm() {\n    const login = document.querySelector('.have-login');\n    const form = document.querySelector('.form__content');\n    const registration = document.querySelector('.registration');\n    const warning = document.querySelector('.info__warning');\n\n    const items = [login, form, registration, warning];\n\n    items.forEach((item) => {\n      item.remove();\n    });\n\n    const clientNav = document.querySelector('.client__nav');\n\n    clientNav.style.marginTop = '15px';\n    clientNav.style.paddingTop = '0';\n    clientNav.style.borderTop = '0';\n\n    const payBtn = document.querySelector('.pay');\n\n    if (payBtn) {\n      payBtn.classList.remove('hide');\n    }\n\n    const p = document.createElement('p');\n    p.innerText = 'Поздравляем! Регистрация прошла успешно';\n    p.classList.add('after-registration__text');\n    p.classList.add('mt_15');\n\n    if (!document.querySelector('.after-registration__text')) {\n      clientNav.parentNode.insertBefore(p, clientNav);\n    }\n\n    const privateLicense = document.querySelector('.private');\n\n    if (privateLicense) {\n      privateLicense.classList.add('hide');\n    }\n  }\n\n  redirect(props) {\n    const btn = document.querySelector('.client__info--button.pay');\n\n    if (btn) {\n      const button = utils.setCloneElement(btn);\n\n      const redirectToPay = this.redirectToPay.bind(this, props);\n\n      button.addEventListener('click', redirectToPay);\n    }\n  }\n\n  redirectToPay(props, e) {\n    e.preventDefault();\n\n    utils.showLoader();\n\n    const select = document.querySelector('[form-date]');\n\n    if (select) {\n      props.idStream = +select.value;\n    }\n\n    setTimeout(() => {\n      const [formCode, baseUrl] = utils.getUrlData(props);\n\n      const security = utils.checkSertificate(baseUrl);\n\n      window.location.href = `${security}://${baseUrl}/payment-form-public/${formCode}/`;\n    }, 500);\n  }\n\n  getIdStream(props) {\n    const select = document.querySelector('[form-date]');\n\n    if (select) {\n      props.idStream = +select.value;\n    } else {\n      props.idStream = props.form?.streams[0].id;\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RedirectToPay);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/registration/events/changeMenu/redirectToPay.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/registration/registration.js":
/*!*********************************************************************!*\
  !*** ./dev/static/js/platform/modules/registration/registration.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_changeMenu_changePaymentMenu_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/changeMenu/changePaymentMenu.js */ \"./dev/static/js/platform/modules/registration/events/changeMenu/changePaymentMenu.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\nconst changePaymentMenu = new _events_changeMenu_changePaymentMenu_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass Registration {\n  init(props) {\n    utils.hideLoader();\n    this.listenerToMargin(props);\n\n    const idCompany = document.querySelector('[id-company]');\n\n    if (idCompany) {\n      idCompany.value = props.pack.form.idCompany;\n    }\n\n    const listenerToMargin = this.listenerToMargin.bind(this, props);\n\n    window.onresize = listenerToMargin;\n\n    const items = [changePaymentMenu];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(props);\n    });\n  }\n\n  listenerToMargin() {\n    const name = document.querySelector('.tariff__name--value');\n\n    if (name) {\n      const wrapperWidth = document.body.clientWidth - 100;\n\n      let width;\n\n      if (document.body.clientWidth > 411 && document.body.clientWidth < 611) {\n        width = document.body.clientWidth - 100 - 140 - 145;\n      } else {\n        width = wrapperWidth - 100;\n      }\n\n      if (wrapperWidth - name.clientWidth < width) {\n        name.style.marginLeft = '0';\n      } else {\n        name.style.marginLeft = '5px';\n      }\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Registration);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/registration/registration.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/select/measureDistance/measureDistanceSelect.js":
/*!****************************************************************************************!*\
  !*** ./dev/static/js/platform/modules/select/measureDistance/measureDistanceSelect.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass MeasureDistanceSelect {\n  getDistanceBetweenBottom(selectItem, scrollWrapper) {\n    const { scrollHeight, clientHeight } = scrollWrapper;\n\n    const wrapper = scrollHeight > clientHeight ? scrollWrapper : window;\n    const headerHeight = this.getHeaderHeight(wrapper) || 0;\n    const wrapperHeight = wrapper.classList ? wrapper.offsetHeight : wrapper.innerHeight;\n\n    return wrapperHeight - (selectItem.getBoundingClientRect().bottom - headerHeight);\n  }\n\n  getHeaderHeight(wrapper) {\n    let wrapperTop;\n\n    if (wrapper.getBoundingClientRect) {\n      wrapperTop = wrapper.getBoundingClientRect().top;\n    }\n\n    return wrapperTop || 0;\n  }\n\n  getDistanceBetweenTop(beetwenBottom) {\n    return window.innerHeight - beetwenBottom;\n  }\n\n  measureFromBottom(body, betweenBottom) {\n    return body.offsetHeight > betweenBottom;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MeasureDistanceSelect);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/select/measureDistance/measureDistanceSelect.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/select/select.js":
/*!*********************************************************!*\
  !*** ./dev/static/js/platform/modules/select/select.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _selects_selectHover_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./selects/selectHover.js */ \"./dev/static/js/platform/modules/select/selects/selectHover.js\");\n/* harmony import */ var _selects_selectCustom_selectCustom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./selects/selectCustom/selectCustom.js */ \"./dev/static/js/platform/modules/select/selects/selectCustom/selectCustom.js\");\n/* harmony import */ var _template_templateSelect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./template/templateSelect.js */ \"./dev/static/js/platform/modules/select/template/templateSelect.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\n\n\nconst selectCustom = new _selects_selectCustom_selectCustom_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst selectHover = new _selects_selectHover_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst templateSelect = new _template_templateSelect_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass Select {\n  async init(props) {\n    const { pack } = props;\n    const { selectsArray } = props;\n\n    if (selectsArray?.length) {\n      await this.renderSelects(selectsArray, pack);\n      this.setSelecHelpersProps(props);\n\n      const dispatchSelectType = this.dispatchSelectType.bind(this, props);\n\n      if (pack.selectObsArr.length < 1) {\n        document.body.addEventListener('click', dispatchSelectType);\n        pack.selectObsArr.push(true);\n      }\n    }\n  }\n\n  setSelecHelpersProps(props) {\n    props.closeSelect = this.closeSelect.bind(this, props);\n    props.scrollWrapper = this.scrollWrapper.bind(this);\n  }\n\n  dispatchSelectType(props, e) {\n    if (props.targetSelect) {\n      props.prev = props.targetSelect;\n    }\n\n    const t = e.target;\n\n    const parentSelect = utils.getParent(t, 'select') ? utils.getParent(t, 'select') : false;\n    const isSelect = t.classList.contains('select') ? t : false;\n\n    const targetSelect = parentSelect || isSelect;\n\n    if (targetSelect) {\n      const mode = targetSelect.getAttribute('data-mode');\n\n      switch (mode) {\n        case 'hover-close': {\n          const hoverSelectProps = {\n            props,\n            targetSelect,\n            e,\n          };\n\n          selectHover.init(hoverSelectProps);\n          break;\n        }\n        case 'custom': {\n          const customSelectProps = {\n            props,\n            targetSelect,\n          };\n\n          selectCustom.init(customSelectProps, e);\n          break;\n        }\n        default: {\n          break;\n        }\n      }\n    }\n  }\n\n  async renderSelects(selects, pack) {\n    for (let index = 0; index < selects.length; index++) {\n      const element = selects[index];\n\n      const { item } = element;\n\n      utils.removeChildren(item, 0);\n\n      const wrapper = document.createElement('div');\n      wrapper.classList.add('platform-select__wrapper');\n\n      if (element.mode === 'hover-close') {\n        wrapper.classList.add('no-icon');\n      }\n\n      wrapper.innerHTML = templateSelect.customSelectTemplate(element, pack);\n\n      await item.appendChild(wrapper);\n    }\n  }\n\n  closeSelect(props, e) {\n    if (e) {\n      const t = e.target;\n\n      const parentSelectWrapper = utils.getParent(t, 'platform-select__wrapper');\n      const isSelectWrapper = t.classList.contains('platform-select__wrapper');\n\n      if (!parentSelectWrapper || !isSelectWrapper) {\n        this.closeBodies(props);\n      }\n    } else {\n      this.closeBodies(props);\n    }\n\n    props.selectIsOpen = false;\n  }\n\n  closeBodies(props) {\n    const bodies = document.querySelectorAll('[select-body]');\n\n    if (bodies.length) {\n      bodies.forEach((item) => item.classList.remove('open'));\n    }\n\n    document.body.removeEventListener('click', props.closeSelect);\n  }\n\n  scrollWrapper(select) {\n    const body = select.querySelector('.select__body');\n\n    body.style.top = `calc(${body.parentNode.getBoundingClientRect().bottom}px - 2px)`;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Select);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/select/select.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/select/selects/selectCustom/selectCustom.js":
/*!************************************************************************************!*\
  !*** ./dev/static/js/platform/modules/select/selects/selectCustom/selectCustom.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _measureDistance_measureDistanceSelect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../measureDistance/measureDistanceSelect.js */ \"./dev/static/js/platform/modules/select/measureDistance/measureDistanceSelect.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst measureDistanceSelect = new _measureDistance_measureDistanceSelect_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass SelectCustom {\n  init(customSelectProps, e) {\n    const { targetSelect, props } = customSelectProps;\n    if (targetSelect) {\n      props.targetSelect = targetSelect;\n\n      const customSelect = targetSelect.querySelector('[select-head]');\n\n      if (customSelect) {\n        this.openSelect(props, e);\n      }\n    }\n  }\n\n  openSelect(props) {\n    this.closeAllBodies(props).then(() => {\n      const { targetSelect } = props;\n      const body = targetSelect.querySelector('.select__body');\n\n      const bodies = document.querySelectorAll('.select__body');\n      const someBodyIsOpen = Array.from(bodies).some((el) => el.classList.contains('open'));\n\n      if (!someBodyIsOpen && !props.selectIsOpen) {\n        this.setBodyStyle(body, targetSelect);\n        this.chooseOptionEvents(body, props);\n        props.selectIsOpen = true;\n\n        document.body.addEventListener('click', props.closeSelect);\n      } else {\n        props.selectIsOpen = false;\n      }\n\n      this.scrollPage(props);\n    });\n  }\n\n  getSelectItem(t) {\n    const targetIsSelect = t.classList.contains('select') ? t : false;\n    const parentIsSelect = utils.getParent(t, 'select') ? utils.getParent(t, 'select') : false;\n\n    return targetIsSelect || parentIsSelect;\n  }\n\n  getSelectBody(selectItem) {\n    return selectItem.querySelector('.select__body');\n  }\n\n  setBodyStyle(body, selectItem) {\n    body.classList.add('open');\n    body.style.left = `${selectItem.getBoundingClientRect().left}px`;\n    body.style.top = `${selectItem.getBoundingClientRect().bottom - 2}px`;\n    body.style.maxWidth = `${selectItem.offsetWidth}px`;\n    body.style.maxHeight = '250px';\n    body.style.position = 'fixed';\n\n    const scrollWrapper = utils.getParent(selectItem, 'custom-scroll');\n\n    const beetwenBottom = measureDistanceSelect.getDistanceBetweenBottom(selectItem, scrollWrapper);\n    const notDistanseBetweenBottom = measureDistanceSelect.measureFromBottom(body, beetwenBottom);\n\n    const openProps = {\n      body,\n      selectItem,\n      scrollWrapper,\n    };\n\n    if (notDistanseBetweenBottom && selectItem.getAttribute('data-select-adaptive') === 'true') {\n      this.openOnTop(openProps);\n    } else {\n      this.openOnBottom(openProps);\n    }\n  }\n\n  openOnTop(openProps) {\n    const {\n      body,\n      selectItem,\n      scrollWrapper,\n    } = openProps;\n\n    const beetwenBottom = measureDistanceSelect.getDistanceBetweenBottom(selectItem, scrollWrapper);\n    const beetwenTop = measureDistanceSelect.getDistanceBetweenTop(beetwenBottom);\n\n    body.style.maxHeight = beetwenTop - 130;\n\n    body.style.top = selectItem.getBoundingClientRect().top - body.offsetHeight;\n  }\n\n  openOnBottom(openProps) {\n    const {\n      body,\n      selectItem,\n      scrollWrapper,\n    } = openProps;\n\n    const beetwenBottom = measureDistanceSelect.getDistanceBetweenBottom(selectItem, scrollWrapper);\n\n    const notDistanseBetweenBottom = measureDistanceSelect.measureFromBottom(body, beetwenBottom);\n\n    body.style.top = selectItem.getBoundingClientRect().bottom - 2;\n\n    const isAdaptive = selectItem.hasAttribute('data-select-adaptive') && selectItem.getAttribute('data-select-adaptive') === 'true';\n\n    if (notDistanseBetweenBottom && isAdaptive) {\n      body.style.maxHeight = beetwenBottom - 50;\n    }\n  }\n\n  async closeAllBodies(props) {\n    const bodies = document.querySelectorAll('[select-body]');\n\n    if (bodies.length) {\n      for (let index = 0; index < bodies.length; index++) {\n        const element = bodies[index];\n        await element.classList.remove('open');\n      }\n\n      await document.body.removeEventListener('click', props.closeSelect);\n    }\n  }\n\n  chooseOptionEvents(body, props) {\n    if (body && body.classList.contains('open')) {\n      body.scrollTop = 0;\n\n      const options = Array.from(body.children);\n\n      if (options.length) {\n        const chooseOption = this.chooseOption.bind(this, props);\n\n        options.forEach((item) => {\n          const option = utils.setCloneElement(item);\n          option.addEventListener('click', chooseOption);\n        });\n      }\n    }\n  }\n\n  chooseOption(props, e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const t = e.target;\n\n    const selectWrapper = utils.getParent(t, 'platform-select__wrapper');\n\n    if (selectWrapper) {\n      const header = utils.getParent(t, 'platform-select__wrapper').querySelector('[select-head]');\n      const placeholder = selectWrapper.querySelector('[select-body]').children[0].innerText;\n\n      const headerPlaceholder = header.children[0];\n\n      headerPlaceholder.innerText = '';\n\n      const inputValue = selectWrapper.querySelector('[id-selected]');\n\n      inputValue.value = t.getAttribute('data-id');\n\n      const option = (t.classList.contains('select__option') ? t : '') || utils.getParent(t, 'select__option');\n\n      const value = option.hasAttribute('value') ? +option.getAttribute('value') !== 0 : '';\n\n      if (value) {\n        this.selectOption(headerPlaceholder, inputValue, option);\n      } else {\n        this.selectPlaceholder(headerPlaceholder, placeholder, inputValue);\n      }\n\n      const event = new Event('change');\n      inputValue.dispatchEvent(event);\n\n      props.closeSelect(e);\n    }\n  }\n\n  selectOption(header, inputValue, option) {\n    const optionName = option.innerHTML;\n    header.innerHTML = optionName;\n\n    if (optionName.split('</').length > 1) {\n      const textFromHTMLTag = this.textFromHTMLTag.bind(this, optionName);\n      header.parentNode.setAttribute('title', textFromHTMLTag().trim());\n    } else {\n      header.parentNode.setAttribute('title', optionName.trim());\n    }\n\n    inputValue.value = option.getAttribute('value');\n  }\n\n  textFromHTMLTag(optionName) {\n    const str = optionName.replace(/<[^>]+>/g, '');\n\n    let i;\n\n    for (let index = 0; index < str.length; index++) {\n      const item = str[index];\n\n      /* eslint-disable-next-line */\n      if (!window.isNaN(+item)) {\n        i = index;\n        break;\n      }\n    }\n\n    const result = `${str.slice(0, i)} ${str.slice(i, str.length)}`;\n\n    return result;\n  }\n\n  selectPlaceholder(header, placeholder, inputValue) {\n    header.innerText = placeholder;\n\n    let placeholderValue;\n\n    if (placeholder === 'Все воронки') {\n      placeholderValue = '0';\n    } else {\n      placeholderValue = '';\n    }\n\n    header.parentNode.setAttribute('title', placeholder.trim());\n\n    inputValue.value = placeholderValue;\n  }\n\n  scrollPage(props) {\n    const { selectIsOpen } = props;\n\n    const wrapper = utils.getParent(props.targetSelect, 'custom-scroll');\n\n    if (selectIsOpen) {\n      const scrollWrapper = props.scrollWrapper.bind(props.scrollWrapper, props.targetSelect);\n\n      wrapper.addEventListener('scroll', scrollWrapper);\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SelectCustom);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/select/selects/selectCustom/selectCustom.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/select/selects/selectHover.js":
/*!**********************************************************************!*\
  !*** ./dev/static/js/platform/modules/select/selects/selectHover.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass SelectHover {\n  init(hoverSelectProps) {\n    const {\n      props,\n      targetSelect,\n      e,\n    } = hoverSelectProps;\n\n    if (targetSelect) {\n      props.targetSelect = targetSelect;\n\n      const header = targetSelect.querySelector('[select-head]');\n\n      if (header) {\n        this.openSelect(props, e);\n      }\n    }\n  }\n\n  openSelect(props, e) {\n    this.closeOthersSelect(props);\n\n    const current = props.targetSelect;\n\n    if (current) {\n      const body = current.querySelector('.select__body');\n\n      const selectInViewPort = this.selectBodyInViewPort(e);\n\n      if (selectInViewPort) {\n        this.bodyOpenUp(body, current);\n      } else {\n        this.bodyOpenDown(body, current);\n      }\n\n      props.selectBody = body;\n      this.selectOption(props);\n\n      this.closeSelect();\n    }\n  }\n\n  selectBodyInViewPort(e) {\n    return window.innerHeight - 280 < e.clientY;\n  }\n\n  closeOthersSelect() {\n    const selects = document.querySelectorAll('.select__body');\n\n    if (selects.length) {\n      selects.forEach((item) => {\n        item.style.display = 'none';\n      });\n    }\n  }\n\n  bodyOpenUp(body, current) {\n    body.style.position = 'fixed';\n    body.style.top = `calc(${current.getBoundingClientRect().top}px)`;\n    body.style.left = `${current.getBoundingClientRect().left}px`;\n    body.style.display = 'flex';\n    body.style.bottom = 'auto';\n    body.style.transform = 'translateY(calc(-100%))';\n    body.style.width = `${current.offsetWidth}px`;\n  }\n\n  bodyOpenDown(body, current) {\n    body.style.position = 'fixed';\n    body.style.top = `calc(${current.getBoundingClientRect().bottom}px - 2px)`;\n    body.style.left = `${current.getBoundingClientRect().left}px`;\n    body.style.display = 'flex';\n    body.style.bottom = 'auto';\n    body.style.width = `${current.offsetWidth}px`;\n  }\n\n  closeSelect() {\n    const selects = document.querySelectorAll('.select');\n\n    const leaveSelectHead = this.leaveSelectHead.bind(this);\n\n    selects.forEach((item) => {\n      item.addEventListener('mouseleave', leaveSelectHead);\n    });\n\n    const closeSelectLeave = this.closeSelectLeave.bind(this);\n    document.body.addEventListener('mouseleave', closeSelectLeave);\n  }\n\n  leaveSelectHead(e) {\n    const t = e.target;\n\n    const body = t.querySelector('.select__body');\n\n    body.style.display = 'none';\n    t.classList.remove('open');\n  }\n\n  closeSelectLeave() {\n    const bodies = document.querySelectorAll('.select__body');\n\n    bodies.forEach((item) => {\n      item.style.display = 'none';\n    });\n  }\n\n  selectOption(props) {\n    const { selectBody } = props;\n    const options = selectBody.querySelectorAll('.select__option--status');\n\n    if (options.length) {\n      const setOptionSelected = this.setOptionSelected.bind(this, props);\n\n      options.forEach((item) => {\n        const option = utils.setCloneElement(item);\n        option.addEventListener('click', setOptionSelected);\n      });\n    }\n  }\n\n  setOptionSelected(props, e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const t = e.target;\n\n    const selectItem = utils.getParent(t, 'select');\n    const header = selectItem.querySelector('.select__head');\n    const selected = t;\n\n    const changes = utils.getParent(t, 'select').classList[1].split('_');\n\n    const statusChanges = changes[changes.length - 1];\n\n    header.querySelector('.select-head__placeholder').innerText = selected.innerText.trim();\n    header.setAttribute('data-code', selected.getAttribute('data-code'));\n    header.style.width = '100%';\n    header.style.transform = 'translate(0, 0)';\n\n    selectItem.className = 'select select-deal__status';\n\n    selectItem.classList.add(`deal-status__form_${selected.getAttribute('data-code')}`);\n\n    const data = {\n      id: utils.getParent(t, 'platform-table__row').getAttribute('data-deal'),\n      code: t.getAttribute('data-code'),\n      status: t.getAttribute('value'),\n      statusChanges,\n    };\n\n    _api_api_js__WEBPACK_IMPORTED_MODULE_1__.dealAPI.changeDealStatus(data).then(() => {\n      this.closeOthersSelect();\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SelectHover);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/select/selects/selectHover.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/select/template/templateSelect.js":
/*!**************************************************************************!*\
  !*** ./dev/static/js/platform/modules/select/template/templateSelect.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_selectOptions_selectOptions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils/selectOptions/selectOptions.js */ \"./dev/static/js/platform/utils/selectOptions/selectOptions.js\");\n\n\nconst selectOptions = new _utils_selectOptions_selectOptions_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass TempateSelect {\n  customSelectTemplate(selectItem, pack) {\n    const {\n      type,\n    } = selectItem;\n\n    selectItem.options = this.dispatchOptionsInSelect(selectItem, pack) || '';\n\n    switch (type.trim()) {\n      case 'select-product':\n      case 'select-managers':\n      case 'select-products':\n      case 'select-employees':\n      case 'select-projects':\n      case 'select-deal-type':\n      case 'select-social':\n      case 'select-tariff':\n      case 'select-funnel':\n      case 'select-payment-method':\n      case 'select-multiply-date':\n      case 'select-status-contract':\n      case 'select-stream': {\n        return this.customSelectTeplate(selectItem);\n      }\n      case 'select-status': {\n        return this.dealStatusSelectTemplate(selectItem);\n      }\n      default: {\n        break;\n      }\n    }\n  }\n\n  customSelectTeplate(selectItem) {\n    const {\n      required,\n      placeholder,\n      mode,\n      name,\n      options,\n      defaultValue,\n      defaultPlaceholder,\n      openUp,\n      type,\n    } = selectItem;\n\n    const placeholderValue = defaultPlaceholder || (placeholder || '');\n\n    const noActiveContract = type === 'select-status-contract' && !defaultValue ? 'no-active-contract' : false;\n    const addClass = type === 'select-status-contract' && defaultValue ? 'active-contract' : noActiveContract;\n\n    return `\n      <div data-mode=\"${mode}\" data-select-adaptive=\"${openUp || 'false'}\" select class=\"select platform__select mt_5 ${addClass}\">\n        <input ${name ? `name=\"${name}\"` : ''} type=\"hidden\" value=\"${defaultValue || ''}\" id-selected ${required ? 'required' : ''}>\n        <div select-head class=\"select__head\" title=\"${placeholderValue}\">\n          <span class=\"select-head__placeholder\">${placeholderValue}</span>\n        </div>\n        <div select-body class=\"select__body\">\n          ${placeholder ? `\n            <div value class=\"select__option no-icon\">\n              ${placeholder}\n            </div>` : ''}\n          ${options || ''}\n        </div>\n      </div>\n    `;\n  }\n\n  dealStatusSelectTemplate(selectItem) {\n    const {\n      defaultValue,\n      defaultCode,\n      defaultPlaceholder,\n      mode,\n      name,\n      required,\n      placeholder,\n      options,\n      type,\n      openUp,\n    } = selectItem;\n\n    const addedClassProps = {\n      type,\n      defaultCode,\n      required,\n      mode,\n    };\n\n    let placeholderValue = defaultPlaceholder || (placeholder || '');\n\n    if (placeholderValue === 'Рассрочка') {\n      placeholderValue = 'Долями';\n    }\n\n    const addedClass = this.getAddedClass(addedClassProps);\n\n    return `\n      <div data-mode=\"${mode}\" data-select-adaptive=\"${openUp || 'false'}\" select class=\"select platform__select ${addedClass}\">\n        <input ${name ? `name=\"${name}\"` : ''} type=\"hidden\" value=\"${defaultValue}\" id-selected ${required ? 'required' : ''}>\n        <div select-head class=\"select__head\" title=\"${placeholderValue}\">\n          <span class=\"select-head__placeholder\">${placeholderValue}</span>\n        </div>\n        <div select-body class=\"select__body\">\n          ${placeholder ? `\n            <div value class=\"select__option select__option--status no-icon\">\n              ${placeholder}\n            </div>` : ''}\n            ${options || ''}\n        </div>\n      </div>`;\n  }\n\n  getAddedClass(props) {\n    const {\n      type,\n      defaultCode,\n      mode,\n      required,\n    } = props;\n\n    const isStatusSelect = type === 'select-status' ? `deal-status__form_${defaultCode}` : '';\n\n    const classType = isStatusSelect;\n\n    const selectRequired = mode === 'custom' && !required ? 'deal-status__select' : false;\n    const selectUnReequired = mode === 'custom' && required ? 'mt_5' : false;\n\n    const classMode = selectRequired || selectUnReequired;\n\n    return `${classType} ${classMode}`;\n  }\n\n  dispatchOptionsInSelect(selectItem, pack) {\n    const { analyticsFilterData } = pack;\n    const { type } = selectItem;\n\n    switch (type) {\n      case 'select-managers': {\n        const { managers } = analyticsFilterData;\n\n        const setOptionsManagers = selectOptions.optionManagers.bind(selectOptions);\n\n        return managers.map(setOptionsManagers).join('');\n      }\n      case 'select-products': {\n        const { courses } = analyticsFilterData;\n\n        const setOptionsProducts = selectOptions.optionProducts.bind(selectOptions);\n\n        return courses.map(setOptionsProducts).join('');\n      }\n      case 'select-employees': {\n        const { employees } = analyticsFilterData;\n\n        const setOptionEmployees = selectOptions.optionEmployees.bind(selectOptions);\n\n        return employees.map(setOptionEmployees).join('');\n      }\n      case 'select-projects': {\n        const { projects } = analyticsFilterData;\n\n        const setOptionEmployees = selectOptions.optionProject.bind(selectOptions);\n\n        return projects.map(setOptionEmployees).join('');\n      }\n      case 'select-deal-type': {\n        const { saleType } = pack;\n\n        const setOptionSaleType = selectOptions.optionSaleType.bind(selectOptions);\n\n        return saleType.map(setOptionSaleType).join('');\n      }\n      case 'select-status': {\n        const { dealStatuses } = pack;\n\n        const setStatusOptions = selectOptions.setStatusOptions.bind(selectOptions);\n\n        return dealStatuses.map(setStatusOptions).join('');\n      }\n      case 'select-social': {\n        const { social } = pack;\n\n        const setSocialOptions = selectOptions.setSocialOptions.bind(selectOptions);\n\n        return social.map(setSocialOptions).join('');\n      }\n      case 'select-product': {\n        const { products } = pack;\n\n        const setProductOptions = selectOptions.setProductOptions.bind(selectOptions);\n\n        return products.map(setProductOptions).join('');\n      }\n      case 'select-tariff': {\n        const { tariffs } = pack;\n\n        const setTariffsOptions = selectOptions.setTariffsOptions.bind(selectOptions);\n\n        return tariffs?.map(setTariffsOptions).join('');\n      }\n      case 'select-stream': {\n        const { streams } = pack;\n\n        const setStreamsOptions = selectOptions.setStreamsOptions.bind(selectOptions);\n\n        return streams && Array.isArray(streams) ? streams.map(setStreamsOptions).join('') : false;\n      }\n      case 'select-payment-method': {\n        const { paymentMethods } = pack;\n\n        const setPaymentMethodsOptions = selectOptions.setPaymentMethodsOptions.bind(selectOptions);\n\n        return paymentMethods?.map(setPaymentMethodsOptions).join('');\n      }\n      case 'select-multiply-date': {\n        const { streams } = pack;\n        const setOptions = selectOptions.setDateToSelectInPaymentFormBuilder.bind(selectOptions);\n\n        return streams?.map(setOptions).join('');\n      }\n      case 'select-status-contract': {\n        const contractStatus = [true, false];\n\n        const setOptionsContract = selectOptions.setContractOptions.bind(selectOptions);\n\n        return contractStatus.map(setOptionsContract).join('');\n      }\n      default: {\n        break;\n      }\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TempateSelect);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/select/template/templateSelect.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/tooltip/events/tooltipDealCard.js":
/*!**************************************************************************!*\
  !*** ./dev/static/js/platform/modules/tooltip/events/tooltipDealCard.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass TooltipDealCard {\n  init(dealCardPack) {\n    this.showTooltipAccessManager(dealCardPack);\n  }\n\n  showTooltipAccessManager(dealCardPack) {\n    const { deals, menu } = dealCardPack;\n\n    if (deals) {\n      deals.forEach((item) => {\n        const card = menu ? menu.querySelector(`.deal-card[data-deal=\"${item.id}\"]`) : '';\n\n        if (card) {\n          const manager = card.querySelector('.deal-card__author');\n          const showTooltip = this.showTooltip.bind(this);\n          const hideTooltip = this.hideTooltip.bind(this);\n\n          const cloneManager = utils.setCloneElement(manager);\n\n          cloneManager.addEventListener('mouseenter', showTooltip);\n          cloneManager.addEventListener('mouseleave', hideTooltip);\n        }\n      });\n    }\n  }\n\n  showTooltip(e) {\n    const t = e.target;\n\n    if (!t.classList.contains('deal-card__author')) return false;\n\n    const rect = t.getBoundingClientRect();\n\n    const tooltip = t.querySelector('.tooltip');\n\n    tooltip.style.opacity = '1';\n    tooltip.style.left = rect.left;\n\n    tooltip.style.bottom = 'auto';\n    tooltip.style.top = rect.top;\n    tooltip.style.transform = 'translate(-25%, calc(-100% - 10px))';\n  }\n\n  hideTooltip(e) {\n    const t = e.target;\n\n    if (!t.classList.contains('deal-card__author')) return false;\n\n    const tooltip = t.querySelector('.tooltip');\n    tooltip.style.opacity = '0';\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TooltipDealCard);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/tooltip/events/tooltipDealCard.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/tooltip/events/tooltipDealRow.js":
/*!*************************************************************************!*\
  !*** ./dev/static/js/platform/modules/tooltip/events/tooltipDealRow.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass TooltipDealRow {\n  init(props) {\n    const tooltipWrapper = document.querySelectorAll('[data-deal-reminder]');\n\n    if (tooltipWrapper.length) {\n      const showTooltip = this.showTooltip.bind(this, props);\n      const hideTooltip = this.hideTooltip.bind(this, props);\n\n      tooltipWrapper.forEach((item) => {\n        item.addEventListener('mouseover', showTooltip);\n        item.addEventListener('mouseleave', hideTooltip);\n      });\n    }\n  }\n\n  showTooltip(props, e) {\n    const t = e.target;\n\n    const rect = t.getBoundingClientRect();\n\n    const tooltip = t.querySelector('.tooltip');\n\n    if (tooltip) {\n      tooltip.style.opacity = '1';\n      tooltip.style.left = rect.left;\n\n      tooltip.style.bottom = 'auto';\n      tooltip.style.top = rect.top;\n      tooltip.style.transform = 'translate(-25%, calc(-100% - 10px))';\n    }\n  }\n\n  hideTooltip(props, e) {\n    const t = e.target;\n\n    const tooltip = utils.getParent(t, 'reminder').querySelector('.tooltip');\n\n    if (tooltip) {\n      tooltip.style.opacity = '0';\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TooltipDealRow);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/tooltip/events/tooltipDealRow.js?");

/***/ }),

/***/ "./dev/static/js/platform/modules/tooltip/tooltip.js":
/*!***********************************************************!*\
  !*** ./dev/static/js/platform/modules/tooltip/tooltip.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _events_tooltipDealCard_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events/tooltipDealCard.js */ \"./dev/static/js/platform/modules/tooltip/events/tooltipDealCard.js\");\n/* harmony import */ var _events_tooltipDealRow_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events/tooltipDealRow.js */ \"./dev/static/js/platform/modules/tooltip/events/tooltipDealRow.js\");\n\n\n\n\nconst tooltipDealCard = new _events_tooltipDealCard_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst tooltipDealRow = new _events_tooltipDealRow_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass Tooltip {\n  init(dealCardPack) {\n    const tooltipProps = this.#getProps(dealCardPack);\n\n    const items = [tooltipDealCard, tooltipDealRow];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(tooltipProps);\n    });\n  }\n\n  #getProps(props) {\n    return utils.getDeepCopy(props);\n  }\n\n  tooltipListener(tooltipClass) {\n    this.arr.forEach((item) => {\n      clearTimeout(item);\n    });\n\n    const tooltip = document.querySelector(`.${tooltipClass}`);\n\n    if (tooltip) {\n      tooltip.style.opacity = '0';\n    }\n  }\n\n  tooltipInit(input, tooltipClass) {\n    const tooltipOnPage = document.querySelector(`.${tooltipClass}`);\n\n    if (!tooltipOnPage) {\n      const error = document.createElement('div');\n      error.classList.add('validate-error');\n\n      error.classList.add(tooltipClass);\n\n      error.innerText = 'Формат даты: ДД.ММ.ГГГГ';\n\n      input.parentNode.appendChild(error);\n\n      setTimeout(() => {\n        error.style.opacity = '1';\n      }, 100);\n    } else {\n      tooltipOnPage.style.opacity = '1';\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Tooltip);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/modules/tooltip/tooltip.js?");

/***/ }),

/***/ "./dev/static/js/platform/platform.js":
/*!********************************************!*\
  !*** ./dev/static/js/platform/platform.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _store_store_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./store/store.js */ \"./dev/static/js/platform/store/store.js\");\n/* harmony import */ var _menu_menu_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./menu/menu.js */ \"./dev/static/js/platform/menu/menu.js\");\n\n\n\nconst menu = new _menu_menu_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass Platform {\n    init(props) {\n        const { role, users } = props;\n        const user = users.find((el) => el.role === role);\n\n        const platformData = {\n            pack: {\n                ...props,\n            },\n            user: user.instance,\n        };\n\n        const { instance } = user;\n        platformData.user = user;\n\n        instance.init(platformData);\n    }\n}\n\nconst platform = new Platform();\n\n_store_store_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].then((props) => {\n    const items = [platform, menu];\n\n    items.forEach((item) => {\n        const init = item.init.bind(item);\n        init(props);\n    });\n});\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/platform.js?");

/***/ }),

/***/ "./dev/static/js/platform/store/settings/stateFromAJAX.js":
/*!****************************************************************!*\
  !*** ./dev/static/js/platform/store/settings/stateFromAJAX.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../api/api.js */ \"./dev/static/js/platform/api/api.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nconst DEALS = 'deals';\nconst TRANSACTIONS = 'transactions';\nconst HEAD_MANAGER_TRANSACTIONS = 'head-manager-transactions';\nconst FUNNELS = 'funnels';\nconst PAYMENT_FORM_BUILDER = 'payment-form-builder';\nconst CLIENTS_LIST = 'clients-list';\nconst BILLS = 'bills';\nconst HEAD_MANAGER_BILLS = 'head-manager-bills';\nconst HOMEWORK = 'homework';\nconst A_ADVERTISING = 'a-advertising';\nconst BANNERS_SETTINGS = 'banners-settings';\nconst PERFORMANCE_ASSESSMENT_RATING = 'rating';\nconst PERFORMANCE_ASSESSMENT = 'performance-assessment';\nconst FUNNEL = 'funnel';\nconst TRAFFIC = 'traffic';\nconst ADDITIONAL = 'additional';\nconst BILL_PATTERN = 'bill-pattern';\nconst PERFORMANCE_ASSESSMENT_DEBATE = 'debate';\nconst SETTINGS_CONTRACTS = 'settings-contracts';\n\nclass StateFromAJAX {\n  async createState(props) {\n    const { page, html } = props;\n\n    switch (page) {\n      case TRANSACTIONS:\n      case HEAD_MANAGER_TRANSACTIONS:\n      case DEALS:\n      case CLIENTS_LIST:\n      case BILLS:\n      case HEAD_MANAGER_BILLS:\n      case HOMEWORK:\n      case PERFORMANCE_ASSESSMENT:\n      case PERFORMANCE_ASSESSMENT_DEBATE:\n      case PERFORMANCE_ASSESSMENT_RATING: {\n        const changeDealStatusName = this.changeDealStatusName.bind(this);\n\n        const statuses = await _api_api_js__WEBPACK_IMPORTED_MODULE_0__.dealAPI.getStatuses();\n        const dealStatuses = utils.changeDealStatuses(statuses.map(changeDealStatusName));\n        const paymentMethods = await _api_api_js__WEBPACK_IMPORTED_MODULE_0__.dealAPI.getPaymentMethods();\n        const products = await _api_api_js__WEBPACK_IMPORTED_MODULE_0__.dealAPI.getCourses();\n        const funnels = await _api_api_js__WEBPACK_IMPORTED_MODULE_0__.dealAPI.getFunnels();\n        const social = await _api_api_js__WEBPACK_IMPORTED_MODULE_0__.dealAPI.getSocials();\n\n        this.state = {\n          dealStatuses,\n          paymentMethods,\n          products,\n          funnels,\n          social,\n        };\n        break;\n      }\n      case FUNNELS:\n      case FUNNEL:\n      case TRAFFIC:\n      case ADDITIONAL:\n      case A_ADVERTISING: {\n        const funnels = await _api_api_js__WEBPACK_IMPORTED_MODULE_0__.dealAPI.getFunnels();\n\n        this.state = {\n          funnels,\n        };\n        break;\n      }\n      case PAYMENT_FORM_BUILDER: {\n        const products = await _api_api_js__WEBPACK_IMPORTED_MODULE_0__.dealAPI.getCourses();\n        const funnels = await _api_api_js__WEBPACK_IMPORTED_MODULE_0__.dealAPI.getFunnels();\n        const paymentForms = await _api_api_js__WEBPACK_IMPORTED_MODULE_0__.paymentFormAPI.getPaymentForms();\n        const outsideLinks = await _api_api_js__WEBPACK_IMPORTED_MODULE_0__.paymentFormAPI.getOutsideLinks();\n        const paymentMethods = await _api_api_js__WEBPACK_IMPORTED_MODULE_0__.dealAPI.getPaymentMethods();\n\n        this.state = {\n          products,\n          funnels,\n          paymentForms,\n          outsideLinks,\n          paymentMethods,\n        };\n        break;\n      }\n      case BANNERS_SETTINGS: {\n        const { company } = html;\n        const { id } = company;\n\n        const banners = await _api_api_js__WEBPACK_IMPORTED_MODULE_0__.bannerAPI.getBanners(id);\n        const products = await _api_api_js__WEBPACK_IMPORTED_MODULE_0__.dealAPI.getCourses();\n\n        this.state = {\n          banners,\n          products,\n        };\n        break;\n      }\n      case BILL_PATTERN: {\n        const templates = await _api_api_js__WEBPACK_IMPORTED_MODULE_0__.billTemplateAPI.getBillTemplates();\n\n        this.state = {\n          templates,\n        };\n        break;\n      }\n      case SETTINGS_CONTRACTS: {\n        const contracts = await _api_api_js__WEBPACK_IMPORTED_MODULE_0__.contractAPI.getContracts();\n        const typesContracts = await _api_api_js__WEBPACK_IMPORTED_MODULE_0__.contractAPI.getTypes();\n\n        this.state = {\n          contracts,\n          typesContracts,\n        };\n        break;\n      }\n      default:\n        break;\n    }\n  }\n\n  getState() {\n    return this.state;\n  }\n\n  changeDealStatusName(item) {\n    item.title = item.title === 'Рассрочка' ? 'Долями' : item.title;\n\n    return item;\n  }\n\n  changeArrayStatuses(dealStatuses) {\n    const status = dealStatuses.concat();\n    const unknow = status.splice(status.length - 1, status.length - 1)[0];\n    const startArr = status.splice(0, 4);\n\n    startArr.push(unknow);\n\n    status.forEach((item) => {\n      startArr.push(item);\n    });\n\n    return startArr;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (StateFromAJAX);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/store/settings/stateFromAJAX.js?");

/***/ }),

/***/ "./dev/static/js/platform/store/settings/stateFromHTML.js":
/*!****************************************************************!*\
  !*** ./dev/static/js/platform/store/settings/stateFromHTML.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* eslint-disable */\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nconst FUNNEL = 'funnel';\nconst ADDITIONAL = 'additional';\nconst TRAFFIC = 'traffic';\nconst BANNERS_SETTINGS = 'banners-settings';\nconst PUBLIC_REGISTRATION = 'public-registration';\nconst PAYMENT_FORM_PUBLIC = 'payment-form-public';\nconst DEALS = 'deals';\nconst TRANSACTIONS = 'transactions';\nconst HEAD_MANAGER_TRANSACTIONS = 'head-manager-transactions';\nconst BILLS = 'bills';\nconst HEAD_MANAGER_BILLS = 'head-manager-bills';\nconst CLIENTS_LIST = 'clients-list';\nconst PAYMENT_FORM_BUILDER = 'payment-form-builder';\nconst RATING = 'rating';\nconst A_ADVERTISING = 'a-advertising';\nconst PERFORMANCE_ASSESSMENT_DEBATE = 'debate';\nconst BILL_PAYMENT = 'bill-payment';\n\nclass StateFromHTML {\n  createState() {\n    const page = utils.getPage();\n    const prePage = utils.getPage(2);\n\n    this.htmlData = {\n      filter: filter ?? null,\n      role: role ?? null,\n      items: items ?? null,\n      today: today ?? null,\n      manager: manager ?? null,\n      company: company ?? null,\n      managers: managers ?? null,\n    };\n\n    this.checkPage(page);\n    this.checkPrePage(prePage);\n  }\n\n  checkPage(page) {\n    switch (page) {\n      case BILL_PAYMENT: {\n        this.htmlData.client = client ?? null;\n        break;\n      }\n      case FUNNEL: {\n        this.htmlData.analytics = this.getAnaltycDataGeneral();\n        this.htmlData.analyticsFilterData = this.getAnalyticFilterData();\n        this.getDealData();\n        break;\n      }\n      case TRAFFIC: {\n        this.htmlData.analytics = this.getAnaltycDataTraffic();\n        break;\n      }\n      case ADDITIONAL: {\n        this.htmlData.analytics = this.getAnaltycDataAdditional();\n        break;\n      }\n      case BANNERS_SETTINGS: {\n        this.htmlData.banners = this.getBannersModules();\n        break;\n      }\n      case DEALS:\n      case TRANSACTIONS:\n      case HEAD_MANAGER_TRANSACTIONS:\n      case CLIENTS_LIST:\n      case BILLS:\n      case HEAD_MANAGER_BILLS:\n      case PAYMENT_FORM_BUILDER:\n      case A_ADVERTISING:\n      case PERFORMANCE_ASSESSMENT_DEBATE:\n      case RATING: {\n        this.getDealData();\n      }\n      default: {\n        break;\n      }\n    }\n  }\n\n  getAnalyticFilterData() {\n    return utils.getDeepCopy(filterOptions);\n  }\n\n  checkPrePage(prePage) {\n    switch (prePage) {\n      case PUBLIC_REGISTRATION: {\n        this.htmlData.form = this.getFormRegistration();\n        this.htmlData.docs = this.getDocs();\n        break;\n      }\n      case PAYMENT_FORM_PUBLIC: {\n        this.htmlData.form = this.getFormPublic();\n        break;\n      }\n      default: {\n        break;\n      }\n    }\n  }\n\n  getState() {\n    return utils.getDeepCopy(this.htmlData);\n  }\n\n  getAnaltycDataGeneral() {\n    return {\n      totalRevenue: totalRevenue ?? null, // Выручка общая\n      managerTotalRevenue: managerTotalRevenue ?? null,\n      trafficRevenue: trafficRevenue ?? null, // Выручка траффик\n      managerTrafficRevenue: managerTrafficRevenue ?? null,\n      additionalRevenue: additionalRevenue ?? null, // Выручка База\n      managerAdditionalRevenue: managerAdditionalRevenue ?? null,\n      advExpenses: advExpenses ?? null, // Раходы на рекламу\n      managerAdvExpenses: managerAdvExpenses ?? null,\n      shareAdvExpensesTrafficPage: shareAdvExpensesTrafficPage ?? null, // % ДРР (доля рекламных расходов)\n      managerShareAdvExpensesTrafficPage: managerShareAdvExpensesTrafficPage ?? null,\n      kpd: kpd ?? null, // КПД\n      managerKpd: managerKpd ?? null,\n      sales: sales ?? null, // Продажи всего\n      managerSales: managerSales ?? null,\n      salesTraffic: salesTraffic ?? null, // Продажи траффик\n      managerSalesTraffic: managerSalesTraffic ?? null,\n      salesMailing: salesMailing ?? null, // Продажа рассылка\n      managerSalesMailing: managerSalesMailing ?? null,\n      salesAdditional: salesAdditional ?? null, // Продажа База\n      managerSalesAdditional: managerSalesAdditional ?? null,\n      rejectsRow: rejectsRow ?? null, // Отказы\n      managerRejectsRow: mRejectsRow ?? null,\n      average: average ?? null, // Средний чек \n      managerAverage: managerAverage ?? null,\n      averageTrafficMailing: averageTrafficMailing ?? null, // Средний чек траффик\n      managerAverageTrafficMailing: managerAverageTrafficMailing ?? null,\n      averageAdditional: averageAdditional ?? null, // Средний чек база\n      managerAverageAdditional: managerAverageAdditional ?? null,\n      profit: profit ?? null, // Выручка общая - расходы на рекламу\n      managerProfit: managerProfit ?? null,\n      rating: rating ?? null, // Рэйтинг\n      managerRating: managerRating ?? null,\n      kpdColor: kpdColor ?? null, // КПД цвет\n      ratingColor: ratingColor ?? null, // Рейтинг цвет\n    }\n  }\n\n  getAnaltycDataTraffic() {\n    return {\n      totalRevenue: totalRevenue ?? null, // Выручка общая\n      managerTotalRevenue: managerTotalRevenue ?? null,\n      advExpenses: advExpenses ?? null, // Раходы на рекламу\n      managerAdvExpenses: managerAdvExpenses ?? null,\n      profit: profit ?? null, // Выручка общая - расходы на рекламу\n      managerProfit: managerProfit ?? null,\n      shareAdvExpensesTrafficPage: shareAdvExpensesTrafficPage ?? null, // % ДРР (доля рекламных расходов)\n      managerShareAdvExpensesTrafficPage: managerShareAdvExpensesTrafficPage ?? null,\n      kpd: kpd ?? null, // КПД\n      managerKpd: managerKpd ?? null,\n      advShow: advShow ?? null, // Показов\n      managerAdvShow: managerAdvShow ?? null,\n      advClick: advClick ?? null, // Кликов\n      managerAdvClick: managerAdvClick ?? null,\n      advApplication: advApplication ?? null, // Заявок\n      managerAdvApplication: managerAdvApplication ?? null,\n      importantRow: importantRow ?? null, // Целевых заявок\n      managerImportantRow: managerImportantRow ?? null,\n      invoices: invoices ?? null, // Заказов\n      managerInvoices: managerInvoices ?? null,\n      salesNewClient: salesNewClient ?? null, // Продаж\n      managerSalesNewClient: managerSalesNewClient ?? null,\n      salesNewClientNM: salesNewClientNM ?? null, // Продаж без рассылки\n      managerSalesNewClientNM: salesMNewClientNM ?? null,\n      salesNewClientM: salesNewClientM ?? null, // Продаж с рассылки\n      managerSalesNewClientM: salesMNewClientM ?? null,\n      rejectsRow: rejectsRow ?? null, // Отказы\n      managerRejectsRow: mRejectsRow ?? null,\n      newClientsDo: newClientsDo ?? null, // Новых клиентов по ДО\n      managerNewClientsDo: newMClientsDo ?? null,\n      newClientsTraffic: newClientsTraffic ?? null, // Новых клиентов с трафика за период\n      managerNewClientsTraffic: newMClientsTraffic ?? null,\n      newClientsAll: newClientsAll ?? null, // Дотекло клиентов по ДО\n      managerNewClientsAll: newMClientsAll ?? null,\n      newClientsWithoutMailing: newClientsWithoutMailing ?? null, // Дотекло клиентов по ДО (без рассылки)\n      managerNewClientsWithoutMailing: newMClientsWithoutMailing ?? null,\n      newClientsWithMailing: newClientsWithMailing ?? null, // Дотекло клиентов по ДО (по рассылке)\n      managerNewClientsWithMailing: newMClientsWithMailing ?? null,\n      averageCheckTraffic: averageCheckTraffic ?? null, // Средний чек\n      managerAverageCheckTraffic: managerAverageCheckTraffic ?? null,\n      showPrice: showPrice ?? null, // Стоимость 1000 показов\n      managerShowPrice: mShowPrice ?? null,\n      clickPrice: clickPrice ?? null, // Стоимость клика\n      managerClickPrice: mClickPrice ?? null,\n      applicationPrice: applicationPrice ?? null, // Стоимость заявки\n      managerApplicationPrice: mApplicationPrice ?? null,\n      importantPriceRow: importantPriceRow ?? null, // Стоимость целевой заявки\n      managerImportantPriceRow: mImportantPriceRow ?? null,\n      invoicePrice: invoicePrice ?? null, // Стоимость заказа\n      managerInvoicePrice: mInvoicePrice ?? null,\n      clientPrice: clientPrice ?? null, // Стоимость клиента\n      managerClientPrice: mClientPrice ?? null,\n      clientPriceDo: clientPriceDo ?? null, // Стоимость клиента по ДО\n      managerClientPriceDo: mClientPriceDo ?? null,\n      showToClick: showToClick ?? null, // CV из показа в клик\n      managerShowToClick: mShowToClick ?? null,\n      clickToApplication: clickToApplication ?? null, // CV1 из клика в заявку\n      managerClickToApplication: mClickToApplication ?? null,\n      applicationToInvoice: applicationToInvoice ?? null, // CV2 из заявки в заказ\n      managerApplicationToInvoice: mApplicationToInvoice ?? null,\n      invoiceToClient: invoiceToClient ?? null, // CV3 из заказа в оплату\n      managerInvoiceToClient: mInvoiceToClient ?? null,\n      applicationToClient: applicationToClient ?? null, // CV4 из заявки в оплату\n      managerApplicationToClient: mApplicationToClient ?? null,\n      clickToApplicationDo: clickToApplicationDo ?? null, // CV4 из заявки в оплату по ДО\n      managerClickToApplicationDo: mClickToApplicationDo ?? null,\n      CV5Row: CV5Row ?? null, // CV из целевой заявки в оплату по ДО\n      managerCV5Row: mCV5Row ?? null,\n    }\n  }\n\n  getAnaltycDataAdditional() {\n    return {\n      additionalRevenue: additionalRevenue ?? null, // Выручка База\n      managerAdditionalRevenue: managerAdditionalRevenue ?? null,\n      prescribed: prescribed ?? null, // Кол-во прописанных людей\n      managerPrescribed: managerPrescribed ?? null,\n      salesAdditional: salesAdditional ?? null, // Продажа База\n      managerSalesAdditional: managerSalesAdditional ?? null,\n      rejectsRow: rejectsRow ?? null, // Отказы\n      managerRejectsRow: mRejectsRow ?? null,\n      averageAdditional: averageAdditional ?? null, // Средний чек база\n      managerAverageAdditional: managerAverageAdditional ?? null,\n      prescribedToSale: prescribedToSale ?? null, // CV из прописанных людей в продажи\n      managerPrescribedToSale: managerPrescribedToSale ?? null,\n    }\n  }\n\n  getBannersModules() {\n    return banners ?? null;\n  }\n\n  getFormRegistration() {\n    return form ?? null;\n  }\n\n  getFormPublic() {\n    return {\n      ...form,\n    };\n  }\n\n  getStreams() {\n    return streams?.length !== 0 ? streams : [];\n  }\n\n  getDealData() {\n    this.htmlData.saleType = [\n      {\n        value: 'traffic',\n        name: 'Трафик',\n      },\n      {\n        value: 'additional',\n        name: 'База',\n      }\n    ];\n  }\n\n  getDocs() {\n    return docs?.length ? docs : [];\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (StateFromHTML);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/store/settings/stateFromHTML.js?");

/***/ }),

/***/ "./dev/static/js/platform/store/store.js":
/*!***********************************************!*\
  !*** ./dev/static/js/platform/store/store.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _settings_stateFromAJAX_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./settings/stateFromAJAX.js */ \"./dev/static/js/platform/store/settings/stateFromAJAX.js\");\n/* harmony import */ var _settings_stateFromHTML_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./settings/stateFromHTML.js */ \"./dev/static/js/platform/store/settings/stateFromHTML.js\");\n/* harmony import */ var _users_admin_admin_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../users/admin/admin.js */ \"./dev/static/js/platform/users/admin/admin.js\");\n/* harmony import */ var _users_manager_manager_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../users/manager/manager.js */ \"./dev/static/js/platform/users/manager/manager.js\");\n/* harmony import */ var _users_examiner_examiner_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../users/examiner/examiner.js */ \"./dev/static/js/platform/users/examiner/examiner.js\");\n/* harmony import */ var _users_headManager_headManager_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../users/headManager/headManager.js */ \"./dev/static/js/platform/users/headManager/headManager.js\");\n/* harmony import */ var _users_client_client_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../users/client/client.js */ \"./dev/static/js/platform/users/client/client.js\");\n/* harmony import */ var _users_control_control_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../users/control/control.js */ \"./dev/static/js/platform/users/control/control.js\");\n\n\n\n\n\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst htmlData = new _settings_stateFromHTML_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst ajaxData = new _settings_stateFromAJAX_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass Store {\n  async setState(pageState) {\n    if (!Array.isArray(pageState)) return false;\n\n    const [html, ajax] = pageState;\n\n    html.createState();\n\n    const ajaxProps = {\n      page: utils.getPage(),\n      html: html.getState(),\n    };\n\n    await ajax.createState(ajaxProps);\n\n    const ajaxState = ajax.getState();\n    const htmlState = html.getState();\n    const users = this.getUsers();\n\n    return {\n      ...htmlState,\n      ...ajaxState,\n      selectObsArr: [],\n      users: [...users],\n    };\n  }\n\n  getUsers() {\n    return [\n      {\n        instance: new _users_admin_admin_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](),\n        role: 'ROLE_ADMIN',\n      },\n      {\n        instance: new _users_manager_manager_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"](),\n        role: 'ROLE_MANAGER',\n      },\n      {\n        instance: new _users_examiner_examiner_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"](),\n        role: 'ROLE_EXAMINER',\n      },\n      {\n        instance: new _users_headManager_headManager_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"](),\n        role: 'ROLE_HEAD_MANAGER',\n      },\n      {\n        instance: new _users_control_control_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"](),\n        role: 'ROLE_CONTROL',\n      },\n      {\n        instance: new _users_client_client_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"](),\n        role: null,\n      },\n    ];\n  }\n}\n\nconst store = new Store();\n\nconst state = store.setState([htmlData, ajaxData]);\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (state);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/store/store.js?");

/***/ }),

/***/ "./dev/static/js/platform/users/admin/admin.js":
/*!*****************************************************!*\
  !*** ./dev/static/js/platform/users/admin/admin.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _user_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../user.js */ \"./dev/static/js/platform/users/user.js\");\n/* harmony import */ var _events_adminEvents_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events/adminEvents.js */ \"./dev/static/js/platform/users/admin/events/adminEvents.js\");\n/* harmony import */ var _contentManager_contentManager_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../contentManager/contentManager.js */ \"./dev/static/js/platform/contentManager/contentManager.js\");\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst adminEvents = new _events_adminEvents_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst contentManager = new _contentManager_contentManager_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass Admin extends _user_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n  constructor() {\n    super();\n  }\n\n  init(props) {\n    const { pack } = props;\n    const { items } = pack;\n\n    const renderData = {\n      items: items ? items.pageItems : null,\n      pack,\n    };\n\n    const render = this.renderContent(renderData);\n\n    render.then(() => {\n      utils.hideLoader();\n\n      this.showPagination(props);\n\n      const events = adminEvents.init.bind(adminEvents);\n      events(props);\n    });\n  }\n\n  renderContent(renderData) {\n    const render = contentManager.init.bind(contentManager);\n    return render(renderData);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Admin);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/users/admin/admin.js?");

/***/ }),

/***/ "./dev/static/js/platform/users/admin/events/adminEvents.js":
/*!******************************************************************!*\
  !*** ./dev/static/js/platform/users/admin/events/adminEvents.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _menu_items_crm_clientCard_clientCard_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../menu/items/crm/clientCard/clientCard.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/clientCard.js\");\n/* harmony import */ var _menu_items_crm_dealCard_dealCard_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../menu/items/crm/dealCard/dealCard.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/dealCard.js\");\n/* harmony import */ var _menu_items_monitor_monitor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../menu/items/monitor/monitor.js */ \"./dev/static/js/platform/menu/items/monitor/monitor.js\");\n/* harmony import */ var _modules_filter_filter_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../modules/filter/filter.js */ \"./dev/static/js/platform/modules/filter/filter.js\");\n/* harmony import */ var _menu_items_crm_dealRow_dealRowEvents_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../menu/items/crm/dealRow/dealRowEvents.js */ \"./dev/static/js/platform/menu/items/crm/dealRow/dealRowEvents.js\");\n/* harmony import */ var _menu_items_settings_funnel_funnel_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../menu/items/settings/funnel/funnel.js */ \"./dev/static/js/platform/menu/items/settings/funnel/funnel.js\");\n/* harmony import */ var _menu_items_marketing_marketing_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../menu/items/marketing/marketing.js */ \"./dev/static/js/platform/menu/items/marketing/marketing.js\");\n/* harmony import */ var _menu_items_settings_banner_banner_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../menu/items/settings/banner/banner.js */ \"./dev/static/js/platform/menu/items/settings/banner/banner.js\");\n/* harmony import */ var _menu_items_settings_payment_form_payment_form_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../menu/items/settings/payment-form/payment-form.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/payment-form.js\");\n/* harmony import */ var _menu_items_analytics_analytics_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../menu/items/analytics/analytics.js */ \"./dev/static/js/platform/menu/items/analytics/analytics.js\");\n/* harmony import */ var _modules_downloads_downloads_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../modules/downloads/downloads.js */ \"./dev/static/js/platform/modules/downloads/downloads.js\");\n/* harmony import */ var _menu_items_onlineOffice_onlineOffice_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../menu/items/onlineOffice/onlineOffice.js */ \"./dev/static/js/platform/menu/items/onlineOffice/onlineOffice.js\");\n/* harmony import */ var _menu_items_settings_bill_templates_billTemplates_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../menu/items/settings/bill-templates/billTemplates.js */ \"./dev/static/js/platform/menu/items/settings/bill-templates/billTemplates.js\");\n/* harmony import */ var _menu_items_settings_client_cleaner_clientCleaner_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../menu/items/settings/client-cleaner/clientCleaner.js */ \"./dev/static/js/platform/menu/items/settings/client-cleaner/clientCleaner.js\");\n/* harmony import */ var _menu_items_crm_searchClient_searchClient_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../menu/items/crm/searchClient/searchClient.js */ \"./dev/static/js/platform/menu/items/crm/searchClient/searchClient.js\");\n/* harmony import */ var _menu_items_settings_contracts_settingsContracts_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../menu/items/settings/contracts/settingsContracts.js */ \"./dev/static/js/platform/menu/items/settings/contracts/settingsContracts.js\");\n/* harmony import */ var _contentManager_contentManager_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../contentManager/contentManager.js */ \"./dev/static/js/platform/contentManager/contentManager.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import PaymentMethods from '../../../modules/payment-methods/paymentMethods.js';\n\n\n\n\nconst clientCard = new _menu_items_crm_clientCard_clientCard_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst dealCard = new _menu_items_crm_dealCard_dealCard_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst monitor = new _menu_items_monitor_monitor_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst filter = new _modules_filter_filter_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst dealRowEvents = new _menu_items_crm_dealRow_dealRowEvents_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\nconst funnel = new _menu_items_settings_funnel_funnel_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\nconst marketing = new _menu_items_marketing_marketing_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\nconst banner = new _menu_items_settings_banner_banner_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]();\nconst paymentForm = new _menu_items_settings_payment_form_payment_form_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]();\nconst analytics = new _menu_items_analytics_analytics_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"]();\nconst downloads = new _modules_downloads_downloads_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"]();\nconst onlineOffice = new _menu_items_onlineOffice_onlineOffice_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"]();\nconst billTemplates = new _menu_items_settings_bill_templates_billTemplates_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"]();\nconst clientCleaner = new _menu_items_settings_client_cleaner_clientCleaner_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"]();\nconst searchClient = new _menu_items_crm_searchClient_searchClient_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"]();\nconst settingsContracts = new _menu_items_settings_contracts_settingsContracts_js__WEBPACK_IMPORTED_MODULE_15__[\"default\"]();\n// const paymentMethods = new PaymentMethods();\n\nclass AdminEvents {\n  init(props) {\n    const items = [\n      clientCard,\n      dealCard,\n      monitor,\n      filter,\n      dealRowEvents,\n      funnel,\n      marketing,\n      analytics,\n      downloads,\n      banner,\n      paymentForm,\n      onlineOffice,\n      billTemplates,\n      clientCleaner,\n      searchClient,\n      settingsContracts,\n    ];\n\n    props.rowEventsObs = dealRowEvents;\n    props.clientCardObs = clientCard;\n    props.rerenderContent = new _contentManager_contentManager_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"]();\n\n    items.forEach((item) => {\n      item.init(props);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AdminEvents);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/users/admin/events/adminEvents.js?");

/***/ }),

/***/ "./dev/static/js/platform/users/client/client.js":
/*!*******************************************************!*\
  !*** ./dev/static/js/platform/users/client/client.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_clientEvents_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events/clientEvents.js */ \"./dev/static/js/platform/users/client/events/clientEvents.js\");\n/* harmony import */ var _contentManager_contentManager_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../contentManager/contentManager.js */ \"./dev/static/js/platform/contentManager/contentManager.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _user_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../user.js */ \"./dev/static/js/platform/users/user.js\");\n\n\n\n\n\nconst clientEvents = new _events_clientEvents_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst contentManager = new _contentManager_contentManager_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\nclass Client extends _user_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"] {\n  init(props) {\n    const { pack } = props;\n    const { items } = pack;\n\n    const renderData = {\n      items: items ? items.pageItems : null,\n      pack,\n    };\n\n    const render = this.renderContent(renderData);\n\n    render.then(() => {\n      utils.hideLoader();\n\n      this.showPagination(props);\n\n      const events = clientEvents.init.bind(clientEvents);\n      events(props);\n    });\n  }\n\n  renderContent(renderData) {\n    const render = contentManager.init.bind(contentManager);\n    return render(renderData);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Client);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/users/client/client.js?");

/***/ }),

/***/ "./dev/static/js/platform/users/client/events/clientEvents.js":
/*!********************************************************************!*\
  !*** ./dev/static/js/platform/users/client/events/clientEvents.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _menu_items_settings_payment_form_payment_form_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../menu/items/settings/payment-form/payment-form.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/payment-form.js\");\n/* harmony import */ var _modules_registration_registration_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../modules/registration/registration.js */ \"./dev/static/js/platform/modules/registration/registration.js\");\n/* harmony import */ var _modules_payment_report_payment_report_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../modules/payment-report/payment-report.js */ \"./dev/static/js/platform/modules/payment-report/payment-report.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _modules_bill_payment_bill_payment_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../modules/bill-payment/bill-payment.js */ \"./dev/static/js/platform/modules/bill-payment/bill-payment.js\");\n\n\n\n\n\n\nconst paymentForm = new _menu_items_settings_payment_form_payment_form_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst registration = new _modules_registration_registration_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst paymentReport = new _modules_payment_report_payment_report_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst billPayment = new _modules_bill_payment_bill_payment_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n\nconst PAYMENT_FORM_BUILDER = 'payment-form-builder';\nconst PAYMENT_FORM_PUBLIC = 'payment-form-public';\nconst PUBLIC_REGISTRATION = 'public-registration';\nconst REPORTS = ['payment-success', 'payment-error', 'payment-failed', 'toPayByUser', 'success'];\nconst PAYMENT_REPORTS = 'reports';\nconst BILL_PAYMENT = 'bill-payment';\n\nclass ClientEvents {\n    init(props) {\n        const page = REPORTS.includes(utils.getPage()) ? PAYMENT_REPORTS : utils.getPage();\n        const prePage = utils.getPage(2);\n\n        this.checkPage(page, props);\n        this.checkPrePage(prePage, props);\n    }\n\n    checkPage(page, props) {\n        switch (page) {\n            case BILL_PAYMENT: {\n                billPayment.init(props);\n                break;\n            }\n            case PAYMENT_FORM_BUILDER: {\n                paymentForm.init(props);\n                break;\n            }\n            case PAYMENT_REPORTS: {\n                paymentReport.init(props);\n                break;\n            }\n            default: {\n                break;\n            }\n        }\n    }\n\n    checkPrePage(prePage, props) {\n        switch (prePage) {\n            case PUBLIC_REGISTRATION: {\n                registration.init.bind(registration)(props);\n                break;\n            }\n            case PAYMENT_FORM_PUBLIC: {\n                paymentForm.init.bind(paymentForm)(props);\n                break;\n            }\n            default: {\n                break;\n            }\n        }\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ClientEvents);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/users/client/events/clientEvents.js?");

/***/ }),

/***/ "./dev/static/js/platform/users/control/control.js":
/*!*********************************************************!*\
  !*** ./dev/static/js/platform/users/control/control.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _user_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../user.js */ \"./dev/static/js/platform/users/user.js\");\n/* harmony import */ var _contentManager_contentManager_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../contentManager/contentManager.js */ \"./dev/static/js/platform/contentManager/contentManager.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _events_controlEvents_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./events/controlEvents.js */ \"./dev/static/js/platform/users/control/events/controlEvents.js\");\n\n\n\n\n\nconst contentManager = new _contentManager_contentManager_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst controlEvents = new _events_controlEvents_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass Control extends _user_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  init(props) {\n    const { pack } = props;\n    const { items } = pack;\n\n    const renderData = {\n      items: items ? items.pageItems : null,\n      pack,\n    };\n\n    const render = this.renderContent(renderData);\n\n    render.then(() => {\n      utils.hideLoader();\n\n      this.showPagination(props);\n\n      const events = controlEvents.init.bind(controlEvents);\n      events(props);\n    });\n  }\n\n  renderContent(renderData) {\n    const render = contentManager.init.bind(contentManager);\n    return render(renderData);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Control);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/users/control/control.js?");

/***/ }),

/***/ "./dev/static/js/platform/users/control/events/controlEvents.js":
/*!**********************************************************************!*\
  !*** ./dev/static/js/platform/users/control/events/controlEvents.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _modules_filter_filter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../modules/filter/filter.js */ \"./dev/static/js/platform/modules/filter/filter.js\");\n\n\nconst filter = new _modules_filter_filter_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass ControlEvents {\n  init(props) {\n    const items = [\n      filter,\n    ];\n\n    items.forEach((item) => {\n      const init = item.init.bind(item);\n      init(props);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ControlEvents);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/users/control/events/controlEvents.js?");

/***/ }),

/***/ "./dev/static/js/platform/users/examiner/events/examinerEvents.js":
/*!************************************************************************!*\
  !*** ./dev/static/js/platform/users/examiner/events/examinerEvents.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _menu_items_crm_clientCard_clientCard_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../menu/items/crm/clientCard/clientCard.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/clientCard.js\");\n/* harmony import */ var _menu_items_crm_dealCard_dealCard_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../menu/items/crm/dealCard/dealCard.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/dealCard.js\");\n/* harmony import */ var _menu_items_monitor_monitor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../menu/items/monitor/monitor.js */ \"./dev/static/js/platform/menu/items/monitor/monitor.js\");\n/* harmony import */ var _menu_items_crm_dealRow_dealRowEvents_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../menu/items/crm/dealRow/dealRowEvents.js */ \"./dev/static/js/platform/menu/items/crm/dealRow/dealRowEvents.js\");\n/* harmony import */ var _modules_filter_filter_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../modules/filter/filter.js */ \"./dev/static/js/platform/modules/filter/filter.js\");\n\n\n\n\n\n\nconst clientCard = new _menu_items_crm_clientCard_clientCard_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst dealCard = new _menu_items_crm_dealCard_dealCard_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst monitor = new _menu_items_monitor_monitor_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst dealRowEvents = new _menu_items_crm_dealRow_dealRowEvents_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst filter = new _modules_filter_filter_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n\nclass ExaminerEvents {\n  init(pack) {\n    const items = [filter, clientCard, dealCard, monitor, dealRowEvents];\n\n    items.forEach((item) => {\n      item.init(pack);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ExaminerEvents);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/users/examiner/events/examinerEvents.js?");

/***/ }),

/***/ "./dev/static/js/platform/users/examiner/examiner.js":
/*!***********************************************************!*\
  !*** ./dev/static/js/platform/users/examiner/examiner.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _contentManager_contentManager_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../contentManager/contentManager.js */ \"./dev/static/js/platform/contentManager/contentManager.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _user_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../user.js */ \"./dev/static/js/platform/users/user.js\");\n/* harmony import */ var _events_examinerEvents_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./events/examinerEvents.js */ \"./dev/static/js/platform/users/examiner/events/examinerEvents.js\");\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst contentManager = new _contentManager_contentManager_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst examinerEvents = new _events_examinerEvents_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass Examiner extends _user_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  constructor() {\n    super();\n  }\n\n  init(pack) {\n    const { items } = pack;\n\n    const renderData = {\n      items,\n      pack,\n    };\n\n    const render = this.renderContent(renderData);\n\n    render.then(() => {\n      utils.hideLoader();\n\n      this.showPagination(pack);\n\n      const events = examinerEvents.init.bind(this);\n      events(pack);\n    });\n  }\n\n  renderContent(renderData) {\n    const render = contentManager.init.bind(contentManager);\n    return render(renderData);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Examiner);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/users/examiner/examiner.js?");

/***/ }),

/***/ "./dev/static/js/platform/users/headManager/events/headManagerEvents.js":
/*!******************************************************************************!*\
  !*** ./dev/static/js/platform/users/headManager/events/headManagerEvents.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _menu_items_crm_clientCard_clientCard_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../menu/items/crm/clientCard/clientCard.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/clientCard.js\");\n/* harmony import */ var _menu_items_crm_dealCard_dealCard_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../menu/items/crm/dealCard/dealCard.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/dealCard.js\");\n/* harmony import */ var _menu_items_monitor_monitor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../menu/items/monitor/monitor.js */ \"./dev/static/js/platform/menu/items/monitor/monitor.js\");\n/* harmony import */ var _modules_filter_filter_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../modules/filter/filter.js */ \"./dev/static/js/platform/modules/filter/filter.js\");\n/* harmony import */ var _menu_items_crm_createClient_createClient_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../menu/items/crm/createClient/createClient.js */ \"./dev/static/js/platform/menu/items/crm/createClient/createClient.js\");\n/* harmony import */ var _menu_items_crm_dealRow_dealRowEvents_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../menu/items/crm/dealRow/dealRowEvents.js */ \"./dev/static/js/platform/menu/items/crm/dealRow/dealRowEvents.js\");\n/* harmony import */ var _modules_downloads_downloads_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../modules/downloads/downloads.js */ \"./dev/static/js/platform/modules/downloads/downloads.js\");\n/* harmony import */ var _menu_items_crm_searchClient_searchClient_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../menu/items/crm/searchClient/searchClient.js */ \"./dev/static/js/platform/menu/items/crm/searchClient/searchClient.js\");\n/* harmony import */ var _contentManager_contentManager_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../contentManager/contentManager.js */ \"./dev/static/js/platform/contentManager/contentManager.js\");\n\n\n\n\n\n\n\n\n\n\nconst clientCard = new _menu_items_crm_clientCard_clientCard_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst dealCard = new _menu_items_crm_dealCard_dealCard_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst monitor = new _menu_items_monitor_monitor_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst filter = new _modules_filter_filter_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst createClient = new _menu_items_crm_createClient_createClient_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\nconst dealRowEvents = new _menu_items_crm_dealRow_dealRowEvents_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\nconst downloads = new _modules_downloads_downloads_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\nconst searchClient = new _menu_items_crm_searchClient_searchClient_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]();\n\nclass HeadManagerEvents {\n  init(props) {\n    const items = [\n      createClient,\n      clientCard,\n      dealCard,\n      monitor,\n      filter,\n      dealRowEvents,\n      downloads,\n      searchClient,\n    ];\n\n    props.rowEventsObs = dealRowEvents;\n    props.clientCardObs = clientCard;\n    props.rerenderContent = new _contentManager_contentManager_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]();\n\n    items.forEach((item) => {\n      item.init(props);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (HeadManagerEvents);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/users/headManager/events/headManagerEvents.js?");

/***/ }),

/***/ "./dev/static/js/platform/users/headManager/headManager.js":
/*!*****************************************************************!*\
  !*** ./dev/static/js/platform/users/headManager/headManager.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _contentManager_contentManager_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../contentManager/contentManager.js */ \"./dev/static/js/platform/contentManager/contentManager.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _user_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../user.js */ \"./dev/static/js/platform/users/user.js\");\n/* harmony import */ var _events_headManagerEvents_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./events/headManagerEvents.js */ \"./dev/static/js/platform/users/headManager/events/headManagerEvents.js\");\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst contentManager = new _contentManager_contentManager_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst headManagerEvents = new _events_headManagerEvents_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass HeadManager extends _user_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  constructor() {\n    super();\n  }\n\n  init(props) {\n    const { pack } = props;\n    const { items } = pack;\n\n    const renderData = {\n      items: items ? items.pageItems : null,\n      pack,\n    };\n\n    const render = this.renderContent(renderData);\n\n    render.then(() => {\n      utils.hideLoader();\n\n      this.showPagination(props);\n\n      const events = headManagerEvents.init.bind(this);\n      events(props);\n    });\n  }\n\n  renderContent(renderData) {\n    const render = contentManager.init.bind(contentManager);\n    return render(renderData);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (HeadManager);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/users/headManager/headManager.js?");

/***/ }),

/***/ "./dev/static/js/platform/users/manager/events/managerEvents.js":
/*!**********************************************************************!*\
  !*** ./dev/static/js/platform/users/manager/events/managerEvents.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _menu_items_crm_clientCard_clientCard_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../menu/items/crm/clientCard/clientCard.js */ \"./dev/static/js/platform/menu/items/crm/clientCard/clientCard.js\");\n/* harmony import */ var _menu_items_crm_dealCard_dealCard_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../menu/items/crm/dealCard/dealCard.js */ \"./dev/static/js/platform/menu/items/crm/dealCard/dealCard.js\");\n/* harmony import */ var _menu_items_crm_createClient_createClient_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../menu/items/crm/createClient/createClient.js */ \"./dev/static/js/platform/menu/items/crm/createClient/createClient.js\");\n/* harmony import */ var _menu_items_monitor_monitor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../menu/items/monitor/monitor.js */ \"./dev/static/js/platform/menu/items/monitor/monitor.js\");\n/* harmony import */ var _modules_filter_filter_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../modules/filter/filter.js */ \"./dev/static/js/platform/modules/filter/filter.js\");\n/* harmony import */ var _menu_items_crm_dealRow_dealRowEvents_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../menu/items/crm/dealRow/dealRowEvents.js */ \"./dev/static/js/platform/menu/items/crm/dealRow/dealRowEvents.js\");\n/* harmony import */ var _menu_items_crm_searchClient_searchClient_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../menu/items/crm/searchClient/searchClient.js */ \"./dev/static/js/platform/menu/items/crm/searchClient/searchClient.js\");\n/* harmony import */ var _contentManager_contentManager_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../contentManager/contentManager.js */ \"./dev/static/js/platform/contentManager/contentManager.js\");\n\n\n\n\n\n\n\n\n\nconst clientCard = new _menu_items_crm_clientCard_clientCard_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst dealCard = new _menu_items_crm_dealCard_dealCard_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst createClient = new _menu_items_crm_createClient_createClient_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nconst monitor = new _menu_items_monitor_monitor_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst filter = new _modules_filter_filter_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\nconst dealRowEvents = new _menu_items_crm_dealRow_dealRowEvents_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\nconst searchClient = new _menu_items_crm_searchClient_searchClient_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\n\nclass ManagerEvents {\n  init(pack) {\n    const items = [\n      clientCard,\n      dealCard,\n      createClient,\n      monitor,\n      filter,\n      dealRowEvents,\n      searchClient,\n    ];\n\n    pack.rowEventsObs = dealRowEvents;\n    pack.clientCardObs = clientCard;\n    pack.rerenderContent = new _contentManager_contentManager_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]();\n\n    items.forEach((item) => {\n      item.init(pack);\n    });\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ManagerEvents);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/users/manager/events/managerEvents.js?");

/***/ }),

/***/ "./dev/static/js/platform/users/manager/manager.js":
/*!*********************************************************!*\
  !*** ./dev/static/js/platform/users/manager/manager.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _contentManager_contentManager_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../contentManager/contentManager.js */ \"./dev/static/js/platform/contentManager/contentManager.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _user_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../user.js */ \"./dev/static/js/platform/users/user.js\");\n/* harmony import */ var _events_managerEvents_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./events/managerEvents.js */ \"./dev/static/js/platform/users/manager/events/managerEvents.js\");\n\n\n\n\n\nconst utils = new _utils_utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst contentManager = new _contentManager_contentManager_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst managerEvents = new _events_managerEvents_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\nclass Manager extends _user_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  constructor() {\n    super();\n  }\n\n  init(props) {\n    const { pack } = props;\n    const { items } = pack;\n\n    const renderData = {\n      items: items ? items.pageItems : null,\n      pack,\n    };\n\n    const render = this.renderContent(renderData);\n\n    render.then(() => {\n      utils.hideLoader();\n\n      this.showPagination(props);\n\n      const events = managerEvents.init.bind(this);\n      events(props);\n    });\n  }\n\n  renderContent(renderData) {\n    const render = contentManager.init.bind(contentManager);\n    return render(renderData);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Manager);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/users/manager/manager.js?");

/***/ }),

/***/ "./dev/static/js/platform/users/user.js":
/*!**********************************************!*\
  !*** ./dev/static/js/platform/users/user.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _menu_items_settings_payment_form_payment_form_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../menu/items/settings/payment-form/payment-form.js */ \"./dev/static/js/platform/menu/items/settings/payment-form/payment-form.js\");\n\n\nconst paymentForm = new _menu_items_settings_payment_form_payment_form_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass User {\n    init(props) {\n        const items = [paymentForm];\n\n        items.forEach((item) => {\n            const init = item.init.bind(item);\n            init(props);\n        });\n    }\n\n    showPagination(props) {\n        const { pack } = props;\n        const { items } = pack;\n\n        if (items) {\n            const { pagesAvailable } = items;\n\n            if (pagesAvailable > 1) {\n                const pagination = document.querySelector('.pagination');\n\n                if (pagination) {\n                    pagination.className = 'platform__pagination pagination';\n                }\n            }\n        }\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (User);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/users/user.js?");

/***/ }),

/***/ "./dev/static/js/platform/utils/selectOptions/selectOptions.js":
/*!*********************************************************************!*\
  !*** ./dev/static/js/platform/utils/selectOptions/selectOptions.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\nconst utils = new _utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\nclass SelectOptions {\n  optionManagers(manager) {\n    return `\n      <div value=\"${manager.id}\" title=\"${manager.name}\" class=\"select__option no-icon\">\n        ${manager.name}\n      </div>\n    `;\n  }\n\n  optionProducts(product) {\n    return `\n      <div value=\"${product}\" title=\"${product}\" class=\"select__option no-icon\">\n        ${product}\n      </div>\n    `;\n  }\n\n  optionEmployees(employee) {\n    const value = employee ? 'Работающие' : 'Уволенные';\n\n    return `\n      <div value=\"${employee}\" title=\"${value}\" class=\"select__option no-icon\">\n        ${value}\n      </div>\n    `;\n  }\n\n  optionProject(project) {\n    return `\n      <div value=\"${project.id}\" title=\"${project.name}\" class=\"select__option no-icon\">\n        ${project.name}\n      </div>\n    `;\n  }\n\n  optionSaleType(type) {\n    return `\n      <div value=\"${type.value}\" title=\"${type.name}\" class=\"select__option no-icon\">\n        ${type.name}\n      </div>\n    `;\n  }\n\n  setStatusOptions(status) {\n    const statusNameIsClosed = status.title === 'Закрыта не реализована' ? 'Не реализована' : status.title;\n\n    return `\n      <div class=\"select__option select__option--status\" data-code=${status.code} value=\"${status.id}\">\n        ${status.title !== 'Успешно реализована' ? statusNameIsClosed : 'Реализована'}\n      </div>`;\n  }\n\n  setSocialOptions(social) {\n    return `\n    <div class=\"select__option no-icon\" value=\"${social.id}\">\n      ${social.title}\n    </div>`;\n  }\n\n  setProductOptions(product) {\n    return `\n    <div class=\"select__option no-icon\" value=\"${product.id}\" data-title=\"${product.name}\" data-price=\"${product.price}\" data-type=\"${product.type}\">\n      ${product.name}\n    </div>`;\n  }\n\n  setTariffsOptions(tariff) {\n    return `\n      <div class=\"select__option no-icon\" value=\"${tariff.id}\">\n        <span class=\"select-head__name\">${tariff.name}</span>\n        <span class=\"select-head__price\">${tariff.price} ₽</span>\n      </div>`;\n  }\n\n  setStreamsOptions(stream) {\n    return `\n      <div class=\"select__option no-icon\" value=\"${stream.id}\">\n        ${utils.getDateFormatDDMMYYYY(stream.startDate)}\n      </div>\n    `;\n  }\n\n  setPaymentMethodsOptions(paymentMethod) {\n    return `\n      <div class=\"select__option no-icon\" value=\"${paymentMethod.id}\">\n        ${paymentMethod.title}\n      </div>`;\n  }\n\n  setDateToSelectInPaymentFormBuilder(date, count) {\n    return `\n      <div class=\"select__option\" data-id=\"${count + 1}\" value=\"${count + 1}\">\n        ${count + 1}\n      </div>\n    `;\n  }\n\n  setContractOptions(value) {\n    return `\n    <div class=\"select__option contract__option ${value ? 'active' : 'no-active'}\" value=\"${value}\">\n      ${value === true ? 'Активен' : 'Не активен'}\n    </div>\n    `;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SelectOptions);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/utils/selectOptions/selectOptions.js?");

/***/ }),

/***/ "./dev/static/js/platform/utils/utils.js":
/*!***********************************************!*\
  !*** ./dev/static/js/platform/utils/utils.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* eslint-disable */\n\nclass Utils {\n  isDealPage() {\n    const page = this.getPage();\n\n    const dealPage = [\n      'deals',\n      'clients-list',\n      'performance-assessment',\n      'bills',\n      'head-manager-bills',\n      'rating',\n      'transactions',\n      'head-manager-transactions',\n      'homework',\n    ];\n\n    return dealPage.includes(page);\n  }\n\n  isReminderBtn(t) {\n    if (!t) return false;\n\n    const reminderWrapper = this.getParent(t, 'reminder__wrapper');\n\n    return (reminderWrapper && reminderWrapper.hasAttribute('data-deal-reminder')) || t.hasAttribute('data-deal-reminder');\n  }\n\n  setOptionToSelectStatus(selectBody, elem) {\n    const option = document.createElement('div');\n    option.classList.add('select__option');\n    option.classList.add('select__option--status');\n    option.setAttribute('value', elem.id);\n    option.setAttribute('data-code', elem.code);\n    option.innerText = elem.title;\n\n    selectBody.appendChild(option);\n  }\n\n  getUrlData(props) {\n    const { pack } = props;\n    const { form } = pack;\n\n    const { formCode } = form;\n    const { id } = form;\n    const baseUrl = window.location.href.split('/')[2];\n\n    let idStream;\n\n    const select = document.querySelector('[form-date]');\n\n    if (form.streams.length !== 1 && select) {\n      idStream = +select.value;\n    } else {\n      idStream = form.streams[0]?.id;\n    }\n\n    return [formCode, baseUrl, idStream, id];\n  }\n\n  checkSertificate(baseUrl) {\n    return baseUrl.split(':')[0] === 'localhost' ? 'http' : 'https';\n  }\n\n  copied(prop) {\n    const target = {};\n\n    for (let key in prop) {\n      target[key] = prop[key];\n    }\n  }\n\n  checkObject(value) {\n    return typeof value === 'object' && value !== null && !Array.isArray(value) && !value.tagName && !value.__proto__.init && typeof value !== 'function';\n  }\n\n  getDeepCopy(data) {\n    const isObject = this.checkObject(data);\n    const isArray = Array.isArray(data);\n\n    let target = isObject ? {} : [];\n\n    if (isObject) {\n      for (let key in data) {\n        const value = data[key];\n\n        const isValueObj = this.checkObject(value);\n        const isArrayObj = Array.isArray(value);\n\n        let mutable = isValueObj || isArrayObj;\n\n        if (mutable) {\n          target[key] = this.getDeepCopy(value);\n        } else {\n          target[key] = value;\n        }\n      };\n    } else if (isArray) {\n      target = data.slice();\n    }\n\n    return target;\n  }\n\n  uploadImg(e) {\n    const t = e.target;\n\n    const input = t;\n\n    const label = input.nextElementSibling;\n    const labelVal = label.innerText;\n\n    let fileName = '';\n\n    if (t.value) {\n      fileName = t.value.split('\\\\').pop();\n    }\n\n    if (fileName) {\n      label.classList.add('has-file')\n      label.querySelector('.js-fileName')\n      label.innerText = fileName;\n    } else {\n      label.classList.remove('has-file')\n      label.innerText = labelVal;\n    }\n  }\n\n  getActiveMenu() {\n    const dealMenu = document.querySelector('[js-menu-deal]');\n    const clientMenu = document.querySelector('[js-menu-client-card]');\n\n    const isClientCard = dealMenu.classList.contains('open');\n\n    return isClientCard ? dealMenu : clientMenu;\n  }\n\n  getIdManager(pack) {\n    const { role, manager, filter } = pack;\n\n    const isAdmin = role === 'ROLE_ADMIN' ? filter.idManager : null;\n    const isManager = (manager && manager.id !== 0) ? manager.id : null;\n\n    return isAdmin ?? isManager;\n  }\n\n  getPage(param) {\n    const url = window.location.href;\n    const page = url.split('/');\n\n    return !param ? this.getPageName(page) : page[page.length - (param + 1)];\n  }\n\n  getPageName(page) {\n    const last = page.pop();\n\n    const banned = ['#', '?'];\n\n    const exception = (window.isNaN(last) && banned.includes(last)) || (last.split('?').length > 1 || last.split('#').length > 1);\n\n    if (!last || !window.isNaN(last) || exception) {\n      return this.getPageName(page);\n    } else {\n      return last;\n    }\n  }\n\n  hideLoader() {\n    const loader = document.querySelector('.transition-loader');\n\n    if (loader) {\n      loader.classList.remove('show');\n    }\n  }\n\n  showLoader() {\n    const loader = document.querySelector('.transition-loader');\n\n    if (loader) {\n      loader.classList.add('show');\n    }\n  }\n\n  accountNumberRequire(props, e) {\n    let { menu } = props;\n    const { bill, target } = props;\n\n    menu = menu.hasAttribute('[add-bill-menu]') ? menu : document.querySelector('[add-bill-menu]');\n\n    let t;\n\n    if (e) {\n      t = this.getSelected(e.target || e)?.innerText;\n    }\n\n    const item = e.target || e;\n\n    const unrequired = ['Карта Сбербанка', 'PayPal Бизнес', 'LeeLoo (Юкасса)'];\n\n    const accountNumber = menu.querySelector('[js-bill-account-number]');\n\n    const accountItem = this.getParent(accountNumber, 'pay-info__item');\n\n    const name = Array.from(accountItem.children)[0];\n\n    const isRequired = unrequired.includes(t || bill.paymentMethod);\n\n    if (!isRequired) {\n      if (name.innerText.split('*').length === 1) {\n        const requiredText = `${name.innerText} *`;\n        name.innerText = requiredText;\n        accountNumber.setAttribute('required', '')\n      }\n    } else {\n      name.innerText = name.innerText.split('*')[0];\n      accountNumber.removeAttribute('required');\n    }\n  }\n\n  toggleCreateMenu(menu, t, items, props) {\n    const addBillMenu = document.querySelector('[add-bill-menu]');\n    const createMenu = addBillMenu.querySelector('[create-bill-menu]');\n    const name = this.getParent(t, 'bills-form__item').querySelector('.bills-item__name');\n    const nameText = name.innerText;\n\n    const info = addBillMenu.querySelector('.bills-form__item--information');\n\n    const addBillBtn = document.querySelector('[add-bill-btn]');\n    const payInfo = document.querySelector('.bills-item__pay-info');\n    const remains = document.querySelector('.bills-remains');\n    const wrapper = this.getParent(t, 'bills-form__item');\n\n    if (t.value) {\n      createMenu.classList.add('hide');\n      info.classList.remove('hide');\n      addBillBtn.classList.add('hide');\n      payInfo.classList.add('hide');\n      remains.classList.add('hide');\n      wrapper.classList.remove('mt_20');\n\n      props.needValidateDate = false;\n\n      if (nameText.split('*').length === 1) {\n        name.innerText = `${nameText} *`;\n        t.setAttribute('required', '');\n      }\n\n      items.forEach((item) => {\n        item.removeAttribute('required');\n      });\n\n    } else {\n      createMenu.classList.remove('hide');\n      createMenu.classList.remove('mt_0');\n      info.classList.add('hide');\n      addBillBtn.classList.remove('hide');\n      payInfo.classList.remove('hide');\n      remains.classList.remove('hide');\n      wrapper.classList.add('mt_20');\n\n      t.removeAttribute('required');\n\n      props.needValidateDate = true;\n\n      if (nameText.split('*').length > 1) {\n        [name.innerText] = nameText.split('*');\n      }\n\n      items.forEach((item) => {\n        item.setAttribute('required', '');\n      });\n    }\n  }\n\n  getDateFormatDDMMYYYY(date, spliter = '.') {\n    if (!date) return false;\n\n    const dateArr = date.split('.').length > 1 ? date.split('.') : date.split('-');\n\n    const badDayFormat = (dateArr[0] < 10 && dateArr[0].length < 2) ? 'bad-day' : '';\n    const isNotDay = dateArr[0].length > 2 ? 'bad-day' : '';\n\n    const badDay = isNotDay || badDayFormat;\n\n    const badMonth = dateArr[1] < 10 && dateArr[1].length === 1 ? 'bad-month' : '';\n\n    const badYear = (dateArr[2].length !== 4 && dateArr[0].length === 2) ? 'bad-year' : '';\n\n    const formattedDate = badDay || badMonth || badYear || 'default';\n\n    switch (formattedDate) {\n      case 'bad-year': {\n        const yearFormat = `20${dateArr[2]}`;\n\n        const dateFormat = `${dateArr[0]}${spliter}${dateArr[1]}${spliter}${yearFormat}`;\n\n        return dateFormat;\n      }\n      case 'bad-month': {\n        const months = `0${dateArr[1]}`;\n        const dateFormat = `${dateArr[0]}${spliter}${months}${spliter}${dateArr[2]}`;\n\n        return dateFormat;\n      }\n      case 'bad-day': {\n        let dateFormat;\n\n        if (dateArr[0].length !== 4) {\n          let day = (dateArr[0] < 10 && dateArr[0].length < 2) ? `0${dateArr[0]}` : dateArr[0];\n\n          const dateFormat = `${day}${spliter}${dateArr[1]}${spliter}${dateArr[2]}`;\n        } else {\n          let day = (dateArr[2] < 10 && dateArr[2].length < 2) ? `0${dateArr[2]}` : dateArr[2];\n\n          dateFormat = `${day}${spliter}${dateArr[1]}${spliter}${dateArr[0]}`;\n        }\n\n        return dateFormat;\n      }\n      default: {\n        return `${dateArr[0]}${spliter}${dateArr[1]}${spliter}${dateArr[2]}`;;\n      }\n    }\n  }\n\n  getSymboRoubles(key, value, withoutNull = false) {\n    const roubles = ['totalRevenue', 'trafficRevenue', 'additionalRevenue', 'advExpenses', 'average', 'averageTrafficMailing', 'averageAdditional', 'profit', 'revenue', 'averageAdditionalPage', 'revenueTraffic', 'advExpensesTrafficPage', , 'averageCheck', 'clickPrice', 'applicationPrice', 'importantPriceRow', 'invoicePrice', 'clientPriceDo', 'clientPrice', 'showPrice', 'averageCheckTraffic'];\n\n    const percent = ['shareAdvExpensesTrafficPage', 'CV5Row', 'clickToApplicationDo', 'applicationToClient', 'invoiceToClient', 'applicationToInvoice', 'clickToApplicatio', 'showToClick', 'prescribedToSale', 'clickToApplication'];\n\n    return !withoutNull ? roubles.includes(key) ? value === null ? `0 ₽` : `${value} ₽` : percent.includes(key) ? value === null ? `0 %` : `${value} %` : value === null ? 0 : value :\n      roubles.includes(key) ? (value === null || value === 0) ? '' : `${value} ₽` : percent.includes(key) ? (value === null || value === 0) ? '' : `${value} %` : (value === null || value === 0) ? '' : value;\n  }\n\n  setWhiteSpace(value) {\n    if (value === null || value === 0) return value;\n\n    const strArr = String(value).split('');\n\n    return this.setWhiteSpaceInNumber(strArr, '');\n  }\n\n  setWhiteSpaceInNumber(array, result) {\n    const digit = array.splice(-3);\n\n    result = digit.join('') + ' ' + result;\n\n    if (array.length) {\n      return this.setWhiteSpaceInNumber(array, result);\n    } else {\n      return result;\n    }\n  }\n\n  changeDealStatuses(statuses) {\n    const status = statuses.concat();\n    const unknow = status.splice(status.length - 1, status.length - 1)[0];\n    const startArr = status.splice(0, 4);\n\n    startArr.push(unknow);\n\n    status.forEach((item) => {\n      startArr.push(item);\n    });\n\n    return startArr;\n  }\n\n  openModalAnimation(modal, isOverflowed) {\n    modal.classList.add('open');\n    modal.classList.add('black');\n\n    setTimeout(() => {\n      modal.style.opacity = '1';\n    }, 100);\n\n    const filter = modal.querySelector('.filter__wrapper');\n\n    if (filter) {\n      setTimeout(() => {\n        filter.style.top = '0';\n      }, 100);\n    } else {\n      setTimeout(() => {\n        const modalWindow = modal.querySelector('.platform-modal__wrapper');\n        modalWindow.style.right = '0';\n      }, 0);\n\n      setTimeout(() => {\n        const modalContent = modal.querySelector('.platform-modal__content');\n\n        if (modalContent) {\n          modalContent.style.right = '0';\n        }\n      }, 0);\n    }\n\n    this.setOverflow(isOverflowed);\n  }\n\n  closeModalAnimation(modal, wrapper, isFilter, isOverflowed = null) {\n    if (isFilter) {\n      this.closeFilter(modal, wrapper);\n    } else {\n      this.closeMenu(modal, wrapper);\n    }\n\n    this.setOverflow(isOverflowed);\n  }\n\n  closeFilter(modal, wrapper) {\n    wrapper.style.top = '-150%';\n\n    setTimeout(() => {\n      modal.style.opacity = '0';\n    }, 200);\n\n    setTimeout(() => {\n      modal.classList.remove('open');\n    }, 400);\n  }\n\n  closeMenu(modal, wrapper) {\n    wrapper.style.right = '-100%';\n    const content = wrapper.querySelector('.platform-modal__content');\n\n    if (content) {\n      content.style.right = '-100%';\n    }\n\n    setTimeout(() => {\n      modal.style.opacity = '0';\n    }, 500);\n\n    setTimeout(() => {\n      modal.classList.remove('open');\n    }, 700);\n  }\n\n  setOverflow(isOverflowed) {\n    if (isOverflowed) {\n      document.body.style.overflow = 'hidden';\n    } else if (!isOverflowed && isOverflowed !== null) {\n      document.body.style.overflow = 'auto';\n    }\n  }\n\n  setCloneElement(item) {\n    const itemClone = item.cloneNode(true);\n\n    const haveSibling = item.nextElementSibling;\n\n    const insert = this.insertBeforeElement.bind(this, item, itemClone);\n    const append = this.appendChildElement.bind(this, item, itemClone);\n\n    return haveSibling ? insert() : append();\n  }\n\n  cloneElement(item) {\n    const itemClone = item.cloneNode(true);\n\n    return itemClone;\n  }\n\n  insertBeforeElement(item, itemClone) {\n    item.parentNode.insertBefore(itemClone, item.nextElementSibling);\n    item.remove();\n\n    return itemClone;\n  }\n\n  appendChildElement(item, itemClone) {\n    item.parentNode.appendChild(itemClone);\n    item.remove();\n\n    return itemClone;\n  }\n\n  getParent(element, cls) {\n    while ((element = element.parentElement) && !element.classList.contains(cls));\n\n    return element;\n  }\n\n  copyLink(value) {\n    const body = document.querySelector('body');\n    const tmp = this.setTextArea();\n\n    tmp.innerHTML = value;\n\n    body.appendChild(tmp);\n\n    document.querySelector('.tmp').select();\n    document.execCommand('copy');\n    tmp.remove();\n  }\n\n  setTextArea() {\n    const tmp = document.createElement('textarea');\n    tmp.classList.add('tmp');\n\n    return tmp;\n  }\n\n  getCssProperty(element, property) {\n    return window.getComputedStyle(element, null).getPropertyValue(`${property}`);\n  }\n\n  removeChildren(item, index) {\n    if (index || index === 0) {\n      Array.from(item.children).forEach((elem, count) => {\n        if (count !== index) {\n          elem.remove();\n        }\n      });\n    } else if (!index) {\n      Array.from(item.children).forEach((elem) => {\n        elem.remove();\n      });\n    }\n  }\n\n  getSelected(select) {\n    return Array.from(select.children).find((el) => el.selected);\n  }\n\n  findRecord(element, eventsArray) {\n    for (let i = 0; i < eventsArray.length; i++) {\n      const record = eventsArray[i];\n\n      if (element == record.element) {\n        return record;\n      }\n    }\n\n    return false;\n  }\n\n  addListener(element, event, listener, options, eventsArray) {\n    let record = this.findRecord(element, eventsArray);\n\n    if (record) {\n      record.listeners[event] = record.listeners[event] || [];\n    } else {\n      record = {\n        element,\n        listeners: {},\n      };\n\n      record.listeners[event] = [];\n\n      eventsArray.push(record);\n    }\n\n    record.listeners[event].push(listener);\n    element.addEventListener(event, listener, options);\n  }\n\n  checkListener(element, event, listener, eventsArray) {\n    const record = this.findRecord(element, eventsArray);\n\n    if (record && event in record.listeners) {\n      return !!~record.listeners[event].indexOf(listener);\n    }\n\n    return false;\n  }\n\n  removeListener(element, event, listener, options, eventsArray) {\n    const record = this.findRecord(element, eventsArray);\n\n    if (record && event in record.listeners) {\n      const index = record.listeners[event].indexOf(listener);\n\n      if (~index) {\n        record.listeners[event].splice(index, 1);\n      }\n\n      if (!record.listeners[event].length) {\n        delete record.listeners[event];\n      }\n    }\n\n    element.removeEventListener(event, listener, options);\n  }\n\n  adaptivePhotos(photos) {\n    if (photos.length) {\n      photos.forEach((item) => {\n        this.setAdaptivePhoto(item);\n      });\n    } else {\n      this.setAdaptivePhoto(photos);\n    }\n  }\n\n  setAdaptivePhoto(item) {\n    const resolution = item.naturalWidth / item.naturalHeight;\n\n    if (resolution < 1) {\n      item.style.width = '100%';\n      item.style.height = 'auto';\n    } else if (resolution === 1) {\n      item.style.width = '100%';\n      item.style.height = '100%';\n    } else if (resolution > 1) {\n      item.style.width = 'auto';\n      item.style.height = '100%';\n    }\n  }\n\n  changeItemsAccess(arr, callback, auto, interval = 10, loader = false) {\n    let i = 0;\n    const timer = setInterval(() => {\n      if (i >= arr.length) {\n        clearInterval(timer);\n        if (loader) {\n          this.hideLoader();\n        }\n      } else {\n        if (arr[i]) {\n          callback(arr[i], auto, arr);\n        }\n        i++;\n      }\n    }, interval);\n  }\n\n  setPreloaderToTab() {\n    const span = document.createElement('span');\n    span.classList.add('platform__empty');\n    span.innerText = 'Загрузка...';\n\n    return span;\n  }\n\n  blockTabs(tabPack) {\n    const { menu } = tabPack;\n\n    const tabItems = menu.querySelectorAll('.client-tab__item');\n\n    tabItems.forEach((item) => {\n      item.style.pointerEvents = 'none';\n    });\n  }\n\n  unBlockTabs(tabPack) {\n    const { menu } = tabPack;\n\n    const tabItems = menu.querySelectorAll('.client-tab__item');\n\n    tabItems.forEach((item) => {\n      item.style.pointerEvents = 'all';\n    });\n  }\n\n  sortingArrayTasks(array) {\n    const done = array.filter((el) => el.done);\n    const now = array.filter((el) => !el.done);\n\n    const arraySorted = this.arraySorted.bind(this);\n\n    const nowSorted = now.sort(arraySorted);\n\n    const today = nowSorted.filter((el) => el.reminderToday);\n    const notEmptyToday = today.length !== 0;\n\n    switch (notEmptyToday) {\n      case true: {\n        const notTodayNotDone = nowSorted.filter((el) => {\n          let element;\n\n          today.forEach((item) => {\n            if (item.id !== el.id) {\n              element = el;\n            }\n          });\n\n          return element;\n        });\n\n        const notTodayExpiration = notTodayNotDone.filter((el) => el.reminderExpiration);\n\n        notTodayExpiration.forEach((item) => {\n          today.push(item);\n        });\n\n        const notTodayNotExpiration = notTodayNotDone.filter((el) => !el.reminderExpiration);\n\n        notTodayNotExpiration.forEach((item) => {\n          today.push(item);\n        });\n\n        const doneSorted = done.sort(arraySorted);\n\n        doneSorted.forEach((item) => {\n          today.push(item);\n        });\n\n        return today;\n      }\n      case false: {\n        const doneSorted = done.sort(arraySorted);\n\n        doneSorted.forEach((item) => {\n          nowSorted.push(item);\n        });\n\n        return nowSorted;\n      }\n      default: {\n        return false;\n      }\n    }\n  }\n\n  checkClientCardOpen() {\n    return document.querySelector('[js-menu-client-card]').classList.contains('open');\n  }\n\n  arraySorted(a, b) {\n    const year = `${new Date().getFullYear()}`.split('')[0] + `${new Date().getFullYear()}`.split('')[1];\n\n    let yearResultOne;\n    let monthResultOne;\n    let dayResultOne;\n\n    if (a.reminderDate) {\n      yearResultOne = year + a.reminderDate.split('.')[2];\n\n      if (a.reminderDate.split('.')[1].split('')[0] === '0') {\n        monthResultOne = +a.reminderDate.split('.')[1].split('')[1];\n      } else {\n        monthResultOne = +a.reminderDate.split('.')[1];\n      }\n\n      if (a.reminderDate.split('.')[0].split('')[0] === '0') {\n        dayResultOne = +a.reminderDate.split('.')[0].split('')[1];\n      } else {\n        dayResultOne = +a.reminderDate.split('.')[0];\n      }\n    }\n\n    let monthResultTwo;\n    let dayResultTwo;\n    let yearResultTwo;\n\n    if (b.reminderDate) {\n      yearResultTwo = year + b.reminderDate.split('.')[2];\n\n      if (b.reminderDate.split('.')[1].split('')[0] === '0') {\n        monthResultTwo = +b.reminderDate.split('.')[1].split('')[1];\n      } else {\n        monthResultTwo = +b.reminderDate.split('.')[1];\n      }\n\n      if (b.reminderDate.split('.')[0].split('')[0] === '0') {\n        dayResultTwo = +b.reminderDate.split('.')[0].split('')[1];\n      } else {\n        dayResultTwo = +b.reminderDate.split('.')[0];\n      }\n    }\n\n    const reultOne = yearResultOne && monthResultOne && dayResultOne;\n    const resultTwo = yearResultTwo && monthResultTwo && dayResultTwo;\n\n    const result = reultOne && resultTwo;\n\n    const resultValues = [\n      yearResultOne,\n      monthResultOne,\n      dayResultOne,\n      yearResultTwo,\n      monthResultTwo,\n      dayResultTwo,\n    ];\n\n    const getDifferenceDate = this.getDifferenceDate.bind(this);\n\n    return result ? getDifferenceDate(resultValues) : false;\n  }\n\n  compareDates(one, two) {\n    const oneFormatted = this.getDateFormatDDMMYYYY(one);\n    const twoFormatted = this.getDateFormatDDMMYYYY(two);\n\n    const oneArr = oneFormatted.split('.').length > 1 ? oneFormatted.split('.') : oneFormatted.split('-');\n    const twoArr = twoFormatted.split('.').length > 1 ? twoFormatted.split('.') : twoFormatted.split('-');\n\n    const oneDate = new Date(+oneArr[2], oneArr[1] - 1, +oneArr[0]);\n    const twoDate = new Date(+twoArr[2], twoArr[1] - 1, +twoArr[0]);\n\n    return oneDate - twoDate >= 0;\n  }\n\n  getDifferenceDate(resultValues) {\n    const [\n      yearResultOne,\n      monthResultOne,\n      dayResultOne,\n      yearResultTwo,\n      monthResultTwo,\n      dayResultTwo] = resultValues;\n\n    const dateOne = new Date(+yearResultOne, monthResultOne - 1, dayResultOne);\n    const dateTwo = new Date(+yearResultTwo, monthResultTwo - 1, dayResultTwo);\n\n    return dateOne.getTime() - dateTwo.getTime();\n  }\n\n  isFunnelPage() {\n    const page = this.getPage();\n\n    const funnelPage = [\n      'funnels',\n    ];\n\n    return funnelPage.includes(page);\n  }\n\n  today() {\n    const day = String(new Date().getDate());\n\n    let dayFormatted;\n\n    if (day.length === 1) {\n      dayFormatted = 0 + day;\n    } else {\n      dayFormatted = day;\n    }\n\n    const month = String(new Date().getMonth() + 1);\n\n    let monthFormatted;\n\n    if (month.length === 1) {\n      monthFormatted = 0 + month;\n    } else {\n      monthFormatted = month;\n    }\n\n    const year = String(new Date().getFullYear());\n\n    return `${dayFormatted}.${monthFormatted}.${year}`;\n  }\n\n  dateParse(date) {\n    const dateArr = date.split('-').length > 1 ? date.split('-') : date.split('.');\n\n    const day = +dateArr[0];\n    const month = +dateArr[1];\n    const year = +dateArr[2];\n\n    return new Date(year, month - 1, day);\n  }\n\n  getMonths() {\n    return ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь']\n  }\n\n  declOfNum(n, text_forms) {\n    n = Math.abs(n) % 100;\n    var n1 = n % 10;\n    if (n > 10 && n < 20) { return text_forms[2]; }\n    if (n1 > 1 && n1 < 5) { return text_forms[1]; }\n    if (n1 == 1) { return text_forms[0]; }\n    return text_forms[2];\n  }\n\n  getBlockName(key) {\n    const names = [\n      { totalRevenue: 'blockProceed' },\n      { advExpenses: 'blockAdvertisingExpenses' },\n      { profit: 'blockProceedAdvertisingExpenses' },\n      { shareAdvExpensesTrafficPage: 'blockPercentNetProceed' },\n      { kpd: 'blockKPD' },\n      { advShow: 'blockShows' },\n      { advClick: 'blockClicks' },\n      { advApplication: 'blockApplications' },\n      { importantRow: 'blockAveragePrepayment' },\n      { invoices: 'blockBills' },\n      { salesNewClient: 'blockSales' },\n      { salesNewClientNM: 'blockSalesWithoutSales' },\n      { salesNewClientM: 'blockSalesWithSales' },\n      { rejectsRow: 'blockSurcharges' },\n      { newClientsDo: 'blockClientsDO' },\n      { newClientsTraffic: 'blockClientsTraffic' },\n      { newClientsAll: 'blockSalesDo' },\n      { newClientsWithoutMailing: 'blockSalesDoWithoutMailing' },\n      { newClientsWithMailing: 'blockSalesDoWithMailing' },\n      { averageCheckTraffic: 'blockAverage' },\n      { showPrice: 'blockPriceShows' },\n      { clickPrice: 'blockPriceClick' },\n      { applicationPrice: 'blockPriceApplication' },\n      { importantPriceRow: 'blockAverageSurcharge' },\n      { invoicePrice: 'blockPriceBill' },\n      { clientPrice: 'blockClient' },\n      { clientPriceDo: 'blockClientDO' },\n      { showToClick: 'blockShowToClick' },\n      { invoiceToClient: 'blockBillToClient' },\n      { clickToApplication: 'blockClickToApplication' },\n      { applicationToInvoice: 'blockApplicationToBill' },\n      { applicationToInvoice: 'blockBillToClient' },\n      { applicationToClient: 'blockApplicationToClient' },\n      { clickToApplicationDo: 'blockPrepaymentProceed' },\n      { CV5Row: 'blockApplicationToClientDO' },\n    ];\n\n    const current = names.find((el) => Object.entries(el)[0][0] === key);\n\n    return current ? Object.values(current)[0] : null;\n  }\n\n  sumBills(bill) {\n    const billsItems = document.querySelectorAll('.bill__item');\n\n    const bills = Array.from(billsItems).filter((el) => !el.classList.contains('bill__create') && el.getAttribute('data-bill') > 0 && (bill ? (+el.getAttribute('data-bill') !== bill.id) : true));\n\n    let sumBills = 0;\n\n    if (bills.length) {\n      bills.forEach((item) => {\n        sumBills += parseInt(item.querySelector('.price__value').innerText, 10);\n      });\n    }\n\n    return sumBills;\n  }\n\n  setBillTemplates(templatesItem, item) {\n    const option = document.createElement('option');\n    option.value = item.id;\n    option.innerText = item.name;\n\n    templatesItem.appendChild(option);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Utils);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/utils/utils.js?");

/***/ }),

/***/ "./dev/static/js/platform/utils/validation.js":
/*!****************************************************!*\
  !*** ./dev/static/js/platform/utils/validation.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n/* harmony import */ var _validation_bills_validateBillWithoutTemplate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./validation/bills/validateBillWithoutTemplate.js */ \"./dev/static/js/platform/utils/validation/bills/validateBillWithoutTemplate.js\");\n/* harmony import */ var _validationWrapper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./validationWrapper.js */ \"./dev/static/js/platform/utils/validationWrapper.js\");\n/* harmony import */ var _validation_bills_validateUpdateBills_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./validation/bills/validateUpdateBills.js */ \"./dev/static/js/platform/utils/validation/bills/validateUpdateBills.js\");\n/* harmony import */ var _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../modules/popup/popup.js */ \"./dev/static/js/platform/modules/popup/popup.js\");\n/* eslint-disable */\n\n\n\n\n\n\nconst utils = new _utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst validateBillWithoutTemplate = new _validation_bills_validateBillWithoutTemplate_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\nconst validateUpdateBills = new _validation_bills_validateUpdateBills_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\nconst popup = new _modules_popup_popup_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n\nclass Validation extends _validationWrapper_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n    validateHomework(settings) {\n        this.required = this.setValidateItemHomework(settings);\n\n        let result;\n\n        if (settings === 'admin') {\n            result = this.required.map((item) => {\n                const isArray = Array.isArray(item);\n                const accepted = !isArray ? item.hasAttribute('accepted') : false;\n                const textArea = !isArray ? item.classList.contains('homework-text__area') : false;\n                const isRate = isArray ? item.some((el) => el.checked) : false;\n                const isEmpty = !isArray ? item.value ? false : true : false;\n\n                if (!isArray && accepted && isEmpty) {\n                    this.setError(item);\n                    return false;\n                } else if (!isArray && accepted && !isEmpty) {\n                    return true;\n                }\n\n                if (isArray && !isRate) {\n                    const wrapper = document.querySelector('.homework-estimation__rate');\n                    this.setError(wrapper);\n                    return false;\n                } else if (isArray && isRate) {\n                    return true;\n                }\n\n                if (!isArray && textArea && isEmpty) {\n                    this.setError(item);\n                    return false;\n                } else if (!isArray && textArea && !isEmpty) {\n                    return true;\n                }\n            });\n        }\n\n        if (settings === 'client') {\n            result = this.required.map((item) => {\n                const textArea = item.classList.contains('content-input__textarea');\n                const isEmpty = item.value ? false : true;\n\n                if (textArea && isEmpty) {\n                    this.setError(item);\n                    return false;\n                } else if (textArea && !isEmpty) {\n                    return true;\n                }\n            });\n        }\n\n        return result.every(el => el === true);\n    };\n\n    removeMenuAfterClosed(menu, dealMenu = false) {\n        setTimeout(() => {\n            const isOpen = this.getCssProperty(menu, 'right') === '0px';\n\n            if (!isOpen) {\n                if (dealMenu) {\n                    menu.querySelector('.nav__left').innerText = '';\n                }\n\n                this.setCloneElement(menu);\n            }\n        }, 800);\n    }\n\n    setValidateItemHomework(settings) {\n        let required = [];\n\n        if (settings === 'admin') {\n            const accepted = document.querySelector('[accepted]');\n\n            required.push(accepted);\n\n            if (accepted.value === 'true') {\n                const rate = Array.from(document.querySelectorAll('[name=\"rate\"]'));\n                required.push(rate);\n            }\n\n            const textAreaAdmin = document.querySelector('.homework-text__area');\n            required.push(textAreaAdmin);\n        }\n\n        if (settings === 'client') {\n            const textAreaClient = document.querySelector('.content-input__textarea');\n            required.push(textAreaClient);\n        }\n\n        return required;\n    }\n\n    validateTask(form) {\n        const date = form.querySelector('.menu-tasks__datepicker');\n        const message = form.querySelector('.menu-tasks__text');\n\n        const error = utils.getParent(form, 'menu-tasks__add').querySelector('.menu-tasks__error');\n        const taskAdd = document.querySelector('.menu-tasks__add');\n\n        if (!date.value.trim() && !message.value.trim()) {\n            this.setError(date);\n            this.setError(message);\n            return false;\n        }\n\n        if (!date.value.trim()) {\n            this.setError(date);\n            return false;\n        }\n\n        if (!message.value.trim()) {\n            this.setError(message);\n            return false;\n        }\n\n        return true;\n    }\n\n    validateSMS() {\n        const wrapper = document.querySelector('.sms-add__item');\n\n        const date = wrapper.querySelector('.sms-new__date');\n        const message = wrapper.querySelector('.sms-new__message');\n\n        if (!date.value && !message.value) {\n            this.setError(date);\n            this.setError(message);\n            return false;\n        } else if (!message.value) {\n            this.setError(message);\n            return false;\n        } else if (!date.value) {\n            this.setError(date);\n            return false;\n        }\n\n        const day = date.value.split('.')[0];\n        const month = date.value.split('.')[1];\n        const year = date.value.split('.')[2];\n\n        const ddmmyy = date.value.split('.').length === 3 && !isNaN(+day) && !isNaN(+month) && !isNaN(+year) && day.length === 2 && month.length === 2 && year.length === 2;\n        const ddmmyyyy = date.value.split('.').length === 3 && !isNaN(+day) && !isNaN(+month) && !isNaN(+year) && day.length === 2 && month.length === 2 && year.length === 4;\n        const setErrorDDMMYY = this.setErrorDDMMYYYY.bind(this);\n\n        if (ddmmyy || ddmmyyyy) {\n            const error = document.querySelector('.error-date');\n\n            if (error) {\n                error.remove();\n            }\n\n            return true;\n        } else {\n            setErrorDDMMYY(date);\n            return false;\n        }\n    }\n\n    setErrorDDMMYYYY(item) {\n        if (!document.querySelector('.error-date')) {\n            const div = document.createElement('div');\n            div.classList.add('error-date');\n            div.innerText = 'Дата должна быть в формате ДД.ММ.ГГГГ';\n\n            const cbWrapper = item.parentNode;\n            cbWrapper.style.flexDirection = 'column';\n\n            cbWrapper.appendChild(div);\n        }\n    }\n\n    validateClient(form) {\n        const name = form.querySelector('.new-client') ? form.querySelector('.new-client') : this.getNameItem(form);\n        const link = form.querySelector('[client-vk]');\n        const phone = form.querySelector('[client-phone]');\n        const telegram = form.querySelector('[client-telegram]');\n        const email = form.querySelector('[client-email]');\n\n        const once = [link, phone, telegram, email].some((el) => el.value);\n\n        if (!name.value && !name.innerText) {\n            this.setError(name);\n\n            if (!once) {\n                this.setError(link);\n                this.setError(phone);\n                this.setError(telegram);\n                this.setError(email);\n\n                return false;\n            }\n\n            return false\n        }\n\n        if (!once) {\n            this.setError(link);\n            this.setError(phone);\n            this.setError(telegram);\n            this.setError(email);\n\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n    getNameItem(form) {\n        let name = form.querySelector('[js-client-name]');\n\n        const isView = utils.getCssProperty(name, 'display') === 'flex' ? true : false;\n\n        if (isView) {\n            return name;\n        } else {\n            name = form.querySelector('[js-change-client-name]');\n\n            return name;\n        }\n    }\n\n    validateBill(form) {\n        const required = Array.from(form.querySelectorAll('[required]'));\n\n        const empty = [];\n\n        required.forEach((item) => {\n            const value = item.value;\n\n            if (!value) {\n                if (item.hasAttribute('[js-bill-planned-date]') && !this.validateDate(item.value)) {\n                    empty.push(item);\n                    this.setError(item);\n                } else {\n                    empty.push(item);\n                    this.setError(item);\n                }\n            }\n        });\n\n        if (!empty.length) {\n            empty.length = 0;\n            return true;\n        } else {\n            empty.length = 0;\n            return false;\n        }\n    }\n\n    validateSection(form) {\n        const name = form.querySelector('[js-theme-form-name]') ? form.querySelector('[js-theme-form-name]')\n            : form.querySelector('[js-update-theme-form-name]');\n\n        if (name.value) {\n            return true;\n        } else {\n            this.setError(name);\n            return false;\n        }\n    }\n\n    validateSectionFile(form) {\n        const name = form.querySelector('[js-update-article-form-name]');\n        const link = form.querySelector('[js-update-article-form-link]');\n        const file = form.querySelector('.input-file');\n\n        const fields = [name, link, file];\n\n        const empty = [];\n\n        fields.forEach((item) => {\n            if (!item.value) {\n                empty.push(item);\n                this.setError(item);\n            }\n        })\n\n        if (empty.length) {\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n    validateDate(date, item) {\n        const dateArray = date.trim().split('.');\n\n        if (dateArray.length === 3 && dateArray[2]) {\n            if (dateArray[0].length !== 2) {\n\n                if (item) {\n                    this.setError(item, 'Формат даты: ДД.ММ.ГГГГ');\n                }\n\n                return false;\n            }\n\n            if (dateArray[1].length !== 2) {\n\n                if (item) {\n                    this.setError(item, 'Формат даты: ДД.ММ.ГГГГ');\n                }\n\n                return false;\n            }\n\n            if (dateArray[2].length !== 4) {\n\n                if (item) {\n                    this.setError(item, 'Формат даты: ДД.ММ.ГГГГ');\n                }\n\n                return false;\n            }\n\n            return true;\n        } else {\n\n            if (item) {\n                this.setError(item, 'Формат даты: ДД.ММ.ГГГГ');\n            }\n\n            return false;\n        }\n    }\n\n    validatePayBill(form) {\n        return true;\n    }\n\n    validateUpdateBill(form) {\n        const paymentMethod = form.querySelector('[js-bill-payment-method]');\n        const payType = form.querySelector('[js-bill-payment-type]');\n        const sum = form.querySelector('[js-bill-sum]');\n        const accountNumber = form.querySelector('[js-bill-account-number]');\n\n        const validateItems = [paymentMethod, payType, sum];\n\n        const unrequired = ['Карта Сбербанка', 'PayPal Бизнес', 'LeeLoo (Юкасса)'];\n\n        if (!unrequired.includes(paymentMethod.value)) {\n            validateItems.push(accountNumber);\n        }\n\n        validateItems.forEach((item) => {\n            if (!item.value) {\n                this.setError(item);\n            }\n        });\n\n        const validate = validateItems.every((el) => el.value);\n\n        return validate;\n    }\n\n    validationWage(wage, menu) {\n        const { motivationName, months } = wage;\n\n        if (!motivationName) {\n            const input = menu.querySelector('[js-motivation-name]');\n            this.setError(input);\n\n            return false;\n        }\n\n        if (!months.length) {\n            alert('Выберите хотябы один месяц');\n            return false;\n        }\n\n        return true\n    }\n\n    validationInputNuber(t, data = false, splitter = false, onlyDigit = false) {\n        const { value } = t;\n\n        const digits = value.split('.').length === 1 ? !Number.isNaN(+value) : null;\n        const fraction = value.split('.').length === 2 ? !Number.isNaN(+value.split('.')[1]) : null;\n\n        const validationData = {\n            digits,\n            fraction,\n            t,\n            data,\n            onlyDigit,\n        };\n\n        if (splitter) {\n            validationData.splitter = splitter;\n            this.validationSplitter(validationData);\n        } else {\n            this.validationDigit(validationData)\n        }\n    }\n\n    validationSplitter(validationData) {\n        const { t, splitter, digits, fraction, onlyDigit } = validationData;\n\n        let isValidate;\n\n        if (t.hasAttribute('js-bill-layer-value')) {\n            const isSplitter = t.value.split(splitter).length === 2;\n            const endPercent = t.value.split('').filter(el => el === '%').length;\n\n            if (onlyDigit) {\n                isValidate = digits || (isSplitter && endPercent);\n            } else {\n                isValidate = digits || fraction || (isSplitter && endPercent);\n            }\n        } else {\n            isValidate = digits || fraction;\n        }\n\n        if (!isValidate) {\n            const valueInput = t.value.split('').splice(0, t.value.split('').length - 1).join('');\n\n            t.value = valueInput;\n        } else {\n            const instance = t.value.split('');\n            const index = instance.findIndex(el => (el !== '.' && el !== '%' && isNaN(+el)));\n\n            if (index !== -1) {\n                instance.splice(index, 1);\n                t.value = instance.join('');\n            }\n        }\n    }\n\n    validationDigit(validationData) {\n        const { data, t, digits, fraction } = validationData;\n\n        const inData = digits ?? fraction;\n\n        if (inData) {\n            if (data) {\n                data.regularRate = +t.value;\n            }\n        } else {\n            const valueInput = t.value.split('').splice(0, t.value.split('').length - 1).join('');\n            t.value = valueInput;\n\n            if (data) {\n                data.regularRate = +valueInput;\n            }\n        }\n    }\n\n    validateCourseBanner() {\n        const name = document.querySelector('.banner__name');\n        const link = document.querySelector('.banner__link');\n        const mobileImg = document.querySelector('#banner-mobile');\n        const desktopImg = document.querySelector('#banner-desktop');\n\n        const items = [name, link, mobileImg, desktopImg];\n\n        items.forEach((item) => {\n            if (!item.value) {\n                this.setError(item);\n            }\n        });\n\n        return items.every((el) => el.value);\n    }\n\n    validatePaymentFormPublic(form) {\n        const login = form.querySelector('[form-login]');\n        const password = form.querySelector('[form-password]');\n        const name = form.querySelector('[form-name]');\n        const tel = form.querySelector('[form-tel]');\n        const email = form.querySelector('[form-email]');\n        const date = form.querySelector('[form-date]');\n        const contract = form.querySelector('#private');\n\n        const items = [login, password, name, tel, email, date];\n\n        const validateItems = [];\n\n        items.forEach((item) => {\n            if (item) {\n                validateItems.push(item);\n            }\n        });\n\n        const validate = validateItems.every((el) => el.value.trim());\n\n        const validEmail = this.checkEmail(email);\n\n        const validTelPlus = this.validTel(tel);\n\n        const validName = this.validateUserName(name);\n\n        if (!validate) {\n            validateItems.forEach((item) => {\n                if (!item.value.trim()) {\n                    this.setError(item);\n                }\n            });\n\n            return false;\n        } else if (validate && !validName) {\n            this.setErrorClientName(name);\n\n            return false;\n        } else if (validate && !validTelPlus) {\n            this.setErrorTelephone(tel);\n\n            return false;\n        } else if (validate && !validEmail) {\n            this.setError(email, 'Формат E-mail: name@mail.ru');\n\n            return false;\n        } else if (validate && validEmail && validTelPlus && validName && !contract.checked) {\n            this.setError(document.querySelector('[private-contact]'), 'Прочитайте условия соглашения', 'contract');\n\n            return false;\n        }\n\n        return true;\n    }\n\n    validateCourseBanner() {\n        const name = document.querySelector('.banner__name');\n        const link = document.querySelector('.banner__link');\n        const mobileImg = document.querySelector('#banner-mobile');\n        const desktopImg = document.querySelector('#banner-desktop');\n\n        const items = [name, link, mobileImg, desktopImg];\n\n        items.forEach((item) => {\n            if (!item.value) {\n                this.setError(item);\n            }\n        });\n\n        return items.every((el) => el.value);\n    }\n\n\n\n    validatePublicFormContract(contract) {\n        if (!contract.checked) {\n            this.setError(document.querySelector('[private-contact]'), 'Прочитайте условия соглашения', 'contract');\n        }\n\n        return contract.checked;\n    }\n\n    toValidationError(e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        const errors = document.querySelectorAll('.validate-error');\n\n        console.log(errors);\n\n        if (errors.length) {\n            const first = errors[0];\n\n            const prevElement = first.previousElementSibling;\n\n            const isHidden = prevElement.classList.contains('hide') || utils.getCssProperty(prevElement, 'display') === 'none';\n\n            if (isHidden) {\n                first.previousElementSibling.previousElementSibling.scrollIntoView({\n                    behavior: 'smooth'\n                });\n            } else {\n                first.previousElementSibling.scrollIntoView({\n                    behavior: 'smooth'\n                });\n            }\n        }\n    }\n\n    validateSection(input) {\n        if (input.value.trim()) return true;\n\n        this.setError(input);\n\n        return false;\n    }\n\n    validateAboutArticle(form) {\n        const name = form.querySelector('[js-article-form-name]') || form.querySelector('[js-update-article-form-name]');\n        const link = form.querySelector('[js-article-form-link]') || form.querySelector('[js-update-article-form-link]');\n        const file = form.querySelector('#file') || form.querySelector('#file2');\n\n        const items = [name, link, file];\n\n        const validate = items.every((el) => el.getAttribute('type') === 'file' ? el.files.length : el.value.trim());\n\n        if (!validate) {\n            items.forEach((item) => {\n                if (item.getAttribute('type') === 'file' && !item.files.length) {\n                    this.setError(item);\n                } else if (!item.value) {\n                    this.setError(item);\n                }\n            });\n\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n    validateReglament(form) {\n        const name = form.querySelector('[js-article-form-name]') || form.querySelector('[js-update-article-form-name]') || form.querySelector('[js-update-tutorial-form-name]');\n        const type = form.querySelector('[js-article-form-type]') || form.querySelector('[js-update-article-form-type]') || form.querySelector('[js-update-tutorial-form-type]');\n        const img = form.querySelector('#file') || form.querySelector('#fileUpdate');\n        const link = form.querySelector('[js-article-form-link]') || form.querySelector('[js-update-article-form-link]');\n\n        const items = [name, img];\n\n        if (!utils.getParent(link, 'menu-input').classList.contains('menu-input_close')) {\n            items.push(link);\n        }\n\n        if (type) {\n            items.push(type);\n        }\n\n        const validate = items.every((el) => el.value);\n\n        if (validate) return true;\n\n        items.forEach((item) => {\n            if (!item.value) {\n                this.setError(item);\n            }\n        });\n\n        return false;\n    }\n\n    validateTrainingCourse(form) {\n        const name = form.querySelector('[js-update-tutorial-form-name]') || form.querySelector('[js-tutorial-form-name]');\n        const type = form.querySelector('[js-update-tutorial-form-type]') || form.querySelector('[js-tutorial-form-type]');\n        const file = form.querySelector('#file2') || form.querySelector('#file');\n\n        const items = [name, type, file];\n\n        const validate = items.every((el) => el.value);\n\n        if (validate) return true;\n\n        items.forEach((item) => {\n            if (!item.value) {\n                this.setError(item);\n            }\n        });\n\n        return false;\n    }\n\n    validateLessonTrainingCentr(form) {\n        const name = form.querySelector('[js-lesson-form-name]');\n        const desc = form.querySelector('[js-lesson-form-desc]');\n        const video = form.querySelector('[js-lesson-form-video-link]');\n\n        const items = [name, desc, video];\n\n        const validate = items.every(el => el.value);\n\n        if (validate) return validate;\n\n        items.forEach((item) => {\n            if (!item.value) {\n                this.setError(item);\n            }\n        });\n\n        return validate;\n    }\n\n    validateBillTemplate(form, isUpdate = false) {\n        const name = form.querySelector('[bill-template-name]');\n        const datesItems = form.querySelectorAll('[js-bill-layer-date]');\n        const dates = Array.from(datesItems).filter((el) => !utils.getParent(el, 'layers-item').classList.contains('hide'));\n        const valueElems = form.querySelectorAll('[js-bill-layer-value]');\n        const values = Array.from(valueElems).filter((el) => !utils.getParent(el, 'layers-item').classList.contains('hide'));\n        const today = form.querySelector('[today]');\n        const dateStart = form.querySelector('[date-start]');\n        const dateStartSecond = form.querySelector('[date-start-second]');\n        const dateStartSecondOther = form.querySelector('[date-start-second-other]');\n\n        const items = [name, ...values, ...dates];\n\n        if (today && dateStart) {\n            const firstItem = [today, dateStart];\n            items.push(firstItem);\n        }\n\n        if (dateStartSecond && dateStartSecondOther && !dateStart.checked) {\n            const secondItem = [dateStartSecond, dateStartSecondOther];\n            items.push(secondItem);\n        }\n\n        const renderedItems = items.filter((el) => el);\n\n        const validateItems = renderedItems.every((el) => Array.isArray(el) ? el.some(item => item.checked) : el.value.trim());\n        const uniqueName = this.uniqueName(form);\n\n        let validate;\n\n        if (isUpdate) {\n            validate = validateItems;\n        } else {\n            validate = uniqueName && validateItems;\n        }\n\n        const valuesItems = this.setValuesItems(form);\n\n        if (validate && valuesItems) return validate && valuesItems;\n\n        items.forEach((item) => {\n            if (Array.isArray(item)) {\n                const validateRadio = item.some((el) => el.checked);\n\n                if (!validateRadio) {\n                    item.forEach((elem) => {\n                        this.setError(elem);\n                    })\n                }\n            } else {\n                if (!item.value) {\n                    this.setError(item);\n                }\n            }\n        });\n\n        if (!isUpdate && !uniqueName) {\n            const popupProps = {\n                text: 'Шаблон с таким именем уже сущестует',\n                title: 'Ошибка!',\n                settings: 'alert-close',\n            };\n\n            popup.init(popupProps);\n            return false;\n        }\n\n        if (validate && document.querySelectorAll('[js-bill-layer-value]').length === 0) {\n            const popupProps = {\n                text: 'Добавьте хотябы один счет',\n                title: 'Ошибка!',\n                settings: 'alert-close',\n            };\n\n            popup.init(popupProps);\n            return false;\n        } else if (validate && !valuesItems) {\n            const popupProps = {\n                text: 'Сумма значений не равна 100%',\n                title: 'Ошибка!',\n                settings: 'alert-close',\n            };\n\n            popup.init(popupProps);\n            return false;\n        }\n\n        return validate && valuesItems;\n    }\n\n    uniqueName(form) {\n        const currentName = form.querySelector('[bill-template-name]').value.trim().toLowerCase();\n\n        const names = Array.from(document.querySelectorAll('.templates__name'));\n\n        const nameValues = names.map((item) => {\n            return item.innerText.trim().toLowerCase();\n        });\n\n        return nameValues.includes(currentName) ? false : true;\n    }\n\n    setValuesItems(form) {\n        const items = Array.from(form.querySelectorAll('[js-bill-layer-value]'));\n        const values = [];\n\n        let value;\n\n        if (items.length && items[0].value.split('%').length > 1) {\n            items.forEach((item) => {\n                values.push(parseInt(item.value));\n            });\n\n            value = values.reduce((prev, current) => prev + current, 0);\n        } else if (items.length && items[0].value.split('%').length === 1) {\n            const withoutFirst = items.slice(1, items.length);\n\n            withoutFirst.forEach((item) => {\n                values.push(parseInt(item.value));\n            });\n\n            value = values.reduce((prev, current) => prev + current, 0);\n        }\n\n        return value === 100;\n    }\n\n    validateBuyProduct(form) {\n        const streams = form.querySelector('[form-date]');\n\n        if (streams && !streams.value) {\n            this.setError(streams);\n        }\n\n        return streams ? Boolean(streams?.value) : true;\n    }\n\n    validateBillWithDate(menu, needDate = false, deal = false, bill, settings, sumValue) {\n        const form = menu.querySelector('[pay-form]');\n        const plannedPayDate = Array.from(menu.querySelectorAll('[js-bill-planned-date]'));\n        const sum = Array.from(menu.querySelectorAll('[js-bill-sum]'));\n\n        const checkSum = sum.filter((el) => el.value <= deal.price && el.value > 0);\n\n        let checkFormatDate;\n\n        const template = menu.querySelector('[js-bill-payment-template]');\n\n        const type = menu.querySelector('[js-bill-payment-type]');\n\n        if (!template?.value) {\n            if (deal && plannedPayDate.length) {\n                const firstPay = !Array.from(document.querySelectorAll('.bill__item')).filter((el) => !el.classList.contains('bill__create')).length;\n\n                const dateCheck = plannedPayDate.every((el, index) => (index === 0 && firstPay) ? el.value && utils.compareDates(deal.startDate, el.value) && (this.validateBill(form) && this.validateDate(el.value, el)) : true);\n\n                const validArray = plannedPayDate.map((el) => el.value && (this.validateBill(form) && this.validateDate(el.value, el) && utils.compareDates(deal.startDate, el.value)));\n\n                if (!dateCheck) {\n                    plannedPayDate.forEach((item, index) => {\n                        validArray.forEach((elem, count) => {\n                            if (count === index && index === 0) {\n                                if (settings === 'bill-menu') {\n                                    this.setError(item, 'Планируемая дата оплаты при\\n первом расчете, должна быть\\nменьше или равна дате\\n старта продукта', 'planned-date-bill');\n                                } else {\n                                    this.setError(item, 'Планируемая дата оплаты при первом расчете,\\nдолжна быть меньше или равна дате старта продукта', 'planned-date');\n                                }\n                            }\n                        });\n                    });\n\n                    return false;\n                }\n            }\n        }\n\n        if (sum.length && !checkSum) {\n            sum.forEach((item) => {\n                if (item.hasAttribute('required') && !checkSum) {\n                    this.setError(item, 'Сумма счета должна быть меньше или равна стоимости продукта');\n                }\n            });\n\n            return false;\n        }\n\n        if (sumValue < 0) {\n            utils.setPreRemoveWindow('Ошибка! Общая сумма счетов больше суммы продукта', 'alert-close');\n\n            return false;\n        }\n\n        return needDate ? checkFormatDate : this.validateBill(form);\n    }\n\n    validateUpdateBill(props) {\n        return validateUpdateBills.init(props);\n    }\n\n    validateBillWithoutTemplate(props) {\n        return validateBillWithoutTemplate.init(props);\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Validation);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/utils/validation.js?");

/***/ }),

/***/ "./dev/static/js/platform/utils/validation/billPayment/validateBillPayment.js":
/*!************************************************************************************!*\
  !*** ./dev/static/js/platform/utils/validation/billPayment/validateBillPayment.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _validationWrapper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../validationWrapper.js */ \"./dev/static/js/platform/utils/validationWrapper.js\");\n\n\nclass ValidateBillPayment extends _validationWrapper_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  init() {\n    const required = Array.from(document.querySelectorAll('[required]'));\n\n    if (required.length) {\n      const validate = [];\n\n      required.forEach((item) => {\n        const checkProps = {\n          item,\n          validate,\n        };\n\n        if (item.getAttribute('name') === 'name') {\n          const check = this.validateUserName(item);\n          checkProps.error = this.setErrorClientName.bind(this, item);\n\n          this.checkItem(check, checkProps);\n        } else if (item.getAttribute('name') === 'phone') {\n          const check = this.validTel(item);\n          checkProps.error = this.setErrorTelephone.bind(this, item);\n\n          this.checkItem(check, checkProps);\n        } else if (item.getAttribute('name') === 'email') {\n          const check = this.checkEmail(item);\n          checkProps.error = this.setError.bind(this, item, 'Формат E-mail: name@mail.ru');\n\n          this.checkItem(check, checkProps);\n        } else if (item.getAttribute('name') === 'agree') {\n          const check = item.checked;\n\n          checkProps.error = this.setError.bind(this, item, 'Прочитайте условия соглашений', 'bill-payment-agreements');\n          this.checkItem(check, checkProps);\n        }\n      });\n\n      if (validate.length === required.length) return true;\n\n      return false;\n    }\n  }\n\n  checkItem(check, props) {\n    const { item, validate, error } = props;\n\n    if (!check) {\n      error(item);\n    } else {\n      validate.push(check);\n    }\n  }\n\n  validateAgreements() {\n    const checkbox = document.querySelector('[id=\"agreements\"]');\n\n    if (!checkbox.checked) {\n      this.setError(checkbox, 'Прочитайте условия соглашений');\n    }\n\n    return checkbox.checked;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ValidateBillPayment);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/utils/validation/billPayment/validateBillPayment.js?");

/***/ }),

/***/ "./dev/static/js/platform/utils/validation/bills/validateBillWithoutTemplate.js":
/*!**************************************************************************************!*\
  !*** ./dev/static/js/platform/utils/validation/bills/validateBillWithoutTemplate.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _validationWrapper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../validationWrapper.js */ \"./dev/static/js/platform/utils/validationWrapper.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\nconst utils = new _utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass ValidateBillWithoutTemplate extends _validationWrapper_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  init(props) {\n    const { menu } = props;\n\n    const form = menu.querySelector('[pay-form]');\n\n    const items = this.getValidateItems(form);\n\n    const checkEmptyItems = this.checkEmptyItems.bind(this);\n\n    const checkEmpty = items.every(checkEmptyItems);\n\n    return !checkEmpty ? this.noValidEmpty(items) : this.validEmpty(items, props);\n  }\n\n  getValidateItems(form) {\n    const method = form.querySelector('[js-bill-payment-method]');\n    const plannedPayDate = Array.from(form.querySelectorAll('[js-bill-planned-date]'));\n    const sum = Array.from(form.querySelectorAll('[js-bill-sum]'));\n\n    const items = [\n      method,\n      plannedPayDate,\n      sum,\n    ];\n\n    return items;\n  }\n\n  checkEmptyItems(el) {\n    const checkNumberNull = this.checkNumberNull.bind(this);\n\n    let value;\n\n    if (Array.isArray(el)) {\n      value = el.every(checkNumberNull);\n    } else {\n      value = +el.value.trim() === 0 ? false : el.value.trim();\n    }\n\n    return value;\n  }\n\n  checkNumberNull(item) {\n    return +item.value.trim() === 0 ? false : item.value.trim();\n  }\n\n  setEmptyErrors(item) {\n    if (Array.isArray(item)) {\n      item.forEach((elem) => {\n        if (!elem.value.trim() || +elem.value.trim() === 0) {\n          this.setError(elem);\n        }\n      });\n    } else if (!Array.isArray(item) && !item.value.trim()) {\n      this.setError(item);\n    }\n  }\n\n  noValidEmpty(items) {\n    const setEmptyErrors = this.setEmptyErrors.bind(this);\n    items.forEach(setEmptyErrors);\n\n    return false;\n  }\n\n  validEmpty(items, props) {\n    const [, dates, sum] = items;\n\n    const checkSum = this.checkSum(sum, props);\n\n    const params = {\n      ...props,\n      dates,\n    };\n\n    const validItems = checkSum && this.checkDatesValue(params);\n\n    return validItems;\n  }\n\n  checkSum(sum, props) {\n    const { deal, menu } = props;\n\n    const getSumBills = this.getSumBills.bind(this);\n\n    const sumBills = sum.reduce(getSumBills, 0);\n\n    const summa = utils.sumBills();\n\n    const diff = deal.price - sumBills - summa;\n\n    const minusSum = sum.find((el) => el.value < 0);\n\n    if (minusSum) {\n      sum.forEach((item) => {\n        if (item.value < 0) {\n          this.setError(item, 'Отрицательное значение счета');\n          item.classList.add('bill-error__border');\n        }\n      });\n\n      return false;\n    }\n\n    if (diff < 0) {\n      sum.forEach((item, index) => {\n        if (index === sum.length - 1) {\n          this.setError(item, 'Сумма счетов, больше суммы продукта');\n        }\n      });\n\n      const lastSumInput = sum[sum.length - 1];\n\n      const sumArray = Array.from(menu.querySelectorAll('[js-bill-sum]'));\n      const createdBill = sumArray.filter((el, index, arr) => index !== arr.length - 1);\n      const sumCreatedBill = createdBill.reduce(getSumBills, 0);\n\n      lastSumInput.value = deal.price - sumCreatedBill - summa;\n    } else {\n      sum.forEach((item) => item.classList.remove('bill-error__border'));\n    }\n\n    return !(diff < 0);\n  }\n\n  getSumBills(prev, current) {\n    const prevValue = prev?.value ? +prev.value : +prev;\n\n    return prevValue + +current.value;\n  }\n\n  checkDatesValue(props) {\n    const { dates } = props;\n    const validateDate = this.validateDate.bind(this);\n\n    const checkDateFormat = dates.every((el) => validateDate(el.value, el));\n\n    const setErrorDateFormat = this.setErrorDateFormat.bind(this);\n\n    if (!checkDateFormat) {\n      dates.forEach(setErrorDateFormat);\n    } else {\n      dates.forEach(setErrorDateFormat);\n    }\n\n    return checkDateFormat;\n  }\n\n  setErrorDateFormat(item) {\n    if (!this.validateDate(item.value, item)) {\n      this.setError(item, 'Формат даты: ДД.ММ.ГГГГ');\n      item.classList.add('bill-error__border');\n    } else {\n      item.classList.remove('bill-error__border');\n    }\n  }\n\n  checkFirstDate(props) {\n    const { deal, dates } = props;\n    const first = dates.find((el) => el.hasAttribute('first-payment'));\n\n    return first ? this.checkFirstDateValue(deal, first) : true;\n  }\n\n  checkFirstDateValue(deal, first) {\n    const startDate = utils.getDateFormatDDMMYYYY(deal.startDate);\n\n    const compareDates = utils.compareDates(startDate, first.value);\n\n    if (!compareDates) {\n      this.setError(first, 'Дата оплаты при первом расчете,\\nдолжна быть меньше или равна\\nдате старта продукта', 'planned-date-bill');\n    }\n\n    return compareDates;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ValidateBillWithoutTemplate);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/utils/validation/bills/validateBillWithoutTemplate.js?");

/***/ }),

/***/ "./dev/static/js/platform/utils/validation/bills/validateUpdateBills.js":
/*!******************************************************************************!*\
  !*** ./dev/static/js/platform/utils/validation/bills/validateUpdateBills.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _validationWrapper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../validationWrapper.js */ \"./dev/static/js/platform/utils/validationWrapper.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils.js */ \"./dev/static/js/platform/utils/utils.js\");\n\n\n\nconst utils = new _utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nclass ValidateUpdateBills extends _validationWrapper_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  init(props) {\n    const { menu } = props;\n\n    const items = this.getItems(menu);\n\n    const checkNumberNull = this.checkNumberNull.bind(this);\n\n    const checkEmpty = items.filter((el) => el).every(checkNumberNull);\n\n    if (!checkEmpty) {\n      const setErrorEmpty = this.setErrorEmpty.bind(this);\n      items.forEach(setErrorEmpty);\n    }\n\n    return !checkEmpty ? checkEmpty : this.checkInputValues(items, props);\n  }\n\n  checkNumberNull(el) {\n    return +el.value.trim() === 0 ? false : el.value.trim();\n  }\n\n  getItems(menu) {\n    const paymentMethod = menu.querySelector('[js-bill-payment-method]');\n    const sum = menu.querySelector('[js-bill-sum-update]');\n    const type = menu.querySelector('[js-bill-payment-type-update]');\n    const date = menu.querySelector('[js-bill-planned-date-update]');\n\n    return [\n      paymentMethod,\n      sum,\n      type,\n      date,\n    ];\n  }\n\n  setErrorEmpty(item) {\n    if ((item && !item.value.trim()) || (item && +item.value.trim() === 0)) {\n      this.setError(item);\n    }\n  }\n\n  checkInputValues(items, props) {\n    const [, sum] = items;\n\n    const checkSum = this.checkSum(sum, props);\n\n    return checkSum;\n  }\n\n  checkSum(sum, props) {\n    const { deal, bill } = props;\n\n    const sumBills = utils.sumBills(bill);\n\n    const checkSumBills = (+sum.value + sumBills) <= deal.price;\n\n    if (!checkSumBills) {\n      this.setError(sum, 'Сумма счета, больше суммы продукта');\n    }\n\n    return checkSumBills;\n  }\n\n  checkDate(date, type, props) {\n    const { deal } = props;\n\n    const startDate = utils.getDateFormatDDMMYYYY(deal.startDate);\n\n    const compare = utils.compareDates(startDate, date.value);\n\n    const first = type.value === 'Новый клиент';\n\n    if (!compare && first) {\n      this.setError(date, 'Дата оплаты при первом расчете,\\nдолжна быть меньше или равна\\nдате старта продукта', 'planned-date-bill');\n    }\n\n    return first ? compare : true;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ValidateUpdateBills);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/utils/validation/bills/validateUpdateBills.js?");

/***/ }),

/***/ "./dev/static/js/platform/utils/validation/contract/validateContract.js":
/*!******************************************************************************!*\
  !*** ./dev/static/js/platform/utils/validation/contract/validateContract.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _validationWrapper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../validationWrapper.js */ \"./dev/static/js/platform/utils/validationWrapper.js\");\n\n\nclass ValidateContract extends _validationWrapper_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  init() {\n    const form = document.querySelector('.dialog__wrapper');\n\n    const names = document.querySelectorAll('[contract-name]');\n\n    if (names.length) {\n      const namesText = [];\n\n      names.forEach((item) => {\n        namesText.push(item.value.toLowerCase());\n      });\n\n      const name = form.querySelector('[doc-name]');\n\n      const checkName = this.checkUniqName(namesText, name);\n\n      if (checkName === false) {\n        return false;\n      }\n    }\n\n    const required = Array.from(form.querySelectorAll('[required]'));\n\n    const validate = required.every((el) => el.value);\n\n    if (validate) return true;\n\n    required.forEach((item) => {\n      if (!item.value) {\n        this.setError(item);\n      }\n    });\n\n    return false;\n  }\n\n  validateLink() {\n    const link = document.querySelector('.dialog__wrapper [doc-link]');\n\n    if (!link.value) {\n      this.setError(link);\n    }\n\n    return Boolean(link.value);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ValidateContract);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/utils/validation/contract/validateContract.js?");

/***/ }),

/***/ "./dev/static/js/platform/utils/validation/deal/validateDeal.js":
/*!**********************************************************************!*\
  !*** ./dev/static/js/platform/utils/validation/deal/validateDeal.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _validationWrapper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../validationWrapper.js */ \"./dev/static/js/platform/utils/validationWrapper.js\");\n\n\nclass ValidateDeal extends _validationWrapper_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  init(form) {\n    this.removeRequired(form);\n\n    const required = Array.from(form.querySelectorAll('[required]'));\n\n    const validate = required.every((el) => el.value);\n\n    const priceItem = form.querySelector('[name=\"price\"]');\n    const billsPrice = this.getBillsPrice(form);\n    const checkPrice = priceItem.value >= billsPrice;\n\n    if (validate && checkPrice) return true;\n\n    if (!validate) {\n      required.forEach((item) => {\n        if (!item.value) {\n          this.setError(item);\n        }\n      });\n    }\n\n    if (!checkPrice) {\n      this.setError(priceItem, 'Стоимость продукта меньше суммы\\nвыставленных счетов');\n      priceItem.value = billsPrice;\n    }\n\n    return false;\n  }\n\n  getBillsPrice() {\n    const billsItems = document.querySelectorAll('.bill__item');\n\n    const bills = Array.from(billsItems).filter((el) => !el.classList.contains('bill__create'));\n\n    const getSumBills = this.getSumBills.bind(this);\n\n    const billsPrice = bills.length ? bills.reduce(getSumBills, 0) : 0;\n\n    return billsPrice;\n  }\n\n  getSumBills(prev, current) {\n    const prevItem = typeof (prev) !== 'number' ? parseInt(prev.querySelector('.price__value').innerText, 10) : prev;\n    const currentItem = current ? parseInt(current.querySelector('.price__value')?.innerText, 10) : 0;\n\n    return prevItem + currentItem;\n  }\n\n  removeRequired(form) {\n    const productItem = form.querySelector('[data-select-type=\"select-product\"]');\n    const productValue = productItem.querySelector('[id-selected]');\n\n    const tariffItem = form.querySelector('[data-select-type=\"select-tariff\"]');\n    const tariffValue = tariffItem.querySelector('[id-selected]');\n\n    const streamItem = form.querySelector('[data-select-type=\"select-stream\"]');\n    const streamValue = streamItem.querySelector('[id-selected]');\n\n    const priceItem = form.querySelector('[price-item]');\n    const priceValue = priceItem.querySelector('[price]');\n\n    const items = [productValue, tariffValue, streamValue, priceValue];\n\n    const status = +form.querySelector('[data-select-type=\"select-status\"] [id-selected]').value;\n\n    if (status === 1) {\n      items.forEach((el) => el.removeAttribute('required'));\n    }\n\n    if (status !== 1) {\n      const itemsInput = [productValue, tariffValue, streamValue, priceValue];\n\n      itemsInput.forEach((el) => el.setAttribute('required', ''));\n\n      if (tariffItem.classList.contains('hide')) {\n        tariffValue.removeAttribute('required');\n      }\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ValidateDeal);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/utils/validation/deal/validateDeal.js?");

/***/ }),

/***/ "./dev/static/js/platform/utils/validation/payment-form/validatePaymentFormBuilder.js":
/*!********************************************************************************************!*\
  !*** ./dev/static/js/platform/utils/validation/payment-form/validatePaymentFormBuilder.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _validationWrapper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../validationWrapper.js */ \"./dev/static/js/platform/utils/validationWrapper.js\");\n\n\nclass ValidationPaymentFormBuilder extends _validationWrapper_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  init(form, isNew) {\n    const name = form.querySelector('[payment-form-name]');\n    const dealType = form.querySelector('[data-select-type=\"select-deal-type\"] [id-selected]');\n    const funnel = form.querySelector('[data-select-type=\"select-funnel\"] [id-selected]');\n    const product = form.querySelector('[data-select-type=\"select-product\"] [id-selected]');\n    const tariff = form.querySelector('[data-select-type=\"select-tariff\"]');\n    const paymentFormLink = form.querySelector('.payment-form__links-wrapper');\n    const conf = form.querySelector('[payment-form-private]');\n    const offer = form.querySelector('[payment-form-offer]');\n    const paymentMethod = form.querySelector('[data-select-type=\"select-payment-method\"] [id-selected]');\n\n    const items = [\n      name,\n      funnel,\n      product,\n      paymentFormLink,\n      dealType,\n      conf,\n      offer,\n      paymentMethod,\n    ];\n\n    if (!tariff.classList.contains('hide')) {\n      const idTariff = tariff.querySelector('[id-selected]');\n      items.push(idTariff);\n    }\n\n    const startDateRadio = Array.from(document.querySelectorAll('[name=\"startDate\"]'));\n\n    const selected = startDateRadio.find((el) => el.checked)?.getAttribute('data-type');\n\n    if (selected === 'one-date') {\n      const oneDateSelect = Array.from(form.querySelectorAll('[one-date-select]'));\n\n      items.push(oneDateSelect);\n    } else {\n      const multiplyDate = form.querySelector('[multiply-date-select] [id-selected]');\n      items.push(multiplyDate);\n    }\n\n    const errors = [];\n    errors.length = 0;\n\n    const namesValues = [];\n\n    const names = document.querySelectorAll('.payment-form__name');\n\n    if (names.length && isNew) {\n      names.forEach((item) => {\n        namesValues.push(item.innerText.trim().toLowerCase());\n      });\n\n      this.checkUniqName(names, name);\n    }\n\n    items.forEach((item) => {\n      if (Array.isArray(item) && item.length) {\n        const nochecked = item.every((el) => !el.checked);\n\n        if (nochecked) {\n          errors.push(item[item.length - 1]);\n          this.setError(item[item.length - 1]);\n        }\n      } else if (!Array.isArray(item) && item && !item.classList.contains('payment-form__links-wrapper') && !item.value) {\n        this.setError(item);\n        errors.push(item);\n      } else if (!Array.isArray(item) && item && item.classList.contains('payment-form__links-wrapper')) {\n        const links = Array.from(item.children);\n\n        const validateLink = links.every((el) => !el.classList.contains('active'));\n\n        if (validateLink) {\n          errors.push(item);\n          this.setError(item);\n        }\n      }\n    });\n\n    const dates = document.querySelector('.payment-form__date-wrapper');\n\n    if (dates.children.length === 0) {\n      this.setError(dates, 'Дата старта отсутсвует');\n      errors.push(dates);\n    }\n\n    return !errors.length;\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ValidationPaymentFormBuilder);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/utils/validation/payment-form/validatePaymentFormBuilder.js?");

/***/ }),

/***/ "./dev/static/js/platform/utils/validationWrapper.js":
/*!***********************************************************!*\
  !*** ./dev/static/js/platform/utils/validationWrapper.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass ValidationWrapper {\n  setError(item, text = 'Заполните поле', settings = false) {\n    const error = document.createElement('div');\n    error.classList.add('validate-error');\n    error.innerText = text;\n\n    const parent = item.parentElement;\n    parent.classList.add('validate-error__wrapper');\n    parent.appendChild(error);\n\n    if (settings === 'contract') {\n      error.style.transform = 'translateY(5px)';\n    } else if (settings === 'planned-date') {\n      error.style.transform = 'translateY(15px)';\n    } else if (settings === 'planned-date-bill') {\n      error.style.transform = 'translateY(30px)';\n    } else if (settings === 'payment') {\n      error.style.transform = 'translateY(15px)';\n    } else if (settings === 'bill-payment-agreements') {\n      error.style.transition = 'all 0s linear';\n\n      if (window.innerWidth <= 328) {\n        error.style.transform = 'translateY(-19px)';\n      } else {\n        error.style.transform = 'translateY(0)';\n      }\n    } else if (!settings) {\n      error.style.transform = 'translateY(0)';\n    }\n\n    setTimeout(() => {\n      parent.classList.remove('validate-error__wrapper');\n      const errorElem = document.querySelector('.validate-error');\n\n      errorElem?.remove();\n    }, 1500);\n  }\n\n  validateDate(date, item) {\n    const dateArray = date.trim().split('.');\n\n    const checkDate = dateArray.length === 3 && dateArray[2];\n    const validateDate = this.checkDate.bind(this);\n    const isError = this.setError.bind(this);\n\n    return checkDate ? validateDate(dateArray, item) : isError(item);\n  }\n\n  isError(item) {\n    if (item) {\n      this.setError(item, 'Формат даты: ДД.ММ.ГГГГ');\n    }\n\n    return false;\n  }\n\n  checkDate(dateArray, item) {\n    if (dateArray[0].length !== 2) {\n      if (item) {\n        this.setError(item, 'Формат даты: ДД.ММ.ГГГГ');\n      }\n\n      return false;\n    }\n\n    if (dateArray[1].length !== 2) {\n      if (item) {\n        this.setError(item, 'Формат даты: ДД.ММ.ГГГГ');\n      }\n\n      return false;\n    }\n\n    if (dateArray[2].length !== 4) {\n      if (item) {\n        this.setError(item, 'Формат даты: ДД.ММ.ГГГГ');\n      }\n\n      return false;\n    }\n\n    return true;\n  }\n\n  checkEmail(email) {\n    return email && email.value.trim().split('@').length === 2 && email.value.trim().split('.').length >= 2;\n  }\n\n  validTel(tel) {\n    const plus = tel.value.trim()[0] === '+' || tel.value.trim()[0] === '8';\n\n    /* eslint-disable-next-line */\n    const allNumbers = tel.value.trim().split('').splice(1, tel.value.trim().length).every((el) => !isNaN(+el));\n\n    return tel && plus && allNumbers;\n  }\n\n  validateUserName(name) {\n    if (!name) return false;\n\n    const smallCharsEng = [];\n\n    for (let i = 'a'.codePointAt(0); i <= 'z'.codePointAt(0); i++) {\n      smallCharsEng.push(i);\n    }\n\n    const capitalCharsEng = [];\n\n    for (let i = 'A'.codePointAt(0); i <= 'Z'.codePointAt(0); i++) {\n      capitalCharsEng.push(i);\n    }\n\n    const smallCharsRu = [];\n\n    for (let i = 'А'.codePointAt(0); i <= 'Я'.codePointAt(0); i++) {\n      smallCharsRu.push(i);\n    }\n\n    const capitalCharsRu = [];\n\n    for (let i = 'а'.codePointAt(0); i <= 'я'.codePointAt(0); i++) {\n      capitalCharsRu.push(i);\n    }\n\n    const nbsp = ' '.codePointAt(0);\n\n    const nameArr = name.value.trim().split('');\n\n    if (nameArr.length) {\n      let validName;\n\n      for (let i = 0; i < nameArr.length; i++) {\n        const item = nameArr[i];\n\n        const smallEng = smallCharsEng.includes(`${item}`.codePointAt(0));\n        const smallRu = smallCharsRu.includes(`${item}`.codePointAt(0));\n        const capitalEng = capitalCharsEng.includes(`${item}`.codePointAt(0));\n        const capitalRu = capitalCharsRu.includes(`${item}`.codePointAt(0));\n        const isNbsp = `${item}`.codePointAt(0) === nbsp;\n\n        if (smallEng || smallRu || capitalEng || capitalRu || isNbsp) {\n          validName = true;\n        } else {\n          validName = false;\n          break;\n        }\n      }\n\n      return validName;\n    }\n  }\n\n  setErrorTelephone(tel) {\n    let textError;\n\n    if (window.innerWidth < 500) {\n      textError = 'Формат телефона: +71234567889\\nили 81234567889';\n\n      this.setError(tel, textError, 'payment');\n    } else {\n      textError = 'Формат телефона: +71234567889 или 81234567889';\n\n      this.setError(tel, textError);\n    }\n  }\n\n  setErrorClientName(name) {\n    let textError;\n\n    if (window.innerWidth < 500) {\n      textError = 'Имя и фамилия - только буквы.\\nПример: Иванов Иван Иванович';\n\n      this.setError(name, textError, 'payment');\n    } else {\n      textError = 'Имя и фамилия - только буквы. Пример: Иванов Иван Иванович';\n\n      this.setError(name, textError);\n    }\n  }\n\n  checkUniqName(namesValues, name) {\n    const isNotUniqueName = Array.from(namesValues).includes(name.value.trim().toLowerCase());\n\n    if (isNotUniqueName) {\n      this.setError(name, 'Имя должно быть уникальным');\n\n      return false;\n    }\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ValidationWrapper);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/platform/utils/validationWrapper.js?");

/***/ }),

/***/ "./dev/static/js/utils/utils.js":
/*!**************************************!*\
  !*** ./dev/static/js/utils/utils.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass Utils {\n\tisDealPage() {\n\t\tconst page = this.getPage();\n\n\t\tconst dealPage = [\n\t\t\t'deals',\n\t\t\t'clients-list',\n\t\t\t'performance-assessment',\n\t\t\t'bills',\n\t\t\t'head-manager-bills',\n\t\t\t'rating',\n\t\t\t'transactions',\n\t\t\t'head-manager-transactions',\n\t\t\t'homework',\n\t\t];\n\n\t\treturn dealPage.includes(page);\n\t}\n\n\tgetIdManager(pack) {\n\t\tconst { role, manager, filter } = pack;\n\n\t\tconst isAdmin = role === 'ROLE_ADMIN' ? filter.idManager : null;\n\t\tconst isManager = (manager && manager.id !== 0) ? manager.id : null;\n\n\t\treturn isAdmin ?? isManager;\n\t}\n\n\tgetPage() {\n\t\tconst url = window.location.href;\n\t\tconst page = url.split('/');\n\n\t\treturn page[page.length - 2];\n\t}\n\n\thideLoader() {\n\t\tconst loader = document.querySelector('.transition-loader');\n\n\t\tif (loader) {\n\t\t\tloader.classList.remove('show');\n\t\t}\n\t}\n\n\tshowLoader() {\n\t\tconst loader = document.querySelector('.transition-loader');\n\n\t\tif (loader) {\n\t\t\tloader.classList.add('show');\n\t\t}\n\t}\n\n\tgetDateFormatDDMMYYYY(date) {\n\t\tconst dateArr = date.split('.').length > 1 ? date.split('.') : date.split('-');\n\n\t\tconst badYear = (dateArr[2].length !== 4 && dateArr[0].length === 2) ? 'bad-year' : '';\n\t\tconst badDay = dateArr[0].length === 4 ? 'bad-day' : '';\n\n\t\tconst formattedDate = badYear || badDay || 'default';\n\n\t\tswitch (formattedDate) {\n\t\t\tcase 'bad-year': {\n\t\t\t\tconst yearFormat = `20${dateArr[2]}`;\n\t\t\t\tconst dateFormat = `${dateArr[0]}.${dateArr[1]}.${yearFormat}`;\n\n\t\t\t\treturn dateFormat;\n\t\t\t}\n\t\t\tcase 'bad-day': {\n\t\t\t\tconst dateFormat = `${dateArr[2]}.${dateArr[1]}.${dateArr[0]}`;\n\n\t\t\t\treturn dateFormat;\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\treturn date;\n\t\t\t}\n\t\t}\n\t}\n\n\tchangeDealStatuses(statuses) {\n\t\tconst status = statuses.concat();\n\t\tconst unknow = status.splice(status.length - 1, status.length - 1)[0];\n\t\tconst startArr = status.splice(0, 4);\n\n\t\tstartArr.push(unknow);\n\n\t\tstatus.forEach((item) => {\n\t\t\tstartArr.push(item);\n\t\t});\n\n\t\treturn startArr;\n\t}\n\n\topenModalAnimation(modal, isOverflowed) {\n\t\tmodal.classList.add('open');\n\t\tmodal.classList.add('black');\n\n\t\tsetTimeout(() => {\n\t\t\tmodal.style.opacity = '1';\n\t\t}, 100);\n\n\t\tconst filter = modal.querySelector('.filter__wrapper');\n\n\t\tif (filter) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tfilter.style.top = '0';\n\t\t\t}, 100);\n\t\t} else {\n\t\t\tsetTimeout(() => {\n\t\t\t\tconst modalWindow = modal.querySelector('.platform-modal__wrapper');\n\t\t\t\tmodalWindow.style.right = '0';\n\t\t\t}, 0);\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tconst modalContent = modal.querySelector('.platform-modal__content');\n\n\t\t\t\tif (modalContent) {\n\t\t\t\t\tmodalContent.style.right = '0';\n\t\t\t\t}\n\t\t\t}, 0);\n\t\t}\n\n\t\tthis.setOverflow(isOverflowed);\n\t}\n\n\tcloseModalAnimation(modal, wrapper, isFilter, isOverflowed = null) {\n\t\tif (isFilter) {\n\t\t\tthis.closeFilter(modal, wrapper);\n\t\t} else {\n\t\t\tthis.closeMenu(modal, wrapper);\n\t\t}\n\n\t\tthis.setOverflow(isOverflowed);\n\t}\n\n\tcloseFilter(modal, wrapper) {\n\t\twrapper.style.top = '-150%';\n\n\t\tsetTimeout(() => {\n\t\t\tmodal.style.opacity = '0';\n\t\t}, 200);\n\n\t\tsetTimeout(() => {\n\t\t\tmodal.classList.remove('open');\n\t\t}, 400);\n\t}\n\n\tcloseMenu(modal, wrapper) {\n\t\twrapper.style.right = '-100%';\n\t\tconst content = wrapper.querySelector('.platform-modal__content');\n\n\t\tif (content) {\n\t\t\tcontent.style.right = '-100%';\n\t\t}\n\n\t\tsetTimeout(() => {\n\t\t\tmodal.style.opacity = '0';\n\t\t}, 500);\n\n\t\tsetTimeout(() => {\n\t\t\tmodal.classList.remove('open');\n\t\t}, 700);\n\t}\n\n\tsetOverflow(isOverflowed) {\n\t\tif (isOverflowed) {\n\t\t\tdocument.body.style.overflow = 'hidden';\n\t\t} else if (!isOverflowed && isOverflowed !== null) {\n\t\t\tdocument.body.style.overflow = 'auto';\n\t\t}\n\t}\n\n\tsetCloneElement(item) {\n\t\tconst itemClone = item.cloneNode(true);\n\n\t\tconst haveSibling = item.nextElementSibling;\n\n\t\tconst insert = this.insertBeforeElement.bind(this, item, itemClone);\n\t\tconst append = this.appendChildElement.bind(this, item, itemClone);\n\n\t\treturn haveSibling ? insert() : append();\n\t}\n\n\tinsertBeforeElement(item, itemClone) {\n\t\titem.parentNode.insertBefore(itemClone, item.nextElementSibling);\n\t\titem.remove();\n\n\t\treturn itemClone;\n\t}\n\n\tappendChildElement(item, itemClone) {\n\t\titem.parentNode.appendChild(itemClone);\n\t\titem.remove();\n\n\t\treturn itemClone;\n\t}\n\n\tgetParent(element, cls) {\n\t\twhile ((element = element.parentElement) && !element.classList.contains(cls));\n\n\t\treturn element;\n\t}\n\n\tcopyLink(value) {\n\t\tconst body = document.querySelector('body');\n\t\tconst tmp = this.setTextArea();\n\n\t\ttmp.innerText = value;\n\n\t\tbody.appendChild(tmp);\n\n\t\tdocument.querySelector('.tmp').select();\n\t\tdocument.execCommand('copy');\n\t\ttmp.remove();\n\t}\n\n\tsetTextArea() {\n\t\tconst tmp = document.createElement('textarea');\n\t\ttmp.classList.add('tmp');\n\n\t\treturn tmp;\n\t}\n\n\tgetCssProperty(element, property) {\n\t\treturn window.getComputedStyle(element, null).getPropertyValue(`${property}`);\n\t}\n\n\tremoveChildren(item, index) {\n\t\tif (index || index === 0) {\n\t\t\tArray.from(item.children).forEach((elem, count) => {\n\t\t\t\tif (count !== index) {\n\t\t\t\t\telem.remove();\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tArray.from(item.children).forEach((elem) => {\n\t\t\t\telem.remove();\n\t\t\t});\n\t\t}\n\t}\n\n\tasync setPreRemoveWindow(text, settings) {\n\t\tconst wrapper = document.createElement('div');\n\t\twrapper.classList.add('platform-remove__wrapper');\n\t\tdocument.body.appendChild(wrapper);\n\n\t\tconst wrapperVisible = new Promise((resolve) => {\n\t\t\tsetTimeout(resolve, 50);\n\t\t});\n\n\t\tconst setPopup = new Promise((resolve) => {\n\t\t\tsetTimeout(resolve, 150);\n\t\t});\n\n\t\tconst popupInViewport = new Promise((resolve) => {\n\t\t\tsetTimeout(resolve, 200);\n\t\t});\n\n\t\tconst setRemovePopup = this.setRemovePopup.bind(this, text, settings);\n\t\tconst setWrapper = this.setWrapper.bind(this);\n\t\tconst removePopupInViewPort = this.removePopupInViewPort.bind(this);\n\n\t\tawait wrapperVisible.then(setWrapper)\n\t\t\t.then(() => setPopup\n\t\t\t\t.then(setRemovePopup))\n\t\t\t.then(() => popupInViewport\n\t\t\t\t.then(removePopupInViewPort));\n\t}\n\n\tsetRemovePopup(text, textAcceptBtn) {\n\t\tconst wrapper = document.querySelector('.platform-remove__wrapper');\n\t\tconst popup = document.createElement('div');\n\t\tpopup.classList.add('platform-remove__popup');\n\t\twrapper.appendChild(popup);\n\n\t\tconst btnWrapper = document.createElement('div');\n\t\tbtnWrapper.classList.add('platform-remove__nav');\n\n\t\tconst done = document.createElement('div');\n\t\tdone.classList.add('platform-form__access-btn');\n\t\tdone.classList.add('done');\n\t\tdone.innerText = textAcceptBtn;\n\n\t\tbtnWrapper.appendChild(done);\n\n\t\tconst cancel = document.createElement('div');\n\t\tcancel.classList.add('platform-form__edit-btn');\n\t\tcancel.classList.add('cancel');\n\t\tcancel.innerText = 'Отмена';\n\n\t\tbtnWrapper.appendChild(cancel);\n\n\t\tconst message = document.createElement('div');\n\t\tmessage.classList.add('platform-remove__message');\n\t\tmessage.innerText = `${text}`;\n\n\t\tpopup.appendChild(message);\n\t\tpopup.appendChild(btnWrapper);\n\t}\n\n\tsetWrapper() {\n\t\tconst wrapper = document.querySelector('.platform-remove__wrapper');\n\t\twrapper.style.opacity = '1';\n\t}\n\n\tremovePopupInViewPort() {\n\t\tconst declineToRemoveForm = this.declineToRemoveForm.bind(this);\n\n\t\tconst popupItem = document.querySelector('.platform-remove__popup');\n\t\tpopupItem.style.top = '60px';\n\n\t\tconst cancelBtn = document.querySelector('.cancel');\n\t\tcancelBtn.addEventListener('click', declineToRemoveForm);\n\t}\n\n\tdeclineToRemoveForm() {\n\t\tconst wrapper = document.querySelector('.platform-remove__wrapper');\n\t\twrapper.style.opacity = '0';\n\n\t\tconst hidePopup = new Promise((resolve) => {\n\t\t\tsetTimeout(resolve, 200);\n\t\t});\n\n\t\thidePopup.then(() => {\n\t\t\twrapper.remove();\n\t\t});\n\t}\n\n\tremovePopup() {\n\t\tconst removeWrapper = document.querySelector('.platform-remove__wrapper');\n\t\tremoveWrapper.style.opacity = '0';\n\n\t\tsetTimeout(() => {\n\t\t\tremoveWrapper.remove();\n\t\t}, 200);\n\t}\n\n\tremoveMenuAfterClosed(menu, dealMenu = false) {\n\t\tsetTimeout(() => {\n\t\t\tconst isOpen = this.getCssProperty(menu, 'right') === '0px';\n\n\t\t\tif (!isOpen) {\n\t\t\t\tif (dealMenu) {\n\t\t\t\t\tmenu.querySelector('.nav__left').innerText = '';\n\t\t\t\t}\n\n\t\t\t\tthis.setCloneElement(menu);\n\t\t\t}\n\t\t}, 800);\n\t}\n\n\tgetSelected(select) {\n\t\treturn Array.from(select.children).filter((el) => el.selected)[0];\n\t}\n\n\tchangeArrayStatuses(dealStatuses) {\n\t\tconst status = dealStatuses.concat();\n\t\tconst unknow = status.splice(status.length - 1, status.length - 1)[0];\n\t\tconst startArr = status.splice(0, 4);\n\n\t\tstartArr.push(unknow);\n\n\t\tstatus.forEach((item) => {\n\t\t\tstartArr.push(item);\n\t\t});\n\n\t\treturn startArr;\n\t}\n\n\tfindRecord(element, eventsArray) {\n\t\tfor (let i = 0; i < eventsArray.length; i++) {\n\t\t\tconst record = eventsArray[i];\n\n\t\t\tif (element == record.element) {\n\t\t\t\treturn record;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\taddListener(element, event, listener, options, eventsArray) {\n\t\tlet record = this.findRecord(element, eventsArray);\n\n\t\tif (record) {\n\t\t\trecord.listeners[event] = record.listeners[event] || [];\n\t\t} else {\n\t\t\trecord = {\n\t\t\t\telement,\n\t\t\t\tlisteners: {},\n\t\t\t};\n\n\t\t\trecord.listeners[event] = [];\n\n\t\t\teventsArray.push(record);\n\t\t}\n\n\t\trecord.listeners[event].push(listener);\n\t\telement.addEventListener(event, listener, options);\n\t}\n\n\tcheckListener(element, event, listener, eventsArray) {\n\t\tconst record = this.findRecord(element, eventsArray);\n\n\t\tif (record && event in record.listeners) {\n\t\t\treturn !!~record.listeners[event].indexOf(listener);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tremoveListener(element, event, listener, options, eventsArray) {\n\t\tconst record = this.findRecord(element, eventsArray);\n\n\t\tif (record && event in record.listeners) {\n\t\t\tconst index = record.listeners[event].indexOf(listener);\n\n\t\t\tif (~index) {\n\t\t\t\trecord.listeners[event].splice(index, 1);\n\t\t\t}\n\n\t\t\tif (!record.listeners[event].length) {\n\t\t\t\tdelete record.listeners[event];\n\t\t\t}\n\t\t}\n\n\t\telement.removeEventListener(event, listener, options);\n\t}\n\n\tadaptivePhotos(photos) {\n\t\tif (photos.length) {\n\t\t\tphotos.forEach((item) => {\n\t\t\t\tthis.setAdaptivePhoto(item);\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setAdaptivePhoto(photos);\n\t\t}\n\t}\n\n\tsetAdaptivePhoto(item) {\n\t\tconst resolution = item.naturalWidth / item.naturalHeight;\n\n\t\tif (resolution < 1) {\n\t\t\titem.style.width = '100%';\n\t\t\titem.style.height = 'auto';\n\t\t} else if (resolution === 1) {\n\t\t\titem.style.width = '100%';\n\t\t\titem.style.height = '100%';\n\t\t} else if (resolution > 1) {\n\t\t\titem.style.width = 'auto';\n\t\t\titem.style.height = '100%';\n\t\t}\n\t}\n\n\tchangeItemsAccess(arr, callback, auto) {\n\t\tlet i = 0;\n\t\tconst timer = setInterval(() => {\n\t\t\tif (i >= arr.length) {\n\t\t\t\tclearInterval(timer);\n\t\t\t} else {\n\t\t\t\tif (arr[i]) {\n\t\t\t\t\tcallback(arr[i], auto);\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t}\n\t\t}, 10);\n\t}\n\n\tsetPreloaderToTab() {\n\t\tconst span = document.createElement('span');\n\t\tspan.classList.add('platform__empty');\n\t\tspan.innerText = 'Загрузка...';\n\n\t\treturn span;\n\t}\n\n\tblockTabs(tabPack) {\n\t\tconst { menu } = tabPack;\n\n\t\tconst tabItems = menu.querySelectorAll('.client-tab__item');\n\n\t\ttabItems.forEach((item) => {\n\t\t\titem.style.pointerEvents = 'none';\n\t\t});\n\t}\n\n\tunBlockTabs(tabPack) {\n\t\tconst { menu } = tabPack;\n\n\t\tconst tabItems = menu.querySelectorAll('.client-tab__item');\n\n\t\ttabItems.forEach((item) => {\n\t\t\titem.style.pointerEvents = 'all';\n\t\t});\n\t}\n\n\tsortingArrayTasks(array) {\n\t\tconst done = array.filter((el) => el.done);\n\t\tconst now = array.filter((el) => !el.done);\n\n\t\tconst arraySorted = this.arraySorted.bind(this);\n\n\t\tconst nowSorted = now.sort(arraySorted);\n\n\t\tconst today = nowSorted.filter((el) => el.reminderToday);\n\t\tconst notEmptyToday = today.length !== 0;\n\n\t\tswitch (notEmptyToday) {\n\t\t\tcase true: {\n\t\t\t\tconst notTodayNotDone = nowSorted.filter((el) => {\n\t\t\t\t\tlet element;\n\n\t\t\t\t\ttoday.forEach((item) => {\n\t\t\t\t\t\tif (item.id !== el.id) {\n\t\t\t\t\t\t\telement = el;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\treturn element;\n\t\t\t\t});\n\n\t\t\t\tconst notTodayExpiration = notTodayNotDone.filter((el) => el.reminderExpiration);\n\n\t\t\t\tnotTodayExpiration.forEach((item) => {\n\t\t\t\t\ttoday.push(item);\n\t\t\t\t});\n\n\t\t\t\tconst notTodayNotExpiration = notTodayNotDone.filter((el) => !el.reminderExpiration);\n\n\t\t\t\tnotTodayNotExpiration.forEach((item) => {\n\t\t\t\t\ttoday.push(item);\n\t\t\t\t});\n\n\t\t\t\tconst doneSorted = done.sort(arraySorted);\n\n\t\t\t\tdoneSorted.forEach((item) => {\n\t\t\t\t\ttoday.push(item);\n\t\t\t\t});\n\n\t\t\t\treturn today;\n\t\t\t}\n\t\t\tcase false: {\n\t\t\t\tconst doneSorted = done.sort(arraySorted);\n\n\t\t\t\tdoneSorted.forEach((item) => {\n\t\t\t\t\tnowSorted.push(item);\n\t\t\t\t});\n\n\t\t\t\treturn nowSorted;\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\tarraySorted(a, b) {\n\t\tconst year = `${new Date().getFullYear()}`.split('')[0] + `${new Date().getFullYear()}`.split('')[1];\n\n\t\tlet yearResultOne;\n\t\tlet monthResultOne;\n\t\tlet dayResultOne;\n\n\t\tif (a.reminderDate) {\n\t\t\tyearResultOne = year + a.reminderDate.split('.')[2];\n\n\t\t\tif (a.reminderDate.split('.')[1].split('')[0] === '0') {\n\t\t\t\tmonthResultOne = +a.reminderDate.split('.')[1].split('')[1];\n\t\t\t} else {\n\t\t\t\tmonthResultOne = +a.reminderDate.split('.')[1];\n\t\t\t}\n\n\t\t\tif (a.reminderDate.split('.')[0].split('')[0] === '0') {\n\t\t\t\tdayResultOne = +a.reminderDate.split('.')[0].split('')[1];\n\t\t\t} else {\n\t\t\t\tdayResultOne = +a.reminderDate.split('.')[0];\n\t\t\t}\n\t\t}\n\n\t\tlet monthResultTwo;\n\t\tlet dayResultTwo;\n\t\tlet yearResultTwo;\n\n\t\tif (b.reminderDate) {\n\t\t\tyearResultTwo = year + b.reminderDate.split('.')[2];\n\n\t\t\tif (b.reminderDate.split('.')[1].split('')[0] === '0') {\n\t\t\t\tmonthResultTwo = +b.reminderDate.split('.')[1].split('')[1];\n\t\t\t} else {\n\t\t\t\tmonthResultTwo = +b.reminderDate.split('.')[1];\n\t\t\t}\n\n\t\t\tif (b.reminderDate.split('.')[0].split('')[0] === '0') {\n\t\t\t\tdayResultTwo = +b.reminderDate.split('.')[0].split('')[1];\n\t\t\t} else {\n\t\t\t\tdayResultTwo = +b.reminderDate.split('.')[0];\n\t\t\t}\n\t\t}\n\n\t\tconst reultOne = yearResultOne && monthResultOne && dayResultOne;\n\t\tconst resultTwo = yearResultTwo && monthResultTwo && dayResultTwo;\n\n\t\tconst result = reultOne && resultTwo;\n\n\t\tconst resultValues = [\n\t\t\tyearResultOne,\n\t\t\tmonthResultOne,\n\t\t\tdayResultOne,\n\t\t\tyearResultTwo,\n\t\t\tmonthResultTwo,\n\t\t\tdayResultTwo,\n\t\t];\n\n\t\tconst getDifferenceDate = this.getDifferenceDate.bind(this);\n\n\t\treturn result ? getDifferenceDate(resultValues) : false;\n\t}\n\n\tgetDifferenceDate(resultValues) {\n\t\tconst [\n\t\t\tyearResultOne,\n\t\t\tmonthResultOne,\n\t\t\tdayResultOne,\n\t\t\tyearResultTwo,\n\t\t\tmonthResultTwo,\n\t\t\tdayResultTwo] = resultValues;\n\n\t\tconst dateOne = new Date(+yearResultOne, monthResultOne - 1, dayResultOne);\n\t\tconst dateTwo = new Date(+yearResultTwo, monthResultTwo - 1, dayResultTwo);\n\n\t\treturn dateOne.getTime() - dateTwo.getTime();\n\t}\n\n\tisFunnelPage() {\n\t\tconst page = this.getPage();\n\n\t\tconst funnelPage = [\n\t\t\t'funnels',\n\t\t];\n\n\t\treturn funnelPage.includes(page);\n\t}\n\n\ttoday() {\n\t\tconst day = String(new Date().getDate());\n\n\t\tlet dayFormatted;\n\n\t\tif (day.length === 1) {\n\t\t\tdayFormatted = 0 + day;\n\t\t} else {\n\t\t\tdayFormatted = day;\n\t\t}\n\n\t\tconst month = String(new Date().getMonth() + 1);\n\n\t\tlet monthFormatted;\n\n\t\tif (month.length === 1) {\n\t\t\tmonthFormatted = 0 + month;\n\t\t} else {\n\t\t\tmonthFormatted = month;\n\t\t}\n\n\t\tconst year = String(new Date().getFullYear());\n\n\t\treturn `${dayFormatted}.${monthFormatted}.${year}`;\n\t}\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Utils);\n\n\n//# sourceURL=webpack://guru-front/./dev/static/js/utils/utils.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./dev/static/js/platform/platform.js");
/******/ 	
/******/ })()
;