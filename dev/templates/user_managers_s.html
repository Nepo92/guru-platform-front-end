<html lang="ru" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Пользователи">
    <title>Продажи</title>
    <th:block th:insert="base :: links" />
</head>

<body class="page">
    <div class="page__content">
        <div th:replace="base :: main-nav (logoClass='main-nav__logo_white')"></div>

        <div class="main-content">
            <!--<div th:replace="base :: settings-said-nav"></div>-->
            <div class="content-top">
                <div th:replace="base :: users-nav"></div>
            </div>
            <div class="content-main">
                <div class="content-main__panel content-main__panel_large">
                    <div js-create-user class="button button_add">Добавить менеджера</div>
                </div>
                <div class="content-main__wrapper">
                    <div class="content-main__panel content-main__panel_align content-main__panel_large content-main__panel_p">
                        <table class="custom-table">
                            <thead class="custom-table__header">
                            <tr class="custom-table__header-row">
                                <td class="custom-table__header-col custom-table__header-col_big">#</td>
                                <td class="custom-table__header-col custom-table__header-col_big"></td>
                                <td class="custom-table__header-col custom-table__header-col_big">Имя</td>
                                <td class="custom-table__header-col custom-table__header-col_big">Логин</td>
                                <td class="custom-table__header-col custom-table__header-col_big">Пароль</td>
                                <td class="custom-table__header-col custom-table__header-col_big">Телефон</td>
                                <td class="custom-table__header-col custom-table__header-col_big">Ссылка ВК</td>
                                <td class="custom-table__header-col custom-table__header-col_big">Номер карты</td>
                                <td class="custom-table__header-col custom-table__header-col_big">День рождения</td>
                                <td class="custom-table__header-col custom-table__header-col_big">Ключ</td>
                                <td class="custom-table__header-col custom-table__header-col_big">Тип</td>
                                <td class="custom-table__header-col custom-table__header-col_big">Статус</td>
                                <td class="custom-table__header-col custom-table__header-col_big"></td>
                            </tr>
                            </thead>
                            <tbody class="custom-table__body custom-table__body_white">
                            <tr th:attr="data-manager=${manager.id}" class="custom-table__body-row" th:each="manager, stat : ${managers}">
                                <input type="hidden" u-id th:value="${manager.id}" name="id" required>
                                <td class="custom-table__body-col" th:utext="${manager.idManager}"></td>
                                <td class="custom-table__body-col">
                                    <div class="avatar-upload">
                                        <form u-upload-avatar-form action="#" enctype="multipart/form-data">
                                            <input type="hidden" th:value="${manager.idManager}" name="id" required>
                                            <input u-upload-avatar accept="image/*,image/jpeg" class="input-file" name="file" type="file" th:id="'avatar' + ${stat.index}">
                                            <label th:for="'avatar' + ${stat.index}">
                                            <span class="avatar-upload__upload" th:classappend="${#strings.isEmpty(manager.avatar) ? 'avatar-upload__upload_default-user' : ''}">
                                                <img th:if="${!#strings.isEmpty(manager.avatar)}" th:src="'/' + ${manager.avatar}" alt="">
                                            </span>
                                            </label>
                                        </form>
                                    </div>
                                </td>
                                <td class="custom-table__body-col custom-table__body-col_xlarge" >
                                    <input u-name name="name"
                                           class="menu-input__input menu-input__input_small editable"
                                           th:attr="title=${manager.name}"
                                           th:value="${manager.name}"
                                           disabled
                                           placeholder="—">
                                </td>
                                <td class="custom-table__body-col custom-table__body-col_xlarge">
                                    <input u-username name="username"
                                           class="menu-input__input menu-input__input_small editable"
                                           th:attr="title=${manager.username}"
                                           th:value="${manager.username}"
                                           disabled
                                           placeholder="—"
                                           required>
                                </td>
                                <td class="custom-table__body-col custom-table__body-col_medium">
                                    <input u-password name="password"
                                           class="menu-input__input menu-input__input_small editable"
                                           th:value="${''}"
                                           disabled
                                           placeholder="✱✱✱✱✱✱"
                                           required>
                                </td>
                                <td class="custom-table__body-col custom-table__body-col_medium">
                                    <input u-phone name="phone"
                                           class="menu-input__input menu-input__input_small editable"
                                           th:attr="title=${manager.phone}"
                                           th:value="${manager.phone}"
                                           disabled
                                           placeholder="—">
                                </td>
                                <td class="custom-table__body-col custom-table__body-col_medium">
                                    <input u-link name="link"
                                           class="menu-input__input menu-input__input_small editable"
                                           th:attr="title=${manager.link}"
                                           th:value="${manager.link}"
                                           disabled
                                           placeholder="—">
                                </td>
                                <td class="custom-table__body-col custom-table__body-col_medium">
                                    <input u-doorscardnumber name="doorsCardNumber"
                                           class="menu-input__input menu-input__input_small editable"
                                           th:attr="title=${manager.doorsCardNumber}"
                                           th:value="${manager.doorsCardNumber}"
                                           disabled
                                           placeholder="—">
                                </td>
                                <td class="custom-table__body-col custom-table__body-col_small">
                                    <input u-birthday
                                           data-position="top left"
                                           name="birthday"
                                           class="datepicker-here-cs menu-input__input menu-input__input_small editable"
                                           autocomplete="off"
                                           th:value="${manager.birthday}"
                                           disabled
                                           data-autoclose="true"
                                           placeholder="—">
                                </td>
                                <td class="custom-table__body-col">
                                    <div class="input-element__checkbox input-element__checkbox_mid">
                                        <input u-ishaskey
                                               name="isHasKey"
                                               type="checkbox"
                                               class="checkbox"
                                               value="true"
                                               disabled
                                               th:id="'key' + ${stat.index}"
                                               th:checked="${manager.isHasKey}">
                                        <label class="checkbox-label checkbox-label_gray" th:for="'key' + ${stat.index}"></label>
                                    </div>
                                </td>
                                <td class="custom-table__body-col custom-table__body-col_medium">
                                    <div u-type-wrapper class="menu-input__wrapper menu-input__wrapper_select disabled">
                                        <select u-type-selector disabled class="editable menu-input__input menu-input__input_medium menu-input__input_select menu-input__input_white">
                                            <option th:value="0" disabled>Выберите тип</option>
                                            <option th:each="type : ${types}"
                                                    th:attr="data-code=${type.code}"
                                                    th:value="${type.id}"
                                                    th:utext="${type.title}"
                                                    th:selected="${type.id == manager.type}"
                                            ></option>
                                        </select>
                                    </div>
                                </td>
                                <td class="custom-table__body-col custom-table__body-col_medium">
                                    <div u-dismiss-wrapper class="indicated-select menu-input__wrapper menu-input__wrapper_select disabled" th:classappend="'indicated-select_' + ${manager.isNotDisMiss}">
                                        <select u-dismiss-selector disabled class="editable menu-input__input menu-input__input_xsmall menu-input__input_select menu-input__input_white">
                                            <option value="true" th:selected="${true == manager.isNotDisMiss}">Работает</option>
                                            <option value="false" th:selected="${false == manager.isNotDisMiss}">Уволен</option>
                                        </select>
                                    </div>
                                </td>
                                <td class="custom-table__body-col custom-table__body-col_last">
                                    <div edit-btns class="column-links display-flex-none">
                                        <div edit-user-accept class="column_mwidth column_mwidth-accept"></div>
                                        <div edit-user-cancel class="column_mwidth column_mwidth-cancel"></div>
                                    </div>
                                    <div edit-menu class="column-links display-flex-none is-open">
                                        <div edit-user class="column_mwidth div-table__body-col_center column_mwidth-edit column_mwidth-edit-b"></div>
                                    </div>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

<div th:replace="base :: transition-loader"></div>
<script th:src="@{/js/transition-loader.js}"></script>
<script th:inline='javascript'>
    /*<![CDATA[*/
    showLoader();
/*]]>*/
</script>

<div th:replace="base :: menu-create-user-manager"></div>

<th:block th:insert="base :: scripts" />
<script th:src="@{/js/users-menu.js}"></script>
<script th:inline='javascript'>
    /*<![CDATA[*/
    var filter = null;
    var role = null;
    var items = null;
    var today = null;
    var manager = null;
    var company = null;
    var managers = null;
    var socials = null;
    /*]]>*/
</script>
</body>
</html>